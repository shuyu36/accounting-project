(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wc(t,e){const n=new Set(t.split(","));return e?r=>n.has(r.toLowerCase()):r=>n.has(r)}const Pe={},Ns=[],xt=()=>{},u0=()=>!1,$o=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),nf=t=>t.startsWith("onUpdate:"),$e=Object.assign,rf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},h0=Object.prototype.hasOwnProperty,Ae=(t,e)=>h0.call(t,e),ee=Array.isArray,xs=t=>pi(t)==="[object Map]",ms=t=>pi(t)==="[object Set]",lp=t=>pi(t)==="[object Date]",f0=t=>pi(t)==="[object RegExp]",oe=t=>typeof t=="function",je=t=>typeof t=="string",zn=t=>typeof t=="symbol",Ne=t=>t!==null&&typeof t=="object",sf=t=>(Ne(t)||oe(t))&&oe(t.then)&&oe(t.catch),s_=Object.prototype.toString,pi=t=>s_.call(t),d0=t=>pi(t).slice(8,-1),i_=t=>pi(t)==="[object Object]",of=t=>je(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vs=Wc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kc=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},p0=/-(\w)/g,Ot=Kc(t=>t.replace(p0,(e,n)=>n?n.toUpperCase():"")),m0=/\B([A-Z])/g,jt=Kc(t=>t.replace(m0,"-$1").toLowerCase()),jo=Kc(t=>t.charAt(0).toUpperCase()+t.slice(1)),Wi=Kc(t=>t?`on${jo(t)}`:""),sn=(t,e)=>!Object.is(t,e),Ls=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},o_=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},cc=t=>{const e=parseFloat(t);return isNaN(e)?t:e},lc=t=>{const e=je(t)?Number(t):NaN;return isNaN(e)?t:e};let up;const a_=()=>up||(up=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),g0="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",_0=Wc(g0);function mi(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=je(r)?w0(r):mi(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(je(t)||Ne(t))return t}const y0=/;(?![^(]*\))/g,v0=/:([^]+)/,E0=/\/\*[^]*?\*\//g;function w0(t){const e={};return t.replace(E0,"").split(y0).forEach(n=>{if(n){const r=n.split(v0);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gi(t){let e="";if(je(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const r=gi(t[n]);r&&(e+=r+" ")}else if(Ne(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function T0(t){if(!t)return null;let{class:e,style:n}=t;return e&&!je(e)&&(t.class=gi(e)),n&&(t.style=mi(n)),t}const b0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",I0=Wc(b0);function c_(t){return!!t||t===""}function A0(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Rr(t[r],e[r]);return n}function Rr(t,e){if(t===e)return!0;let n=lp(t),r=lp(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=zn(t),r=zn(e),n||r)return t===e;if(n=ee(t),r=ee(e),n||r)return n&&r?A0(t,e):!1;if(n=Ne(t),r=Ne(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Rr(t[o],e[o]))return!1}}return String(t)===String(e)}function zc(t,e){return t.findIndex(n=>Rr(n,e))}const Bt=t=>je(t)?t:t==null?"":ee(t)||Ne(t)&&(t.toString===s_||!oe(t.toString))?JSON.stringify(t,l_,2):String(t),l_=(t,e)=>e&&e.__v_isRef?l_(t,e.value):xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[nu(r,i)+" =>"]=s,n),{})}:ms(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>nu(n))}:zn(e)?nu(e):Ne(e)&&!ee(e)&&!i_(e)?String(e):e,nu=(t,e="")=>{var n;return zn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class af{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ut,!e&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ut;try{return Ut=this,e()}finally{Ut=n}}}on(){Ut=this}off(){Ut=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function cf(t){return new af(t)}function u_(t,e=Ut){e&&e.active&&e.effects.push(t)}function lf(){return Ut}function h_(t){Ut&&Ut.cleanups.push(t)}let Xr;class zs{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,u_(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(S0(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=wr,n=Xr;try{return wr=!0,Xr=this,this._runnings++,hp(this),this.fn()}finally{fp(this),this._runnings--,Xr=n,wr=e}}stop(){var e;this.active&&(hp(this),fp(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function S0(t){return t.value}function hp(t){t._trackId++,t._depsLength=0}function fp(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)f_(t.deps[e],t);t.deps.length=t._depsLength}}function f_(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}function R0(t,e){t.effect instanceof zs&&(t=t.effect.fn);const n=new zs(t,xt,()=>{n.dirty&&n.run()});e&&($e(n,e),e.scope&&u_(n,e.scope)),(!e||!e.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function C0(t){t.effect.stop()}let wr=!0,$u=0;const d_=[];function Nr(){d_.push(wr),wr=!1}function xr(){const t=d_.pop();wr=t===void 0?!0:t}function uf(){$u++}function hf(){for($u--;!$u&&ju.length;)ju.shift()()}function p_(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&f_(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const ju=[];function m_(t,e,n){uf();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&ju.push(r.scheduler)))}hf()}const g_=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},uc=new WeakMap,Zr=Symbol(""),Hu=Symbol("");function Lt(t,e,n){if(wr&&Xr){let r=uc.get(t);r||uc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=g_(()=>r.delete(n))),p_(Xr,s)}}function Bn(t,e,n,r,s,i){const o=uc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ee(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!zn(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ee(t)?of(n)&&a.push(o.get("length")):(a.push(o.get(Zr)),xs(t)&&a.push(o.get(Hu)));break;case"delete":ee(t)||(a.push(o.get(Zr)),xs(t)&&a.push(o.get(Hu)));break;case"set":xs(t)&&a.push(o.get(Zr));break}uf();for(const c of a)c&&m_(c,4);hf()}function P0(t,e){var n;return(n=uc.get(t))==null?void 0:n.get(e)}const O0=Wc("__proto__,__v_isRef,__isVue"),__=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(zn)),dp=k0();function k0(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=_e(this);for(let i=0,o=this.length;i<o;i++)Lt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(_e)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Nr(),uf();const r=_e(this)[e].apply(this,n);return hf(),xr(),r}}),t}function D0(t){zn(t)||(t=String(t));const e=_e(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class y_{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?I_:b_:i?T_:w_).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=ee(e);if(!s){if(o&&Ae(dp,n))return Reflect.get(dp,n,r);if(n==="hasOwnProperty")return D0}const a=Reflect.get(e,n,r);return(zn(n)?__.has(n):O0(n))||(s||Lt(e,"get",n),i)?a:qe(a)?o&&of(n)?a:a.value:Ne(a)?s?pf(a):Zn(a):a}}class v_ extends y_{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Gs(i);if(!co(r)&&!Gs(r)&&(i=_e(i),r=_e(r)),!ee(e)&&qe(i)&&!qe(r))return c?!1:(i.value=r,!0)}const o=ee(e)&&of(n)?Number(n)<e.length:Ae(e,n),a=Reflect.set(e,n,r,s);return e===_e(s)&&(o?sn(r,i)&&Bn(e,"set",n,r):Bn(e,"add",n,r)),a}deleteProperty(e,n){const r=Ae(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Bn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!zn(n)||!__.has(n))&&Lt(e,"has",n),r}ownKeys(e){return Lt(e,"iterate",ee(e)?"length":Zr),Reflect.ownKeys(e)}}class E_ extends y_{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const N0=new v_,x0=new E_,V0=new v_(!0),L0=new E_(!0),ff=t=>t,Gc=t=>Reflect.getPrototypeOf(t);function wa(t,e,n=!1,r=!1){t=t.__v_raw;const s=_e(t),i=_e(e);n||(sn(e,i)&&Lt(s,"get",e),Lt(s,"get",i));const{has:o}=Gc(s),a=r?ff:n?gf:lo;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function Ta(t,e=!1){const n=this.__v_raw,r=_e(n),s=_e(t);return e||(sn(t,s)&&Lt(r,"has",t),Lt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ba(t,e=!1){return t=t.__v_raw,!e&&Lt(_e(t),"iterate",Zr),Reflect.get(t,"size",t)}function pp(t){t=_e(t);const e=_e(this);return Gc(e).has.call(e,t)||(e.add(t),Bn(e,"add",t,t)),this}function mp(t,e){e=_e(e);const n=_e(this),{has:r,get:s}=Gc(n);let i=r.call(n,t);i||(t=_e(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?sn(e,o)&&Bn(n,"set",t,e):Bn(n,"add",t,e),this}function gp(t){const e=_e(this),{has:n,get:r}=Gc(e);let s=n.call(e,t);s||(t=_e(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Bn(e,"delete",t,void 0),i}function _p(){const t=_e(this),e=t.size!==0,n=t.clear();return e&&Bn(t,"clear",void 0,void 0),n}function Ia(t,e){return function(r,s){const i=this,o=i.__v_raw,a=_e(o),c=e?ff:t?gf:lo;return!t&&Lt(a,"iterate",Zr),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function Aa(t,e,n){return function(...r){const s=this.__v_raw,i=_e(s),o=xs(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?ff:e?gf:lo;return!e&&Lt(i,"iterate",c?Hu:Zr),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function rr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function M0(){const t={get(i){return wa(this,i)},get size(){return ba(this)},has:Ta,add:pp,set:mp,delete:gp,clear:_p,forEach:Ia(!1,!1)},e={get(i){return wa(this,i,!1,!0)},get size(){return ba(this)},has:Ta,add:pp,set:mp,delete:gp,clear:_p,forEach:Ia(!1,!0)},n={get(i){return wa(this,i,!0)},get size(){return ba(this,!0)},has(i){return Ta.call(this,i,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:Ia(!0,!1)},r={get(i){return wa(this,i,!0,!0)},get size(){return ba(this,!0)},has(i){return Ta.call(this,i,!0)},add:rr("add"),set:rr("set"),delete:rr("delete"),clear:rr("clear"),forEach:Ia(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Aa(i,!1,!1),n[i]=Aa(i,!0,!1),e[i]=Aa(i,!1,!0),r[i]=Aa(i,!0,!0)}),[t,n,e,r]}const[F0,U0,B0,$0]=M0();function Qc(t,e){const n=e?t?$0:B0:t?U0:F0;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ae(n,s)&&s in r?n:r,s,i)}const j0={get:Qc(!1,!1)},H0={get:Qc(!1,!0)},q0={get:Qc(!0,!1)},W0={get:Qc(!0,!0)},w_=new WeakMap,T_=new WeakMap,b_=new WeakMap,I_=new WeakMap;function K0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function z0(t){return t.__v_skip||!Object.isExtensible(t)?0:K0(d0(t))}function Zn(t){return Gs(t)?t:Jc(t,!1,N0,j0,w_)}function df(t){return Jc(t,!1,V0,H0,T_)}function pf(t){return Jc(t,!0,x0,q0,b_)}function G0(t){return Jc(t,!0,L0,W0,I_)}function Jc(t,e,n,r,s){if(!Ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=z0(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function $n(t){return Gs(t)?$n(t.__v_raw):!!(t&&t.__v_isReactive)}function Gs(t){return!!(t&&t.__v_isReadonly)}function co(t){return!!(t&&t.__v_isShallow)}function mf(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function Yc(t){return Object.isExtensible(t)&&o_(t,"__v_skip",!0),t}const lo=t=>Ne(t)?Zn(t):t,gf=t=>Ne(t)?pf(t):t;class A_{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zs(()=>e(this._value),()=>Ms(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=_e(this);return(!e._cacheable||e.effect.dirty)&&sn(e._value,e._value=e.effect.run())&&Ms(e,4),_f(e),e.effect._dirtyLevel>=2&&Ms(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Q0(t,e,n=!1){let r,s;const i=oe(t);return i?(r=t,s=xt):(r=t.get,s=t.set),new A_(r,s,i||!s,n)}function _f(t){var e;wr&&Xr&&(t=_e(t),p_(Xr,(e=t.dep)!=null?e:t.dep=g_(()=>t.dep=void 0,t instanceof A_?t:void 0)))}function Ms(t,e=4,n){t=_e(t);const r=t.dep;r&&m_(r,e)}function qe(t){return!!(t&&t.__v_isRef===!0)}function ve(t){return R_(t,!1)}function S_(t){return R_(t,!0)}function R_(t,e){return qe(t)?t:new J0(t,e)}class J0{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:_e(e),this._value=n?e:lo(e)}get value(){return _f(this),this._value}set value(e){const n=this.__v_isShallow||co(e)||Gs(e);e=n?e:_e(e),sn(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:lo(e),Ms(this,4))}}function Y0(t){Ms(t,4)}function Be(t){return qe(t)?t.value:t}function X0(t){return oe(t)?t():Be(t)}const Z0={get:(t,e,n)=>Be(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return qe(s)&&!qe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function yf(t){return $n(t)?t:new Proxy(t,Z0)}class eb{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=e(()=>_f(this),()=>Ms(this));this._get=n,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function C_(t){return new eb(t)}function Xc(t){const e=ee(t)?new Array(t.length):{};for(const n in t)e[n]=O_(t,n);return e}class tb{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return P0(_e(this._object),this._key)}}class nb{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function P_(t,e,n){return qe(t)?t:oe(t)?new nb(t):Ne(t)&&arguments.length>1?O_(t,e,n):ve(t)}function O_(t,e,n){const r=t[e];return qe(r)?r:new tb(t,e,n)}const rb={GET:"get",HAS:"has",ITERATE:"iterate"},sb={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ib(t,e){}const ob={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},ab={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function jn(t,e,n,r){try{return r?t(...r):t()}catch(s){gs(s,e,n)}}function qt(t,e,n,r){if(oe(t)){const s=jn(t,e,n,r);return s&&sf(s)&&s.catch(i=>{gs(i,e,n)}),s}if(ee(t)){const s=[];for(let i=0;i<t.length;i++)s.push(qt(t[i],e,n,r));return s}}function gs(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Nr(),jn(c,null,10,[t,o,a]),xr();return}}cb(t,n,s,r)}function cb(t,e,n,r=!0){console.error(t)}let uo=!1,qu=!1;const Tt=[];let mn=0;const Fs=[];let hr=null,qr=0;const k_=Promise.resolve();let vf=null;function _s(t){const e=vf||k_;return t?e.then(this?t.bind(this):t):e}function lb(t){let e=mn+1,n=Tt.length;for(;e<n;){const r=e+n>>>1,s=Tt[r],i=ho(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Zc(t){(!Tt.length||!Tt.includes(t,uo&&t.allowRecurse?mn+1:mn))&&(t.id==null?Tt.push(t):Tt.splice(lb(t.id),0,t),D_())}function D_(){!uo&&!qu&&(qu=!0,vf=k_.then(N_))}function ub(t){const e=Tt.indexOf(t);e>mn&&Tt.splice(e,1)}function hc(t){ee(t)?Fs.push(...t):(!hr||!hr.includes(t,t.allowRecurse?qr+1:qr))&&Fs.push(t),D_()}function yp(t,e,n=uo?mn+1:0){for(;n<Tt.length;n++){const r=Tt[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Tt.splice(n,1),n--,r()}}}function fc(t){if(Fs.length){const e=[...new Set(Fs)].sort((n,r)=>ho(n)-ho(r));if(Fs.length=0,hr){hr.push(...e);return}for(hr=e,qr=0;qr<hr.length;qr++)hr[qr]();hr=null,qr=0}}const ho=t=>t.id==null?1/0:t.id,hb=(t,e)=>{const n=ho(t)-ho(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function N_(t){qu=!1,uo=!0,Tt.sort(hb);try{for(mn=0;mn<Tt.length;mn++){const e=Tt[mn];e&&e.active!==!1&&jn(e,null,14)}}finally{mn=0,Tt.length=0,fc(),uo=!1,vf=null,(Tt.length||Fs.length)&&N_()}}let Ss,Sa=[];function x_(t,e){var n,r;Ss=t,Ss?(Ss.enabled=!0,Sa.forEach(({event:s,args:i})=>Ss.emit(s,...i)),Sa=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{x_(i,e)}),setTimeout(()=>{Ss||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Sa=[])},3e3)):Sa=[]}function fb(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Pe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||Pe;f&&(s=n.map(d=>je(d)?d.trim():d)),h&&(s=n.map(cc))}let a,c=r[a=Wi(e)]||r[a=Wi(Ot(e))];!c&&i&&(c=r[a=Wi(jt(e))]),c&&qt(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qt(l,t,6,s)}}function V_(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!oe(t)){const c=l=>{const u=V_(l,e,!0);u&&(a=!0,$e(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ne(t)&&r.set(t,null),null):(ee(i)?i.forEach(c=>o[c]=null):$e(o,i),Ne(t)&&r.set(t,o),o)}function el(t,e){return!t||!$o(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ae(t,e[0].toLowerCase()+e.slice(1))||Ae(t,jt(e))||Ae(t,e))}let et=null,tl=null;function fo(t){const e=et;return et=t,tl=t&&t.type.__scopeId||null,e}function db(t){tl=t}function pb(){tl=null}const mb=t=>ct;function ct(t,e=et,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&eh(-1);const i=fo(e);let o;try{o=t(...s)}finally{fo(i),r._d&&eh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wa(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:f,setupState:d,ctx:m,inheritAttrs:y}=t;let E,R;const w=fo(t);try{if(n.shapeFlag&4){const v=s||r,b=v;E=$t(u.call(b,v,h,i,d,f,m)),R=c}else{const v=e;E=$t(v.length>1?v(i,{attrs:c,slots:a,emit:l}):v(i,null)),R=e.props?c:_b(c)}}catch(v){Qi.length=0,gs(v,t,1),E=ae(bt)}let _=E;if(R&&y!==!1){const v=Object.keys(R),{shapeFlag:b}=_;v.length&&b&7&&(o&&v.some(nf)&&(R=yb(R,o)),_=Rn(_,R))}return n.dirs&&(_=Rn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),E=_,fo(w),E}function gb(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(Cr(s)){if(s.type!==bt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const _b=t=>{let e;for(const n in t)(n==="class"||n==="style"||$o(n))&&((e||(e={}))[n]=t[n]);return e},yb=(t,e)=>{const n={};for(const r in t)(!nf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function vb(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?vp(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!el(l,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?vp(r,o,l):!0:!!o;return!1}function vp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!el(n,i))return!0}return!1}function Ef({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const wf="components",Eb="directives";function po(t,e){return Tf(wf,t,!0,e)||t}const L_=Symbol.for("v-ndc");function wb(t){return je(t)?Tf(wf,t,!1)||t:t||L_}function Tb(t){return Tf(Eb,t)}function Tf(t,e,n=!0,r=!1){const s=et||st;if(s){const i=s.type;if(t===wf){const a=ih(i,!1);if(a&&(a===e||a===Ot(e)||a===jo(Ot(e))))return i}const o=Ep(s[t]||i[t],e)||Ep(s.appContext[t],e);return!o&&r?i:o}}function Ep(t,e){return t&&(t[e]||t[Ot(e)]||t[jo(Ot(e))])}const M_=t=>t.__isSuspense;let Wu=0;const bb={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,a,c,l){if(t==null)Ab(e,n,r,s,i,o,a,c,l);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}Sb(t,e,n,r,s,o,a,c,l)}},hydrate:Rb,create:bf,normalize:Cb},Ib=bb;function mo(t,e){const n=t.props&&t.props[e];oe(n)&&n()}function Ab(t,e,n,r,s,i,o,a,c){const{p:l,o:{createElement:u}}=c,h=u("div"),f=t.suspense=bf(t,s,r,e,h,n,i,o,a,c);l(null,f.pendingBranch=t.ssContent,h,null,r,f,i,o),f.deps>0?(mo(t,"onPending"),mo(t,"onFallback"),l(null,t.ssFallback,e,n,r,null,i,o),Us(f,t.ssFallback)):f.resolve(!1,!0)}function Sb(t,e,n,r,s,i,o,a,{p:c,um:l,o:{createElement:u}}){const h=e.suspense=t.suspense;h.vnode=e,e.el=t.el;const f=e.ssContent,d=e.ssFallback,{activeBranch:m,pendingBranch:y,isInFallback:E,isHydrating:R}=h;if(y)h.pendingBranch=f,rn(f,y)?(c(y,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():E&&(R||(c(m,d,n,r,s,null,i,o,a),Us(h,d)))):(h.pendingId=Wu++,R?(h.isHydrating=!1,h.activeBranch=y):l(y,s,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),E?(c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0?h.resolve():(c(m,d,n,r,s,null,i,o,a),Us(h,d))):m&&rn(f,m)?(c(m,f,n,r,s,h,i,o,a),h.resolve(!0)):(c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0&&h.resolve()));else if(m&&rn(f,m))c(m,f,n,r,s,h,i,o,a),Us(h,f);else if(mo(e,"onPending"),h.pendingBranch=f,f.shapeFlag&512?h.pendingId=f.component.suspenseId:h.pendingId=Wu++,c(null,f,h.hiddenContainer,null,s,h,i,o,a),h.deps<=0)h.resolve();else{const{timeout:w,pendingId:_}=h;w>0?setTimeout(()=>{h.pendingId===_&&h.fallback(d)},w):w===0&&h.fallback(d)}}function bf(t,e,n,r,s,i,o,a,c,l,u=!1){const{p:h,m:f,um:d,n:m,o:{parentNode:y,remove:E}}=l;let R;const w=Pb(t);w&&e!=null&&e.pendingBranch&&(R=e.pendingId,e.deps++);const _=t.props?lc(t.props.timeout):void 0,v=i,b={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:Wu++,timeout:typeof _=="number"?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(A=!1,P=!1){const{vnode:T,activeBranch:S,pendingBranch:I,pendingId:F,effects:N,parentComponent:H,container:me}=b;let ue=!1;b.isHydrating?b.isHydrating=!1:A||(ue=S&&I.transition&&I.transition.mode==="out-in",ue&&(S.transition.afterLeave=()=>{F===b.pendingId&&(f(I,me,i===v?m(S):i,0),hc(N))}),S&&(y(S.el)!==b.hiddenContainer&&(i=m(S)),d(S,H,b,!0)),ue||f(I,me,i,0)),Us(b,I),b.pendingBranch=null,b.isInFallback=!1;let B=b.parent,te=!1;for(;B;){if(B.pendingBranch){B.effects.push(...N),te=!0;break}B=B.parent}!te&&!ue&&hc(N),b.effects=[],w&&e&&e.pendingBranch&&R===e.pendingId&&(e.deps--,e.deps===0&&!P&&e.resolve()),mo(T,"onResolve")},fallback(A){if(!b.pendingBranch)return;const{vnode:P,activeBranch:T,parentComponent:S,container:I,namespace:F}=b;mo(P,"onFallback");const N=m(T),H=()=>{b.isInFallback&&(h(null,A,I,N,S,null,F,a,c),Us(b,A))},me=A.transition&&A.transition.mode==="out-in";me&&(T.transition.afterLeave=H),b.isInFallback=!0,d(T,S,null,!0),me||H()},move(A,P,T){b.activeBranch&&f(b.activeBranch,A,P,T),b.container=A},next(){return b.activeBranch&&m(b.activeBranch)},registerDep(A,P){const T=!!b.pendingBranch;T&&b.deps++;const S=A.vnode.el;A.asyncDep.catch(I=>{gs(I,A,0)}).then(I=>{if(A.isUnmounted||b.isUnmounted||b.pendingId!==A.suspenseId)return;A.asyncResolved=!0;const{vnode:F}=A;rh(A,I,!1),S&&(F.el=S);const N=!S&&A.subTree.el;P(A,F,y(S||A.subTree.el),S?null:m(A.subTree),b,o,c),N&&E(N),Ef(A,F.el),T&&--b.deps===0&&b.resolve()})},unmount(A,P){b.isUnmounted=!0,b.activeBranch&&d(b.activeBranch,n,A,P),b.pendingBranch&&d(b.pendingBranch,n,A,P)}};return b}function Rb(t,e,n,r,s,i,o,a,c){const l=e.suspense=bf(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),u=c(t,l.pendingBranch=e.ssContent,n,l,i,o);return l.deps===0&&l.resolve(!1,!0),u}function Cb(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=wp(r?n.default:n),t.ssFallback=r?wp(n.fallback):ae(bt)}function wp(t){let e;if(oe(t)){const n=is&&t._c;n&&(t._d=!1,Ee()),t=t(),n&&(t._d=!0,e=Vt,Ey())}return ee(t)&&(t=gb(t)),t=$t(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function F_(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):hc(t)}function Us(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Ef(r,s))}function Pb(t){var e;return((e=t.props)==null?void 0:e.suspensible)!=null&&t.props.suspensible!==!1}const U_=Symbol.for("v-scx"),B_=()=>Jt(U_);function Ku(t,e){return Ho(t,null,e)}function $_(t,e){return Ho(t,null,{flush:"post"})}function j_(t,e){return Ho(t,null,{flush:"sync"})}const Ra={};function Wt(t,e,n){return Ho(t,e,n)}function Ho(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=Pe){if(e&&i){const A=e;e=(...P)=>{A(...P),b()}}const c=st,l=A=>r===!0?A:zr(A,r===!1?1:void 0);let u,h=!1,f=!1;if(qe(t)?(u=()=>t.value,h=co(t)):$n(t)?(u=()=>l(t),h=!0):ee(t)?(f=!0,h=t.some(A=>$n(A)||co(A)),u=()=>t.map(A=>{if(qe(A))return A.value;if($n(A))return l(A);if(oe(A))return jn(A,c,2)})):oe(t)?e?u=()=>jn(t,c,2):u=()=>(d&&d(),qt(t,c,3,[m])):u=xt,e&&r){const A=u;u=()=>zr(A())}let d,m=A=>{d=_.onStop=()=>{jn(A,c,4),d=_.onStop=void 0}},y;if(Ko)if(m=xt,e?n&&qt(e,c,3,[u(),f?[]:void 0,m]):u(),s==="sync"){const A=B_();y=A.__watcherHandles||(A.__watcherHandles=[])}else return xt;let E=f?new Array(t.length).fill(Ra):Ra;const R=()=>{if(!(!_.active||!_.dirty))if(e){const A=_.run();(r||h||(f?A.some((P,T)=>sn(P,E[T])):sn(A,E)))&&(d&&d(),qt(e,c,3,[A,E===Ra?void 0:f&&E[0]===Ra?[]:E,m]),E=A)}else _.run()};R.allowRecurse=!!e;let w;s==="sync"?w=R:s==="post"?w=()=>ft(R,c&&c.suspense):(R.pre=!0,c&&(R.id=c.uid),w=()=>Zc(R));const _=new zs(u,xt,w),v=lf(),b=()=>{_.stop(),v&&rf(v.effects,_)};return e?n?R():E=_.run():s==="post"?ft(_.run.bind(_),c&&c.suspense):_.run(),y&&y.push(b),b}function Ob(t,e,n){const r=this.proxy,s=je(t)?t.includes(".")?H_(r,t):()=>r[t]:t.bind(r,r);let i;oe(e)?i=e:(i=e.handler,n=e);const o=as(this),a=Ho(s,i.bind(r),n);return o(),a}function H_(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function zr(t,e,n=0,r){if(!Ne(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(r=r||new Set,r.has(t))return t;if(r.add(t),qe(t))zr(t.value,e,n,r);else if(ee(t))for(let s=0;s<t.length;s++)zr(t[s],e,n,r);else if(ms(t)||xs(t))t.forEach(s=>{zr(s,e,n,r)});else if(i_(t))for(const s in t)zr(t[s],e,n,r);return t}function vt(t,e){if(et===null)return t;const n=ol(et)||et.proxy,r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=Pe]=e[s];i&&(oe(i)&&(i={mounted:i,updated:i}),i.deep&&zr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function pn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Nr(),qt(c,n,8,[t.el,a,t,e]),xr())}}const fr=Symbol("_leaveCb"),Ca=Symbol("_enterCb");function If(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return kn(()=>{t.isMounted=!0}),ys(()=>{t.isUnmounting=!0}),t}const Gt=[Function,Array],Af={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gt,onEnter:Gt,onAfterEnter:Gt,onEnterCancelled:Gt,onBeforeLeave:Gt,onLeave:Gt,onAfterLeave:Gt,onLeaveCancelled:Gt,onBeforeAppear:Gt,onAppear:Gt,onAfterAppear:Gt,onAppearCancelled:Gt},kb={name:"BaseTransition",props:Af,setup(t,{slots:e}){const n=tr(),r=If();return()=>{const s=e.default&&nl(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const f of s)if(f.type!==bt){i=f;break}}const o=_e(t),{mode:a}=o;if(r.isLeaving)return ru(i);const c=Tp(i);if(!c)return ru(i);const l=Qs(c,o,r,n);rs(c,l);const u=n.subTree,h=u&&Tp(u);if(h&&h.type!==bt&&!rn(c,h)){const f=Qs(h,o,r,n);if(rs(h,f),a==="out-in")return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ru(i);a==="in-out"&&c.type!==bt&&(f.delayLeave=(d,m,y)=>{const E=W_(r,h);E[String(h.key)]=h,d[fr]=()=>{m(),d[fr]=void 0,delete l.delayedLeave},l.delayedLeave=y})}return i}}},q_=kb;function W_(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Qs(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:l,onEnterCancelled:u,onBeforeLeave:h,onLeave:f,onAfterLeave:d,onLeaveCancelled:m,onBeforeAppear:y,onAppear:E,onAfterAppear:R,onAppearCancelled:w}=e,_=String(t.key),v=W_(n,t),b=(T,S)=>{T&&qt(T,r,9,S)},A=(T,S)=>{const I=S[1];b(T,S),ee(T)?T.every(F=>F.length<=1)&&I():T.length<=1&&I()},P={mode:i,persisted:o,beforeEnter(T){let S=a;if(!n.isMounted)if(s)S=y||a;else return;T[fr]&&T[fr](!0);const I=v[_];I&&rn(t,I)&&I.el[fr]&&I.el[fr](),b(S,[T])},enter(T){let S=c,I=l,F=u;if(!n.isMounted)if(s)S=E||c,I=R||l,F=w||u;else return;let N=!1;const H=T[Ca]=me=>{N||(N=!0,me?b(F,[T]):b(I,[T]),P.delayedLeave&&P.delayedLeave(),T[Ca]=void 0)};S?A(S,[T,H]):H()},leave(T,S){const I=String(t.key);if(T[Ca]&&T[Ca](!0),n.isUnmounting)return S();b(h,[T]);let F=!1;const N=T[fr]=H=>{F||(F=!0,S(),H?b(m,[T]):b(d,[T]),T[fr]=void 0,v[I]===t&&delete v[I])};v[I]=t,f?A(f,[T,N]):N()},clone(T){return Qs(T,e,n,r)}};return P}function ru(t){if(Wo(t))return t=Rn(t),t.children=null,t}function Tp(t){return Wo(t)?t.children?t.children[0]:void 0:t}function rs(t,e){t.shapeFlag&6&&t.component?rs(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function nl(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===Ke?(o.patchFlag&128&&s++,r=r.concat(nl(o.children,e,a))):(e||o.type!==bt)&&r.push(a!=null?Rn(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function qo(t,e){return oe(t)?$e({name:t.name},e,{setup:t}):t}const es=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function Db(t){oe(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,timeout:i,suspensible:o=!0,onError:a}=t;let c=null,l,u=0;const h=()=>(u++,c=null,f()),f=()=>{let d;return c||(d=c=e().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),a)return new Promise((y,E)=>{a(m,()=>y(h()),()=>E(m),u+1)});throw m}).then(m=>d!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),l=m,m)))};return qo({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return l},setup(){const d=st;if(l)return()=>su(l,d);const m=w=>{c=null,gs(w,d,13,!r)};if(o&&d.suspense||Ko)return f().then(w=>()=>su(w,d)).catch(w=>(m(w),()=>r?ae(r,{error:w}):null));const y=ve(!1),E=ve(),R=ve(!!s);return s&&setTimeout(()=>{R.value=!1},s),i!=null&&setTimeout(()=>{if(!y.value&&!E.value){const w=new Error(`Async component timed out after ${i}ms.`);m(w),E.value=w}},i),f().then(()=>{y.value=!0,d.parent&&Wo(d.parent.vnode)&&(d.parent.effect.dirty=!0,Zc(d.parent.update))}).catch(w=>{m(w),E.value=w}),()=>{if(y.value&&l)return su(l,d);if(E.value&&r)return ae(r,{error:E.value});if(n&&!R.value)return ae(n)}}})}function su(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=ae(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Wo=t=>t.type.__isKeepAlive,Nb={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=tr(),r=n.ctx;if(!r.renderer)return()=>{const w=e.default&&e.default();return w&&w.length===1?w[0]:w};const s=new Map,i=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:l,um:u,o:{createElement:h}}}=r,f=h("div");r.activate=(w,_,v,b,A)=>{const P=w.component;l(w,_,v,0,a),c(P.vnode,w,_,v,P,a,b,w.slotScopeIds,A),ft(()=>{P.isDeactivated=!1,P.a&&Ls(P.a);const T=w.props&&w.props.onVnodeMounted;T&&kt(T,P.parent,w)},a)},r.deactivate=w=>{const _=w.component;l(w,f,null,1,a),ft(()=>{_.da&&Ls(_.da);const v=w.props&&w.props.onVnodeUnmounted;v&&kt(v,_.parent,w),_.isDeactivated=!0},a)};function d(w){iu(w),u(w,n,a,!0)}function m(w){s.forEach((_,v)=>{const b=ih(_.type);b&&(!w||!w(b))&&y(v)})}function y(w){const _=s.get(w);!o||!rn(_,o)?d(_):o&&iu(o),s.delete(w),i.delete(w)}Wt(()=>[t.include,t.exclude],([w,_])=>{w&&m(v=>Mi(w,v)),_&&m(v=>!Mi(_,v))},{flush:"post",deep:!0});let E=null;const R=()=>{E!=null&&s.set(E,ou(n.subTree))};return kn(R),sl(R),ys(()=>{s.forEach(w=>{const{subTree:_,suspense:v}=n,b=ou(_);if(w.type===b.type&&w.key===b.key){iu(b);const A=b.component.da;A&&ft(A,v);return}d(w)})}),()=>{if(E=null,!e.default)return o=null;const w=e.default(),_=w[0];if(w.length>1)return o=null,w;if(!Cr(_)||!(_.shapeFlag&4)&&!(_.shapeFlag&128))return o=null,_;let v=ou(_);const b=v.type,A=ih(es(v)?v.type.__asyncResolved||{}:b),{include:P,exclude:T,max:S}=t;if(P&&(!A||!Mi(P,A))||T&&A&&Mi(T,A))return o=v,_;const I=v.key==null?b:v.key,F=s.get(I);return v.el&&(v=Rn(v),_.shapeFlag&128&&(_.ssContent=v)),E=I,F?(v.el=F.el,v.component=F.component,v.transition&&rs(v,v.transition),v.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),S&&i.size>parseInt(S,10)&&y(i.values().next().value)),v.shapeFlag|=256,o=v,M_(_.type)?_:v}}},xb=Nb;function Mi(t,e){return ee(t)?t.some(n=>Mi(n,e)):je(t)?t.split(",").includes(e):f0(t)?t.test(e):!1}function K_(t,e){G_(t,"a",e)}function z_(t,e){G_(t,"da",e)}function G_(t,e,n=st){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(rl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Wo(s.parent.vnode)&&Vb(r,e,n,s),s=s.parent}}function Vb(t,e,n,r){const s=rl(e,t,r,!0);il(()=>{rf(r[e],s)},n)}function iu(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ou(t){return t.shapeFlag&128?t.ssContent:t}function rl(t,e,n=st,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Nr();const a=as(n),c=qt(e,n,t,o);return a(),xr(),c});return r?s.unshift(i):s.push(i),i}}const er=t=>(e,n=st)=>(!Ko||t==="sp")&&rl(t,(...r)=>e(...r),n),Q_=er("bm"),kn=er("m"),J_=er("bu"),sl=er("u"),ys=er("bum"),il=er("um"),Y_=er("sp"),X_=er("rtg"),Z_=er("rtc");function ey(t,e=st){rl("ec",t,e)}function dc(t,e,n,r){let s;const i=n&&n[r];if(ee(t)||je(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ne(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function Lb(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(ee(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function pc(t,e,n={},r,s){if(et.isCE||et.parent&&es(et.parent)&&et.parent.isCE)return e!=="default"&&(n.name=e),ae("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),Ee();const o=i&&ty(i(n)),a=os(Ke,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function ty(t){return t.some(e=>Cr(e)?!(e.type===bt||e.type===Ke&&!ty(e.children)):!0)?t:null}function Mb(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Wi(r)]=t[r];return n}const zu=t=>t?Ry(t)?ol(t)||t.proxy:zu(t.parent):null,Ki=$e(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>zu(t.parent),$root:t=>zu(t.root),$emit:t=>t.emit,$options:t=>Sf(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Zc(t.update)}),$nextTick:t=>t.n||(t.n=_s.bind(t.proxy)),$watch:t=>Ob.bind(t)}),au=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Ae(t,e),Gu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(au(r,e))return o[e]=1,r[e];if(s!==Pe&&Ae(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&Ae(l,e))return o[e]=3,i[e];if(n!==Pe&&Ae(n,e))return o[e]=4,n[e];Qu&&(o[e]=0)}}const u=Ki[e];let h,f;if(u)return e==="$attrs"&&Lt(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Pe&&Ae(n,e))return o[e]=4,n[e];if(f=c.config.globalProperties,Ae(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return au(s,e)?(s[e]=n,!0):r!==Pe&&Ae(r,e)?(r[e]=n,!0):Ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Pe&&Ae(t,o)||au(e,o)||(a=i[0])&&Ae(a,o)||Ae(r,o)||Ae(Ki,o)||Ae(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},Fb=$e({},Gu,{get(t,e){if(e!==Symbol.unscopables)return Gu.get(t,e,t)},has(t,e){return e[0]!=="_"&&!_0(e)}});function Ub(){return null}function Bb(){return null}function $b(t){}function jb(t){}function Hb(){return null}function qb(){}function Wb(t,e){return null}function ny(){return ry().slots}function Kb(){return ry().attrs}function ry(){const t=tr();return t.setupContext||(t.setupContext=Oy(t))}function go(t){return ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function zb(t,e){const n=go(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?ee(s)||oe(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function Gb(t,e){return!t||!e?t||e:ee(t)&&ee(e)?t.concat(e):$e({},go(t),go(e))}function Qb(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Jb(t){const e=tr();let n=t();return nh(),sf(n)&&(n=n.catch(r=>{throw as(e),r})),[n,()=>as(e)]}let Qu=!0;function Yb(t){const e=Sf(t),n=t.proxy,r=t.ctx;Qu=!1,e.beforeCreate&&bp(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:m,activated:y,deactivated:E,beforeDestroy:R,beforeUnmount:w,destroyed:_,unmounted:v,render:b,renderTracked:A,renderTriggered:P,errorCaptured:T,serverPrefetch:S,expose:I,inheritAttrs:F,components:N,directives:H,filters:me}=e;if(l&&Xb(l,r,null),o)for(const te in o){const K=o[te];oe(K)&&(r[te]=K.bind(n))}if(s){const te=s.call(n,n);Ne(te)&&(t.data=Zn(te))}if(Qu=!0,i)for(const te in i){const K=i[te],Re=oe(K)?K.bind(n,n):oe(K.get)?K.get.bind(n,n):xt,xe=!oe(K)&&oe(K.set)?K.set.bind(n):xt,Ge=Xe({get:Re,set:xe});Object.defineProperty(r,te,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:He=>Ge.value=He})}if(a)for(const te in a)sy(a[te],r,n,te);if(c){const te=oe(c)?c.call(n):c;Reflect.ownKeys(te).forEach(K=>{zi(K,te[K])})}u&&bp(u,t,"c");function B(te,K){ee(K)?K.forEach(Re=>te(Re.bind(n))):K&&te(K.bind(n))}if(B(Q_,h),B(kn,f),B(J_,d),B(sl,m),B(K_,y),B(z_,E),B(ey,T),B(Z_,A),B(X_,P),B(ys,w),B(il,v),B(Y_,S),ee(I))if(I.length){const te=t.exposed||(t.exposed={});I.forEach(K=>{Object.defineProperty(te,K,{get:()=>n[K],set:Re=>n[K]=Re})})}else t.exposed||(t.exposed={});b&&t.render===xt&&(t.render=b),F!=null&&(t.inheritAttrs=F),N&&(t.components=N),H&&(t.directives=H)}function Xb(t,e,n=xt){ee(t)&&(t=Ju(t));for(const r in t){const s=t[r];let i;Ne(s)?"default"in s?i=Jt(s.from||r,s.default,!0):i=Jt(s.from||r):i=Jt(s),qe(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function bp(t,e,n){qt(ee(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function sy(t,e,n,r){const s=r.includes(".")?H_(n,r):()=>n[r];if(je(t)){const i=e[t];oe(i)&&Wt(s,i)}else if(oe(t))Wt(s,t.bind(n));else if(Ne(t))if(ee(t))t.forEach(i=>sy(i,e,n,r));else{const i=oe(t.handler)?t.handler.bind(n):e[t.handler];oe(i)&&Wt(s,i,t)}}function Sf(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>mc(c,l,o,!0)),mc(c,e,o)),Ne(e)&&i.set(e,c),c}function mc(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&mc(t,i,n,!0),s&&s.forEach(o=>mc(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=Zb[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Zb={data:Ip,props:Ap,emits:Ap,methods:Fi,computed:Fi,beforeCreate:Ct,created:Ct,beforeMount:Ct,mounted:Ct,beforeUpdate:Ct,updated:Ct,beforeDestroy:Ct,beforeUnmount:Ct,destroyed:Ct,unmounted:Ct,activated:Ct,deactivated:Ct,errorCaptured:Ct,serverPrefetch:Ct,components:Fi,directives:Fi,watch:tI,provide:Ip,inject:eI};function Ip(t,e){return e?t?function(){return $e(oe(t)?t.call(this,this):t,oe(e)?e.call(this,this):e)}:e:t}function eI(t,e){return Fi(Ju(t),Ju(e))}function Ju(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ct(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?$e(Object.create(null),t,e):e}function Ap(t,e){return t?ee(t)&&ee(e)?[...new Set([...t,...e])]:$e(Object.create(null),go(t),go(e??{})):e}function tI(t,e){if(!t)return e;if(!e)return t;const n=$e(Object.create(null),t);for(const r in e)n[r]=Ct(t[r],e[r]);return n}function iy(){return{app:null,config:{isNativeTag:u0,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nI=0;function rI(t,e){return function(r,s=null){oe(r)||(r=$e({},r)),s!=null&&!Ne(s)&&(s=null);const i=iy(),o=new WeakSet;let a=!1;const c=i.app={_uid:nI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Dy,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&oe(l.install)?(o.add(l),l.install(c,...u)):oe(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const f=ae(r,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&e?e(f,l):t(f,l,h),a=!0,c._container=l,l.__vue_app__=c,ol(f.component)||f.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){const u=Bs;Bs=c;try{return l()}finally{Bs=u}}};return c}}let Bs=null;function zi(t,e){if(st){let n=st.provides;const r=st.parent&&st.parent.provides;r===n&&(n=st.provides=Object.create(r)),n[t]=e}}function Jt(t,e,n=!1){const r=st||et;if(r||Bs){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Bs._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&oe(e)?e.call(r&&r.proxy):e}}function oy(){return!!(st||et||Bs)}const ay=Object.create(null),Yu=()=>Object.create(ay),cy=t=>Object.getPrototypeOf(t)===ay;function sI(t,e,n,r=!1){const s={},i=Yu();t.propsDefaults=Object.create(null),ly(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:df(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function iI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=_e(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(el(t.emitsOptions,f))continue;const d=e[f];if(c)if(Ae(i,f))d!==i[f]&&(i[f]=d,l=!0);else{const m=Ot(f);s[m]=Xu(c,a,m,d,t,!1)}else d!==i[f]&&(i[f]=d,l=!0)}}}else{ly(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!Ae(e,h)&&((u=jt(h))===h||!Ae(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Xu(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!Ae(e,h))&&(delete i[h],l=!0)}l&&Bn(t.attrs,"set","")}function ly(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Vs(c))continue;const l=e[c];let u;s&&Ae(s,u=Ot(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:el(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=_e(n),l=a||Pe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Xu(s,c,h,l[h],t,!Ae(l,h))}}return o}function Xu(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ae(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&oe(c)){const{propsDefaults:l}=s;if(n in l)r=l[n];else{const u=as(s);r=l[n]=c.call(null,e),u()}}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===jt(n))&&(r=!0))}return r}function uy(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!oe(t)){const u=h=>{c=!0;const[f,d]=uy(h,e,!0);$e(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ne(t)&&r.set(t,Ns),Ns;if(ee(i))for(let u=0;u<i.length;u++){const h=Ot(i[u]);Sp(h)&&(o[h]=Pe)}else if(i)for(const u in i){const h=Ot(u);if(Sp(h)){const f=i[u],d=o[h]=ee(f)||oe(f)?{type:f}:$e({},f);if(d){const m=Pp(Boolean,d.type),y=Pp(String,d.type);d[0]=m>-1,d[1]=y<0||m<y,(m>-1||Ae(d,"default"))&&a.push(h)}}}const l=[o,a];return Ne(t)&&r.set(t,l),l}function Sp(t){return t[0]!=="$"&&!Vs(t)}function Rp(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Cp(t,e){return Rp(t)===Rp(e)}function Pp(t,e){return ee(e)?e.findIndex(n=>Cp(n,t)):oe(e)&&Cp(e,t)?0:-1}const hy=t=>t[0]==="_"||t==="$stable",Rf=t=>ee(t)?t.map($t):[$t(t)],oI=(t,e,n)=>{if(e._n)return e;const r=ct((...s)=>Rf(e(...s)),n);return r._c=!1,r},fy=(t,e,n)=>{const r=t._ctx;for(const s in t){if(hy(s))continue;const i=t[s];if(oe(i))e[s]=oI(s,i,r);else if(i!=null){const o=Rf(i);e[s]=()=>o}}},dy=(t,e)=>{const n=Rf(e);t.slots.default=()=>n},aI=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=_e(e),o_(t.slots,"_",n)):fy(e,t.slots=Yu())}else t.slots=Yu(),e&&dy(t,e)},cI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Pe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:($e(s,e),!n&&a===1&&delete s._):(i=!e.$stable,fy(e,s)),o=e}else e&&(dy(t,e),o={default:1});if(i)for(const a in s)!hy(a)&&o[a]==null&&delete s[a]};function gc(t,e,n,r,s=!1){if(ee(t)){t.forEach((f,d)=>gc(f,e&&(ee(e)?e[d]:e),n,r,s));return}if(es(r)&&!s)return;const i=r.shapeFlag&4?ol(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Pe?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(je(l)?(u[l]=null,Ae(h,l)&&(h[l]=null)):qe(l)&&(l.value=null)),oe(c))jn(c,a,12,[o,u]);else{const f=je(c),d=qe(c);if(f||d){const m=()=>{if(t.f){const y=f?Ae(h,c)?h[c]:u[c]:c.value;s?ee(y)&&rf(y,i):ee(y)?y.includes(i)||y.push(i):f?(u[c]=[i],Ae(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else f?(u[c]=o,Ae(h,c)&&(h[c]=o)):d&&(c.value=o,t.k&&(u[t.k]=o))};o?(m.id=-1,ft(m,n)):m()}}}let sr=!1;const lI=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",uI=t=>t.namespaceURI.includes("MathML"),Pa=t=>{if(lI(t))return"svg";if(uI(t))return"mathml"},Oa=t=>t.nodeType===8;function hI(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:l}}=t,u=(_,v)=>{if(!v.hasChildNodes()){n(null,_,v),fc(),v._vnode=_;return}sr=!1,h(v.firstChild,_,null,null,null),fc(),v._vnode=_,sr&&console.error("Hydration completed but contains mismatches.")},h=(_,v,b,A,P,T=!1)=>{T=T||!!v.dynamicChildren;const S=Oa(_)&&_.data==="[",I=()=>y(_,v,b,A,P,S),{type:F,ref:N,shapeFlag:H,patchFlag:me}=v;let ue=_.nodeType;v.el=_,me===-2&&(T=!1,v.dynamicChildren=null);let B=null;switch(F){case ss:ue!==3?v.children===""?(c(v.el=s(""),o(_),_),B=_):B=I():(_.data!==v.children&&(sr=!0,_.data=v.children),B=i(_));break;case bt:w(_)?(B=i(_),R(v.el=_.content.firstChild,_,b)):ue!==8||S?B=I():B=i(_);break;case ts:if(S&&(_=i(_),ue=_.nodeType),ue===1||ue===3){B=_;const te=!v.children.length;for(let K=0;K<v.staticCount;K++)te&&(v.children+=B.nodeType===1?B.outerHTML:B.data),K===v.staticCount-1&&(v.anchor=B),B=i(B);return S?i(B):B}else I();break;case Ke:S?B=m(_,v,b,A,P,T):B=I();break;default:if(H&1)(ue!==1||v.type.toLowerCase()!==_.tagName.toLowerCase())&&!w(_)?B=I():B=f(_,v,b,A,P,T);else if(H&6){v.slotScopeIds=P;const te=o(_);if(S?B=E(_):Oa(_)&&_.data==="teleport start"?B=E(_,_.data,"teleport end"):B=i(_),e(v,te,null,b,A,Pa(te),T),es(v)){let K;S?(K=ae(Ke),K.anchor=B?B.previousSibling:te.lastChild):K=_.nodeType===3?Qe(""):ae("div"),K.el=_,v.component.subTree=K}}else H&64?ue!==8?B=I():B=v.type.hydrate(_,v,b,A,P,T,t,d):H&128&&(B=v.type.hydrate(_,v,b,A,Pa(o(_)),P,T,t,h))}return N!=null&&gc(N,null,A,v),B},f=(_,v,b,A,P,T)=>{T=T||!!v.dynamicChildren;const{type:S,props:I,patchFlag:F,shapeFlag:N,dirs:H,transition:me}=v,ue=S==="input"||S==="option";if(ue||F!==-1){H&&pn(v,null,b,"created");let B=!1;if(w(_)){B=_y(A,me)&&b&&b.vnode.props&&b.vnode.props.appear;const K=_.content.firstChild;B&&me.beforeEnter(K),R(K,_,b),v.el=_=K}if(N&16&&!(I&&(I.innerHTML||I.textContent))){let K=d(_.firstChild,v,_,b,A,P,T);for(;K;){sr=!0;const Re=K;K=K.nextSibling,a(Re)}}else N&8&&_.textContent!==v.children&&(sr=!0,_.textContent=v.children);if(I)if(ue||!T||F&48)for(const K in I)(ue&&(K.endsWith("value")||K==="indeterminate")||$o(K)&&!Vs(K)||K[0]===".")&&r(_,K,null,I[K],void 0,void 0,b);else I.onClick&&r(_,"onClick",null,I.onClick,void 0,void 0,b);let te;(te=I&&I.onVnodeBeforeMount)&&kt(te,b,v),H&&pn(v,null,b,"beforeMount"),((te=I&&I.onVnodeMounted)||H||B)&&F_(()=>{te&&kt(te,b,v),B&&me.enter(_),H&&pn(v,null,b,"mounted")},A)}return _.nextSibling},d=(_,v,b,A,P,T,S)=>{S=S||!!v.dynamicChildren;const I=v.children,F=I.length;for(let N=0;N<F;N++){const H=S?I[N]:I[N]=$t(I[N]);if(_)_=h(_,H,A,P,T,S);else{if(H.type===ss&&!H.children)continue;sr=!0,n(null,H,b,null,A,P,Pa(b),T)}}return _},m=(_,v,b,A,P,T)=>{const{slotScopeIds:S}=v;S&&(P=P?P.concat(S):S);const I=o(_),F=d(i(_),v,I,b,A,P,T);return F&&Oa(F)&&F.data==="]"?i(v.anchor=F):(sr=!0,c(v.anchor=l("]"),I,F),F)},y=(_,v,b,A,P,T)=>{if(sr=!0,v.el=null,T){const F=E(_);for(;;){const N=i(_);if(N&&N!==F)a(N);else break}}const S=i(_),I=o(_);return a(_),n(null,v,I,S,b,A,Pa(I),P),S},E=(_,v="[",b="]")=>{let A=0;for(;_;)if(_=i(_),_&&Oa(_)&&(_.data===v&&A++,_.data===b)){if(A===0)return i(_);A--}return _},R=(_,v,b)=>{const A=v.parentNode;A&&A.replaceChild(_,v);let P=b;for(;P;)P.vnode.el===v&&(P.vnode.el=P.subTree.el=_),P=P.parent},w=_=>_.nodeType===1&&_.tagName.toLowerCase()==="template";return[u,h]}const ft=F_;function py(t){return gy(t)}function my(t){return gy(t,hI)}function gy(t,e){const n=a_();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=xt,insertStaticContent:m}=t,y=(p,g,C,x=null,k=null,$=null,G=void 0,j=null,W=!!g.dynamicChildren)=>{if(p===g)return;p&&!rn(p,g)&&(x=D(p),He(p,k,$,!0),p=null),g.patchFlag===-2&&(W=!1,g.dynamicChildren=null);const{type:U,ref:Z,shapeFlag:se}=g;switch(U){case ss:E(p,g,C,x);break;case bt:R(p,g,C,x);break;case ts:p==null&&w(g,C,x,G);break;case Ke:N(p,g,C,x,k,$,G,j,W);break;default:se&1?b(p,g,C,x,k,$,G,j,W):se&6?H(p,g,C,x,k,$,G,j,W):(se&64||se&128)&&U.process(p,g,C,x,k,$,G,j,W,q)}Z!=null&&k&&gc(Z,p&&p.ref,$,g||p,!g)},E=(p,g,C,x)=>{if(p==null)r(g.el=a(g.children),C,x);else{const k=g.el=p.el;g.children!==p.children&&l(k,g.children)}},R=(p,g,C,x)=>{p==null?r(g.el=c(g.children||""),C,x):g.el=p.el},w=(p,g,C,x)=>{[p.el,p.anchor]=m(p.children,g,C,x,p.el,p.anchor)},_=({el:p,anchor:g},C,x)=>{let k;for(;p&&p!==g;)k=f(p),r(p,C,x),p=k;r(g,C,x)},v=({el:p,anchor:g})=>{let C;for(;p&&p!==g;)C=f(p),s(p),p=C;s(g)},b=(p,g,C,x,k,$,G,j,W)=>{g.type==="svg"?G="svg":g.type==="math"&&(G="mathml"),p==null?A(g,C,x,k,$,G,j,W):S(p,g,k,$,G,j,W)},A=(p,g,C,x,k,$,G,j)=>{let W,U;const{props:Z,shapeFlag:se,transition:ne,dirs:he}=p;if(W=p.el=o(p.type,$,Z&&Z.is,Z),se&8?u(W,p.children):se&16&&T(p.children,W,null,x,k,cu(p,$),G,j),he&&pn(p,null,x,"created"),P(W,p,p.scopeId,G,x),Z){for(const De in Z)De!=="value"&&!Vs(De)&&i(W,De,null,Z[De],$,p.children,x,k,Fe);"value"in Z&&i(W,"value",null,Z.value,$),(U=Z.onVnodeBeforeMount)&&kt(U,x,p)}he&&pn(p,null,x,"beforeMount");const ye=_y(k,ne);ye&&ne.beforeEnter(W),r(W,g,C),((U=Z&&Z.onVnodeMounted)||ye||he)&&ft(()=>{U&&kt(U,x,p),ye&&ne.enter(W),he&&pn(p,null,x,"mounted")},k)},P=(p,g,C,x,k)=>{if(C&&d(p,C),x)for(let $=0;$<x.length;$++)d(p,x[$]);if(k){let $=k.subTree;if(g===$){const G=k.vnode;P(p,G,G.scopeId,G.slotScopeIds,k.parent)}}},T=(p,g,C,x,k,$,G,j,W=0)=>{for(let U=W;U<p.length;U++){const Z=p[U]=j?dr(p[U]):$t(p[U]);y(null,Z,g,C,x,k,$,G,j)}},S=(p,g,C,x,k,$,G)=>{const j=g.el=p.el;let{patchFlag:W,dynamicChildren:U,dirs:Z}=g;W|=p.patchFlag&16;const se=p.props||Pe,ne=g.props||Pe;let he;if(C&&$r(C,!1),(he=ne.onVnodeBeforeUpdate)&&kt(he,C,g,p),Z&&pn(g,p,C,"beforeUpdate"),C&&$r(C,!0),U?I(p.dynamicChildren,U,j,C,x,cu(g,k),$):G||K(p,g,j,null,C,x,cu(g,k),$,!1),W>0){if(W&16)F(j,g,se,ne,C,x,k);else if(W&2&&se.class!==ne.class&&i(j,"class",null,ne.class,k),W&4&&i(j,"style",se.style,ne.style,k),W&8){const ye=g.dynamicProps;for(let De=0;De<ye.length;De++){const Ue=ye[De],ot=se[Ue],nn=ne[Ue];(nn!==ot||Ue==="value")&&i(j,Ue,ot,nn,k,p.children,C,x,Fe)}}W&1&&p.children!==g.children&&u(j,g.children)}else!G&&U==null&&F(j,g,se,ne,C,x,k);((he=ne.onVnodeUpdated)||Z)&&ft(()=>{he&&kt(he,C,g,p),Z&&pn(g,p,C,"updated")},x)},I=(p,g,C,x,k,$,G)=>{for(let j=0;j<g.length;j++){const W=p[j],U=g[j],Z=W.el&&(W.type===Ke||!rn(W,U)||W.shapeFlag&70)?h(W.el):C;y(W,U,Z,null,x,k,$,G,!0)}},F=(p,g,C,x,k,$,G)=>{if(C!==x){if(C!==Pe)for(const j in C)!Vs(j)&&!(j in x)&&i(p,j,C[j],null,G,g.children,k,$,Fe);for(const j in x){if(Vs(j))continue;const W=x[j],U=C[j];W!==U&&j!=="value"&&i(p,j,U,W,G,g.children,k,$,Fe)}"value"in x&&i(p,"value",C.value,x.value,G)}},N=(p,g,C,x,k,$,G,j,W)=>{const U=g.el=p?p.el:a(""),Z=g.anchor=p?p.anchor:a("");let{patchFlag:se,dynamicChildren:ne,slotScopeIds:he}=g;he&&(j=j?j.concat(he):he),p==null?(r(U,C,x),r(Z,C,x),T(g.children||[],C,Z,k,$,G,j,W)):se>0&&se&64&&ne&&p.dynamicChildren?(I(p.dynamicChildren,ne,C,k,$,G,j),(g.key!=null||k&&g===k.subTree)&&Cf(p,g,!0)):K(p,g,C,Z,k,$,G,j,W)},H=(p,g,C,x,k,$,G,j,W)=>{g.slotScopeIds=j,p==null?g.shapeFlag&512?k.ctx.activate(g,C,x,G,W):me(g,C,x,k,$,G,W):ue(p,g,W)},me=(p,g,C,x,k,$,G)=>{const j=p.component=Sy(p,x,k);if(Wo(p)&&(j.ctx.renderer=q),Cy(j),j.asyncDep){if(k&&k.registerDep(j,B),!p.el){const W=j.subTree=ae(bt);R(null,W,g,C)}}else B(j,p,g,C,k,$,G)},ue=(p,g,C)=>{const x=g.component=p.component;if(vb(p,g,C))if(x.asyncDep&&!x.asyncResolved){te(x,g,C);return}else x.next=g,ub(x.update),x.effect.dirty=!0,x.update();else g.el=p.el,x.vnode=g},B=(p,g,C,x,k,$,G)=>{const j=()=>{if(p.isMounted){let{next:Z,bu:se,u:ne,parent:he,vnode:ye}=p;{const bs=yy(p);if(bs){Z&&(Z.el=ye.el,te(p,Z,G)),bs.asyncDep.then(()=>{p.isUnmounted||j()});return}}let De=Z,Ue;$r(p,!1),Z?(Z.el=ye.el,te(p,Z,G)):Z=ye,se&&Ls(se),(Ue=Z.props&&Z.props.onVnodeBeforeUpdate)&&kt(Ue,he,Z,ye),$r(p,!0);const ot=Wa(p),nn=p.subTree;p.subTree=ot,y(nn,ot,h(nn.el),D(nn),p,k,$),Z.el=ot.el,De===null&&Ef(p,ot.el),ne&&ft(ne,k),(Ue=Z.props&&Z.props.onVnodeUpdated)&&ft(()=>kt(Ue,he,Z,ye),k)}else{let Z;const{el:se,props:ne}=g,{bm:he,m:ye,parent:De}=p,Ue=es(g);if($r(p,!1),he&&Ls(he),!Ue&&(Z=ne&&ne.onVnodeBeforeMount)&&kt(Z,De,g),$r(p,!0),se&&ge){const ot=()=>{p.subTree=Wa(p),ge(se,p.subTree,p,k,null)};Ue?g.type.__asyncLoader().then(()=>!p.isUnmounted&&ot()):ot()}else{const ot=p.subTree=Wa(p);y(null,ot,C,x,p,k,$),g.el=ot.el}if(ye&&ft(ye,k),!Ue&&(Z=ne&&ne.onVnodeMounted)){const ot=g;ft(()=>kt(Z,De,ot),k)}(g.shapeFlag&256||De&&es(De.vnode)&&De.vnode.shapeFlag&256)&&p.a&&ft(p.a,k),p.isMounted=!0,g=C=x=null}},W=p.effect=new zs(j,xt,()=>Zc(U),p.scope),U=p.update=()=>{W.dirty&&W.run()};U.id=p.uid,$r(p,!0),U()},te=(p,g,C)=>{g.component=p;const x=p.vnode.props;p.vnode=g,p.next=null,iI(p,g.props,x,C),cI(p,g.children,C),Nr(),yp(p),xr()},K=(p,g,C,x,k,$,G,j,W=!1)=>{const U=p&&p.children,Z=p?p.shapeFlag:0,se=g.children,{patchFlag:ne,shapeFlag:he}=g;if(ne>0){if(ne&128){xe(U,se,C,x,k,$,G,j,W);return}else if(ne&256){Re(U,se,C,x,k,$,G,j,W);return}}he&8?(Z&16&&Fe(U,k,$),se!==U&&u(C,se)):Z&16?he&16?xe(U,se,C,x,k,$,G,j,W):Fe(U,k,$,!0):(Z&8&&u(C,""),he&16&&T(se,C,x,k,$,G,j,W))},Re=(p,g,C,x,k,$,G,j,W)=>{p=p||Ns,g=g||Ns;const U=p.length,Z=g.length,se=Math.min(U,Z);let ne;for(ne=0;ne<se;ne++){const he=g[ne]=W?dr(g[ne]):$t(g[ne]);y(p[ne],he,C,null,k,$,G,j,W)}U>Z?Fe(p,k,$,!0,!1,se):T(g,C,x,k,$,G,j,W,se)},xe=(p,g,C,x,k,$,G,j,W)=>{let U=0;const Z=g.length;let se=p.length-1,ne=Z-1;for(;U<=se&&U<=ne;){const he=p[U],ye=g[U]=W?dr(g[U]):$t(g[U]);if(rn(he,ye))y(he,ye,C,null,k,$,G,j,W);else break;U++}for(;U<=se&&U<=ne;){const he=p[se],ye=g[ne]=W?dr(g[ne]):$t(g[ne]);if(rn(he,ye))y(he,ye,C,null,k,$,G,j,W);else break;se--,ne--}if(U>se){if(U<=ne){const he=ne+1,ye=he<Z?g[he].el:x;for(;U<=ne;)y(null,g[U]=W?dr(g[U]):$t(g[U]),C,ye,k,$,G,j,W),U++}}else if(U>ne)for(;U<=se;)He(p[U],k,$,!0),U++;else{const he=U,ye=U,De=new Map;for(U=ye;U<=ne;U++){const Ft=g[U]=W?dr(g[U]):$t(g[U]);Ft.key!=null&&De.set(Ft.key,U)}let Ue,ot=0;const nn=ne-ye+1;let bs=!1,op=0;const Ci=new Array(nn);for(U=0;U<nn;U++)Ci[U]=0;for(U=he;U<=se;U++){const Ft=p[U];if(ot>=nn){He(Ft,k,$,!0);continue}let dn;if(Ft.key!=null)dn=De.get(Ft.key);else for(Ue=ye;Ue<=ne;Ue++)if(Ci[Ue-ye]===0&&rn(Ft,g[Ue])){dn=Ue;break}dn===void 0?He(Ft,k,$,!0):(Ci[dn-ye]=U+1,dn>=op?op=dn:bs=!0,y(Ft,g[dn],C,null,k,$,G,j,W),ot++)}const ap=bs?fI(Ci):Ns;for(Ue=ap.length-1,U=nn-1;U>=0;U--){const Ft=ye+U,dn=g[Ft],cp=Ft+1<Z?g[Ft+1].el:x;Ci[U]===0?y(null,dn,C,cp,k,$,G,j,W):bs&&(Ue<0||U!==ap[Ue]?Ge(dn,C,cp,2):Ue--)}}},Ge=(p,g,C,x,k=null)=>{const{el:$,type:G,transition:j,children:W,shapeFlag:U}=p;if(U&6){Ge(p.component.subTree,g,C,x);return}if(U&128){p.suspense.move(g,C,x);return}if(U&64){G.move(p,g,C,q);return}if(G===Ke){r($,g,C);for(let se=0;se<W.length;se++)Ge(W[se],g,C,x);r(p.anchor,g,C);return}if(G===ts){_(p,g,C);return}if(x!==2&&U&1&&j)if(x===0)j.beforeEnter($),r($,g,C),ft(()=>j.enter($),k);else{const{leave:se,delayLeave:ne,afterLeave:he}=j,ye=()=>r($,g,C),De=()=>{se($,()=>{ye(),he&&he()})};ne?ne($,ye,De):De()}else r($,g,C)},He=(p,g,C,x=!1,k=!1)=>{const{type:$,props:G,ref:j,children:W,dynamicChildren:U,shapeFlag:Z,patchFlag:se,dirs:ne}=p;if(j!=null&&gc(j,null,C,p,!0),Z&256){g.ctx.deactivate(p);return}const he=Z&1&&ne,ye=!es(p);let De;if(ye&&(De=G&&G.onVnodeBeforeUnmount)&&kt(De,g,p),Z&6)rt(p.component,C,x);else{if(Z&128){p.suspense.unmount(C,x);return}he&&pn(p,null,g,"beforeUnmount"),Z&64?p.type.remove(p,g,C,k,q,x):U&&($!==Ke||se>0&&se&64)?Fe(U,g,C,!1,!0):($===Ke&&se&384||!k&&Z&16)&&Fe(W,g,C),x&&Mt(p)}(ye&&(De=G&&G.onVnodeUnmounted)||he)&&ft(()=>{De&&kt(De,g,p),he&&pn(p,null,g,"unmounted")},C)},Mt=p=>{const{type:g,el:C,anchor:x,transition:k}=p;if(g===Ke){Rt(C,x);return}if(g===ts){v(p);return}const $=()=>{s(C),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(p.shapeFlag&1&&k&&!k.persisted){const{leave:G,delayLeave:j}=k,W=()=>G(C,$);j?j(p.el,$,W):W()}else $()},Rt=(p,g)=>{let C;for(;p!==g;)C=f(p),s(p),p=C;s(g)},rt=(p,g,C)=>{const{bum:x,scope:k,update:$,subTree:G,um:j}=p;x&&Ls(x),k.stop(),$&&($.active=!1,He(G,p,g,C)),j&&ft(j,g),ft(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Fe=(p,g,C,x=!1,k=!1,$=0)=>{for(let G=$;G<p.length;G++)He(p[G],g,C,x,k)},D=p=>p.shapeFlag&6?D(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el);let z=!1;const O=(p,g,C)=>{p==null?g._vnode&&He(g._vnode,null,null,!0):y(g._vnode||null,p,g,null,null,null,C),z||(z=!0,yp(),fc(),z=!1),g._vnode=p},q={p:y,um:He,m:Ge,r:Mt,mt:me,mc:T,pc:K,pbc:I,n:D,o:t};let de,ge;return e&&([de,ge]=e(q)),{render:O,hydrate:de,createApp:rI(O,de)}}function cu({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function $r({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _y(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Cf(t,e,n=!1){const r=t.children,s=e.children;if(ee(r)&&ee(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=dr(s[i]),a.el=o.el),n||Cf(o,a)),a.type===ss&&(a.el=o.el)}}function fI(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function yy(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yy(e)}const dI=t=>t.__isTeleport,Gi=t=>t&&(t.disabled||t.disabled===""),Op=t=>typeof SVGElement<"u"&&t instanceof SVGElement,kp=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Zu=(t,e)=>{const n=t&&t.to;return je(n)?e?e(n):null:n},pI={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,a,c,l){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:m,createText:y,createComment:E}}=l,R=Gi(e.props);let{shapeFlag:w,children:_,dynamicChildren:v}=e;if(t==null){const b=e.el=y(""),A=e.anchor=y("");d(b,n,r),d(A,n,r);const P=e.target=Zu(e.props,m),T=e.targetAnchor=y("");P&&(d(T,P),o==="svg"||Op(P)?o="svg":(o==="mathml"||kp(P))&&(o="mathml"));const S=(I,F)=>{w&16&&u(_,I,F,s,i,o,a,c)};R?S(n,A):P&&S(P,T)}else{e.el=t.el;const b=e.anchor=t.anchor,A=e.target=t.target,P=e.targetAnchor=t.targetAnchor,T=Gi(t.props),S=T?n:A,I=T?b:P;if(o==="svg"||Op(A)?o="svg":(o==="mathml"||kp(A))&&(o="mathml"),v?(f(t.dynamicChildren,v,S,s,i,o,a),Cf(t,e,!0)):c||h(t,e,S,I,s,i,o,a,!1),R)T?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ka(e,n,b,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const F=e.target=Zu(e.props,m);F&&ka(e,F,null,l,0)}else T&&ka(e,A,P,l,1)}vy(e)},remove(t,e,n,r,{um:s,o:{remove:i}},o){const{shapeFlag:a,children:c,anchor:l,targetAnchor:u,target:h,props:f}=t;if(h&&i(u),o&&i(l),a&16){const d=o||!Gi(f);for(let m=0;m<c.length;m++){const y=c[m];s(y,e,n,d,!!y.dynamicChildren)}}},move:ka,hydrate:mI};function ka(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,h=i===2;if(h&&r(o,e,n),(!h||Gi(u))&&c&16)for(let f=0;f<l.length;f++)s(l[f],e,n,2);h&&r(a,e,n)}function mI(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c}},l){const u=e.target=Zu(e.props,c);if(u){const h=u._lpa||u.firstChild;if(e.shapeFlag&16)if(Gi(e.props))e.anchor=l(o(t),e,a(t),n,r,s,i),e.targetAnchor=h;else{e.anchor=o(t);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){e.targetAnchor=f,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}l(h,e,u,n,r,s,i)}vy(e)}return e.anchor&&o(e.anchor)}const gI=pI;function vy(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ke=Symbol.for("v-fgt"),ss=Symbol.for("v-txt"),bt=Symbol.for("v-cmt"),ts=Symbol.for("v-stc"),Qi=[];let Vt=null;function Ee(t=!1){Qi.push(Vt=t?null:[])}function Ey(){Qi.pop(),Vt=Qi[Qi.length-1]||null}let is=1;function eh(t){is+=t}function wy(t){return t.dynamicChildren=is>0?Vt||Ns:null,Ey(),is>0&&Vt&&Vt.push(t),t}function Oe(t,e,n,r,s,i){return wy(Y(t,e,n,r,s,i,!0))}function os(t,e,n,r,s){return wy(ae(t,e,n,r,s,!0))}function Cr(t){return t?t.__v_isVNode===!0:!1}function rn(t,e){return t.type===e.type&&t.key===e.key}function _I(t){}const Ty=({key:t})=>t??null,Ka=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?je(t)||qe(t)||oe(t)?{i:et,r:t,k:e,f:!!n}:t:null);function Y(t,e=null,n=null,r=0,s=null,i=t===Ke?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ty(e),ref:e&&Ka(e),scopeId:tl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:et};return a?(Pf(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=je(n)?8:16),is>0&&!o&&Vt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Vt.push(c),c}const ae=yI;function yI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===L_)&&(t=bt),Cr(t)){const a=Rn(t,e,!0);return n&&Pf(a,n),is>0&&!i&&Vt&&(a.shapeFlag&6?Vt[Vt.indexOf(t)]=a:Vt.push(a)),a.patchFlag|=-2,a}if(AI(t)&&(t=t.__vccOpts),e){e=by(e);let{class:a,style:c}=e;a&&!je(a)&&(e.class=gi(a)),Ne(c)&&(mf(c)&&!ee(c)&&(c=$e({},c)),e.style=mi(c))}const o=je(t)?1:M_(t)?128:dI(t)?64:Ne(t)?4:oe(t)?2:0;return Y(t,e,n,r,s,o,i,!0)}function by(t){return t?mf(t)||cy(t)?$e({},t):t:null}function Rn(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Ay(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Ty(a),ref:e&&e.ref?n&&s?ee(s)?s.concat(Ka(e)):[s,Ka(e)]:Ka(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ke?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Rn(t.ssContent),ssFallback:t.ssFallback&&Rn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Qe(t=" ",e=0){return ae(ss,null,t,e)}function Iy(t,e){const n=ae(ts,null,t);return n.staticCount=e,n}function Hn(t="",e=!1){return e?(Ee(),os(bt,null,t)):ae(bt,null,t)}function $t(t){return t==null||typeof t=="boolean"?ae(bt):ee(t)?ae(Ke,null,t.slice()):typeof t=="object"?dr(t):ae(ss,null,String(t))}function dr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Rn(t)}function Pf(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Pf(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!cy(e)?e._ctx=et:s===3&&et&&(et.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else oe(e)?(e={default:e,_ctx:et},n=32):(e=String(e),r&64?(n=16,e=[Qe(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ay(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=gi([e.class,r.class]));else if(s==="style")e.style=mi([e.style,r.style]);else if($o(s)){const i=e[s],o=r[s];o&&i!==o&&!(ee(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function kt(t,e,n,r=null){qt(t,e,7,[n,r])}const vI=iy();let EI=0;function Sy(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||vI,i={uid:EI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new af(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uy(r,s),emitsOptions:V_(r,s),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:r.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=fb.bind(null,i),t.ce&&t.ce(i),i}let st=null;const tr=()=>st||et;let _c,th;{const t=a_(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};_c=e("__VUE_INSTANCE_SETTERS__",n=>st=n),th=e("__VUE_SSR_SETTERS__",n=>Ko=n)}const as=t=>{const e=st;return _c(t),t.scope.on(),()=>{t.scope.off(),_c(e)}},nh=()=>{st&&st.scope.off(),_c(null)};function Ry(t){return t.vnode.shapeFlag&4}let Ko=!1;function Cy(t,e=!1){e&&th(e);const{props:n,children:r}=t.vnode,s=Ry(t);sI(t,n,s,e),aI(t,r);const i=s?wI(t,e):void 0;return e&&th(!1),i}function wI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Gu);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Oy(t):null,i=as(t);Nr();const o=jn(r,t,0,[t.props,s]);if(xr(),i(),sf(o)){if(o.then(nh,nh),e)return o.then(a=>{rh(t,a,e)}).catch(a=>{gs(a,t,0)});t.asyncDep=o}else rh(t,o,e)}else Py(t,e)}function rh(t,e,n){oe(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ne(e)&&(t.setupState=yf(e)),Py(t,n)}let yc,sh;function TI(t){yc=t,sh=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Fb))}}const bI=()=>!yc;function Py(t,e,n){const r=t.type;if(!t.render){if(!e&&yc&&!r.render){const s=r.template||Sf(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=$e($e({isCustomElement:i,delimiters:a},o),c);r.render=yc(s,l)}}t.render=r.render||xt,sh&&sh(t)}{const s=as(t);Nr();try{Yb(t)}finally{xr(),s()}}}const II={get(t,e){return Lt(t,"get",""),t[e]}};function Oy(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,II),slots:t.slots,emit:t.emit,expose:e}}function ol(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(yf(Yc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ki)return Ki[n](t)},has(e,n){return n in e||n in Ki}}))}function ih(t,e=!0){return oe(t)?t.displayName||t.name:t.name||e&&t.__name}function AI(t){return oe(t)&&"__vccOpts"in t}const Xe=(t,e)=>Q0(t,e,Ko);function SI(t,e,n=Pe){const r=tr(),s=Ot(e),i=jt(e),o=C_((c,l)=>{let u;return j_(()=>{const h=t[e];sn(u,h)&&(u=h,l())}),{get(){return c(),n.get?n.get(u):u},set(h){const f=r.vnode.props;!(f&&(e in f||s in f||i in f)&&(`onUpdate:${e}`in f||`onUpdate:${s}`in f||`onUpdate:${i}`in f))&&sn(h,u)&&(u=h,l()),r.emit(`update:${e}`,n.set?n.set(h):h)}}}),a=e==="modelValue"?"modelModifiers":`${e}Modifiers`;return o[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?t[a]||{}:o,done:!1}:{done:!0}}}},o}function al(t,e,n){const r=arguments.length;return r===2?Ne(e)&&!ee(e)?Cr(e)?ae(t,null,[e]):ae(t,e):ae(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Cr(n)&&(n=[n]),ae(t,e,n))}function RI(){}function CI(t,e,n,r){const s=n[r];if(s&&ky(s,t))return s;const i=e();return i.memo=t.slice(),n[r]=i}function ky(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(sn(n[r],e[r]))return!1;return is>0&&Vt&&Vt.push(t),!0}const Dy="3.4.23",PI=xt,OI=ab,kI=Ss,DI=x_,NI={createComponentInstance:Sy,setupComponent:Cy,renderComponentRoot:Wa,setCurrentRenderingInstance:fo,isVNode:Cr,normalizeVNode:$t},xI=NI,VI=null,LI=null,MI=null;/**
* @vue/runtime-dom v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const FI="http://www.w3.org/2000/svg",UI="http://www.w3.org/1998/Math/MathML",pr=typeof document<"u"?document:null,Dp=pr&&pr.createElement("template"),BI={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?pr.createElementNS(FI,t):e==="mathml"?pr.createElementNS(UI,t):pr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>pr.createTextNode(t),createComment:t=>pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Dp.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=Dp.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ir="transition",Pi="animation",Js=Symbol("_vtc"),cl=(t,{slots:e})=>al(q_,xy(t),e);cl.displayName="Transition";const Ny={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},$I=cl.props=$e({},Af,Ny),jr=(t,e=[])=>{ee(t)?t.forEach(n=>n(...e)):t&&t(...e)},Np=t=>t?ee(t)?t.some(e=>e.length>1):t.length>1:!1;function xy(t){const e={};for(const N in t)N in Ny||(e[N]=t[N]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,m=jI(s),y=m&&m[0],E=m&&m[1],{onBeforeEnter:R,onEnter:w,onEnterCancelled:_,onLeave:v,onLeaveCancelled:b,onBeforeAppear:A=R,onAppear:P=w,onAppearCancelled:T=_}=e,S=(N,H,me)=>{lr(N,H?u:a),lr(N,H?l:o),me&&me()},I=(N,H)=>{N._isLeaving=!1,lr(N,h),lr(N,d),lr(N,f),H&&H()},F=N=>(H,me)=>{const ue=N?P:w,B=()=>S(H,N,me);jr(ue,[H,B]),xp(()=>{lr(H,N?c:i),xn(H,N?u:a),Np(ue)||Vp(H,r,y,B)})};return $e(e,{onBeforeEnter(N){jr(R,[N]),xn(N,i),xn(N,o)},onBeforeAppear(N){jr(A,[N]),xn(N,c),xn(N,l)},onEnter:F(!1),onAppear:F(!0),onLeave(N,H){N._isLeaving=!0;const me=()=>I(N,H);xn(N,h),Ly(),xn(N,f),xp(()=>{N._isLeaving&&(lr(N,h),xn(N,d),Np(v)||Vp(N,r,E,me))}),jr(v,[N,me])},onEnterCancelled(N){S(N,!1),jr(_,[N])},onAppearCancelled(N){S(N,!0),jr(T,[N])},onLeaveCancelled(N){I(N),jr(b,[N])}})}function jI(t){if(t==null)return null;if(Ne(t))return[lu(t.enter),lu(t.leave)];{const e=lu(t);return[e,e]}}function lu(t){return lc(t)}function xn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Js]||(t[Js]=new Set)).add(e)}function lr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Js];n&&(n.delete(e),n.size||(t[Js]=void 0))}function xp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let HI=0;function Vp(t,e,n,r){const s=t._endId=++HI,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:c}=Vy(t,e);if(!o)return r();const l=o+"end";let u=0;const h=()=>{t.removeEventListener(l,f),i()},f=d=>{d.target===t&&++u>=c&&h()};setTimeout(()=>{u<c&&h()},a+1),t.addEventListener(l,f)}function Vy(t,e){const n=window.getComputedStyle(t),r=m=>(n[m]||"").split(", "),s=r(`${ir}Delay`),i=r(`${ir}Duration`),o=Lp(s,i),a=r(`${Pi}Delay`),c=r(`${Pi}Duration`),l=Lp(a,c);let u=null,h=0,f=0;e===ir?o>0&&(u=ir,h=o,f=i.length):e===Pi?l>0&&(u=Pi,h=l,f=c.length):(h=Math.max(o,l),u=h>0?o>l?ir:Pi:null,f=u?u===ir?i.length:c.length:0);const d=u===ir&&/\b(transform|all)(,|$)/.test(r(`${ir}Property`).toString());return{type:u,timeout:h,propCount:f,hasTransform:d}}function Lp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Mp(n)+Mp(t[r])))}function Mp(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Ly(){return document.body.offsetHeight}function qI(t,e,n){const r=t[Js];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const vc=Symbol("_vod"),My=Symbol("_vsh"),_o={beforeMount(t,{value:e},{transition:n}){t[vc]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Oi(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Oi(t,!0),r.enter(t)):r.leave(t,()=>{Oi(t,!1)}):Oi(t,e))},beforeUnmount(t,{value:e}){Oi(t,e)}};function Oi(t,e){t.style.display=e?t[vc]:"none",t[My]=!e}function WI(){_o.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Fy=Symbol("");function Uy(t){const e=tr();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>ah(i,s))},r=()=>{const s=t(e.proxy);oh(e.subTree,s),n(s)};kn(()=>{$_(r);const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),il(()=>s.disconnect())})}function oh(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{oh(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ah(t.el,e);else if(t.type===Ke)t.children.forEach(n=>oh(n,e));else if(t.type===ts){let{el:n,anchor:r}=t;for(;n&&(ah(n,e),n!==r);)n=n.nextSibling}}function ah(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e)n.setProperty(`--${s}`,e[s]),r+=`--${s}: ${e[s]};`;n[Fy]=r}}const KI=/(^|;)\s*display\s*:/;function zI(t,e,n){const r=t.style,s=je(n);let i=!1;if(n&&!s){if(e)if(je(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&za(r,a,"")}else for(const o in e)n[o]==null&&za(r,o,"");for(const o in n)o==="display"&&(i=!0),za(r,o,n[o])}else if(s){if(e!==n){const o=r[Fy];o&&(n+=";"+o),r.cssText=n,i=KI.test(n)}}else e&&t.removeAttribute("style");vc in t&&(t[vc]=i?r.display:"",t[My]&&(r.display="none"))}const Fp=/\s*!important$/;function za(t,e,n){if(ee(n))n.forEach(r=>za(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=GI(t,e);Fp.test(n)?t.setProperty(jt(r),n.replace(Fp,""),"important"):t[r]=n}}const Up=["Webkit","Moz","ms"],uu={};function GI(t,e){const n=uu[e];if(n)return n;let r=Ot(e);if(r!=="filter"&&r in t)return uu[e]=r;r=jo(r);for(let s=0;s<Up.length;s++){const i=Up[s]+r;if(i in t)return uu[e]=i}return e}const Bp="http://www.w3.org/1999/xlink";function QI(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Bp,e.slice(6,e.length)):t.setAttributeNS(Bp,e,n);else{const i=I0(e);n==null||i&&!c_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function JI(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const l=a==="OPTION"?t.getAttribute("value")||"":t.value,u=n??"";(l!==u||!("_value"in t))&&(t.value=u),n==null&&t.removeAttribute(e),t._value=n;return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=c_(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Vn(t,e,n,r){t.addEventListener(e,n,r)}function YI(t,e,n,r){t.removeEventListener(e,n,r)}const $p=Symbol("_vei");function XI(t,e,n,r,s=null){const i=t[$p]||(t[$p]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=ZI(e);if(r){const l=i[e]=nA(r,s);Vn(t,a,l,c)}else o&&(YI(t,a,o,c),i[e]=void 0)}}const jp=/(?:Once|Passive|Capture)$/;function ZI(t){let e;if(jp.test(t)){e={};let r;for(;r=t.match(jp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):jt(t.slice(2)),e]}let hu=0;const eA=Promise.resolve(),tA=()=>hu||(eA.then(()=>hu=0),hu=Date.now());function nA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qt(rA(r,n.value),e,5,[r])};return n.value=t,n.attached=tA(),n}function rA(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Hp=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,sA=(t,e,n,r,s,i,o,a,c)=>{const l=s==="svg";e==="class"?qI(t,r,l):e==="style"?zI(t,n,r):$o(e)?nf(e)||XI(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iA(t,e,r,l))?JI(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),QI(t,e,r,l))};function iA(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Hp(e)&&oe(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Hp(e)&&je(n)?!1:e in t}/*! #__NO_SIDE_EFFECTS__ */function By(t,e){const n=qo(t);class r extends ll{constructor(i){super(n,i,e)}}return r.def=n,r}/*! #__NO_SIDE_EFFECTS__ */const oA=t=>By(t,Yy),aA=typeof HTMLElement<"u"?HTMLElement:class{};class ll extends aA{constructor(e,n={},r){super(),this._def=e,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),_s(()=>{this._connected||(ch(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{const{props:i,styles:o}=r;let a;if(i&&!ee(i))for(const c in i){const l=i[c];(l===Number||l&&l.type===Number)&&(c in this._props&&(this._props[c]=lc(this._props[c])),(a||(a=Object.create(null)))[Ot(c)]=!0)}this._numberProps=a,s&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:n}=e,r=ee(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s],!0,!1);for(const s of r.map(Ot))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i)}})}_setAttr(e){let n=this.hasAttribute(e)?this.getAttribute(e):void 0;const r=Ot(e);this._numberProps&&this._numberProps[r]&&(n=lc(n)),this._setProp(r,n,!1)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!0){n!==this._props[e]&&(this._props[e]=n,s&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(jt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(jt(e),n+""):n||this.removeAttribute(jt(e))))}_update(){ch(this._createVNode(),this.shadowRoot)}_createVNode(){const e=ae(this._def,$e({},this._props));return this._instance||(e.ce=n=>{this._instance=n,n.isCE=!0;const r=(i,o)=>{this.dispatchEvent(new CustomEvent(i,{detail:o}))};n.emit=(i,...o)=>{r(i,o),jt(i)!==i&&r(jt(i),o)};let s=this;for(;s=s&&(s.parentNode||s.host);)if(s instanceof ll){n.parent=s._instance,n.provides=s._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function cA(t="$style"){{const e=tr();if(!e)return Pe;const n=e.type.__cssModules;if(!n)return Pe;const r=n[t];return r||Pe}}const $y=new WeakMap,jy=new WeakMap,Ec=Symbol("_moveCb"),qp=Symbol("_enterCb"),Hy={name:"TransitionGroup",props:$e({},$I,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=tr(),r=If();let s,i;return sl(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!pA(s[0].el,n.vnode.el,o))return;s.forEach(hA),s.forEach(fA);const a=s.filter(dA);Ly(),a.forEach(c=>{const l=c.el,u=l.style;xn(l,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=l[Ec]=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",h),l[Ec]=null,lr(l,o))};l.addEventListener("transitionend",h)})}),()=>{const o=_e(t),a=xy(o);let c=o.tag||Ke;if(s=[],i)for(let l=0;l<i.length;l++){const u=i[l];u.el&&u.el instanceof Element&&(s.push(u),rs(u,Qs(u,a,r,n)),$y.set(u,u.el.getBoundingClientRect()))}i=e.default?nl(e.default()):[];for(let l=0;l<i.length;l++){const u=i[l];u.key!=null&&rs(u,Qs(u,a,r,n))}return ae(c,null,i)}}},lA=t=>delete t.mode;Hy.props;const uA=Hy;function hA(t){const e=t.el;e[Ec]&&e[Ec](),e[qp]&&e[qp]()}function fA(t){jy.set(t,t.el.getBoundingClientRect())}function dA(t){const e=$y.get(t),n=jy.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function pA(t,e,n){const r=t.cloneNode(),s=t[Js];s&&s.forEach(a=>{a.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(a=>a&&r.classList.add(a)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=Vy(r);return i.removeChild(r),o}const Pr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ee(e)?n=>Ls(e,n):e};function mA(t){t.target.composing=!0}function Wp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Yt=Symbol("_assign"),Dt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Yt]=Pr(s);const i=r||s.props&&s.props.type==="number";Vn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=cc(a)),t[Yt](a)}),n&&Vn(t,"change",()=>{t.value=t.value.trim()}),e||(Vn(t,"compositionstart",mA),Vn(t,"compositionend",Wp),Vn(t,"change",Wp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[Yt]=Pr(i),t.composing)return;const o=(s||t.type==="number")&&!/^0\d/.test(t.value)?cc(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},Of={deep:!0,created(t,e,n){t[Yt]=Pr(n),Vn(t,"change",()=>{const r=t._modelValue,s=Ys(t),i=t.checked,o=t[Yt];if(ee(r)){const a=zc(r,s),c=a!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const l=[...r];l.splice(a,1),o(l)}}else if(ms(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(qy(t,i))})},mounted:Kp,beforeUpdate(t,e,n){t[Yt]=Pr(n),Kp(t,e,n)}};function Kp(t,{value:e,oldValue:n},r){t._modelValue=e,ee(e)?t.checked=zc(e,r.props.value)>-1:ms(e)?t.checked=e.has(r.props.value):e!==n&&(t.checked=Rr(e,qy(t,!0)))}const kf={created(t,{value:e},n){t.checked=Rr(e,n.props.value),t[Yt]=Pr(n),Vn(t,"change",()=>{t[Yt](Ys(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[Yt]=Pr(r),e!==n&&(t.checked=Rr(e,r.props.value))}},wc={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=ms(e);Vn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?cc(Ys(o)):Ys(o));t[Yt](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,_s(()=>{t._assigning=!1})}),t[Yt]=Pr(r)},mounted(t,{value:e,modifiers:{number:n}}){zp(t,e)},beforeUpdate(t,e,n){t[Yt]=Pr(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||zp(t,e)}};function zp(t,e,n){const r=t.multiple,s=ee(e);if(!(r&&!s&&!ms(e))){for(let i=0,o=t.options.length;i<o;i++){const a=t.options[i],c=Ys(a);if(r)if(s){const l=typeof c;l==="string"||l==="number"?a.selected=e.some(u=>String(u)===String(c)):a.selected=zc(e,c)>-1}else a.selected=e.has(c);else if(Rr(Ys(a),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ys(t){return"_value"in t?t._value:t.value}function qy(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Wy={created(t,e,n){Da(t,e,n,null,"created")},mounted(t,e,n){Da(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Da(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Da(t,e,n,r,"updated")}};function Ky(t,e){switch(t){case"SELECT":return wc;case"TEXTAREA":return Dt;default:switch(e){case"checkbox":return Of;case"radio":return kf;default:return Dt}}}function Da(t,e,n,r,s){const o=Ky(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function gA(){Dt.getSSRProps=({value:t})=>({value:t}),kf.getSSRProps=({value:t},e)=>{if(e.props&&Rr(e.props.value,t))return{checked:!0}},Of.getSSRProps=({value:t},e)=>{if(ee(t)){if(e.props&&zc(t,e.props.value)>-1)return{checked:!0}}else if(ms(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Wy.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=Ky(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const _A=["ctrl","shift","alt","meta"],yA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>_A.some(n=>t[`${n}Key`]&&!e.includes(n))},vA=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=yA[e[o]];if(a&&a(s,e))return}return t(s,...i)})},EA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zy=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=jt(s.key);if(e.some(o=>o===i||EA[o]===i))return t(s)})},Gy=$e({patchProp:sA},BI);let Ji,Gp=!1;function Qy(){return Ji||(Ji=py(Gy))}function Jy(){return Ji=Gp?Ji:my(Gy),Gp=!0,Ji}const ch=(...t)=>{Qy().render(...t)},Yy=(...t)=>{Jy().hydrate(...t)},Xy=(...t)=>{const e=Qy().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ev(r);if(!s)return;const i=e._component;!oe(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,Zy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},wA=(...t)=>{const e=Jy().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=ev(r);if(s)return n(s,!0,Zy(s))},e};function Zy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ev(t){return je(t)?document.querySelector(t):t}let Qp=!1;const TA=()=>{Qp||(Qp=!0,gA(),WI())};/**
* vue v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const bA=()=>{},IA=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:q_,BaseTransitionPropsValidators:Af,Comment:bt,DeprecationTypes:MI,EffectScope:af,ErrorCodes:ob,ErrorTypeStrings:OI,Fragment:Ke,KeepAlive:xb,ReactiveEffect:zs,Static:ts,Suspense:Ib,Teleport:gI,Text:ss,TrackOpTypes:rb,Transition:cl,TransitionGroup:uA,TriggerOpTypes:sb,VueElement:ll,assertNumber:ib,callWithAsyncErrorHandling:qt,callWithErrorHandling:jn,camelize:Ot,capitalize:jo,cloneVNode:Rn,compatUtils:LI,compile:bA,computed:Xe,createApp:Xy,createBlock:os,createCommentVNode:Hn,createElementBlock:Oe,createElementVNode:Y,createHydrationRenderer:my,createPropsRestProxy:Qb,createRenderer:py,createSSRApp:wA,createSlots:Lb,createStaticVNode:Iy,createTextVNode:Qe,createVNode:ae,customRef:C_,defineAsyncComponent:Db,defineComponent:qo,defineCustomElement:By,defineEmits:Bb,defineExpose:$b,defineModel:qb,defineOptions:jb,defineProps:Ub,defineSSRCustomElement:oA,defineSlots:Hb,devtools:kI,effect:R0,effectScope:cf,getCurrentInstance:tr,getCurrentScope:lf,getTransitionRawChildren:nl,guardReactiveProps:by,h:al,handleError:gs,hasInjectionContext:oy,hydrate:Yy,initCustomFormatter:RI,initDirectivesForSSR:TA,inject:Jt,isMemoSame:ky,isProxy:mf,isReactive:$n,isReadonly:Gs,isRef:qe,isRuntimeOnly:bI,isShallow:co,isVNode:Cr,markRaw:Yc,mergeDefaults:zb,mergeModels:Gb,mergeProps:Ay,nextTick:_s,normalizeClass:gi,normalizeProps:T0,normalizeStyle:mi,onActivated:K_,onBeforeMount:Q_,onBeforeUnmount:ys,onBeforeUpdate:J_,onDeactivated:z_,onErrorCaptured:ey,onMounted:kn,onRenderTracked:Z_,onRenderTriggered:X_,onScopeDispose:h_,onServerPrefetch:Y_,onUnmounted:il,onUpdated:sl,openBlock:Ee,popScopeId:pb,provide:zi,proxyRefs:yf,pushScopeId:db,queuePostFlushCb:hc,reactive:Zn,readonly:pf,ref:ve,registerRuntimeCompiler:TI,render:ch,renderList:dc,renderSlot:pc,resolveComponent:po,resolveDirective:Tb,resolveDynamicComponent:wb,resolveFilter:VI,resolveTransitionHooks:Qs,setBlockTracking:eh,setDevtoolsHook:DI,setTransitionHooks:rs,shallowReactive:df,shallowReadonly:G0,shallowRef:S_,ssrContextKey:U_,ssrUtils:xI,stop:C0,toDisplayString:Bt,toHandlerKey:Wi,toHandlers:Mb,toRaw:_e,toRef:P_,toRefs:Xc,toValue:X0,transformVNodeArgs:_I,triggerRef:Y0,unref:Be,useAttrs:Kb,useCssModule:cA,useCssVars:Uy,useModel:SI,useSSRContext:B_,useSlots:ny,useTransitionState:If,vModelCheckbox:Of,vModelDynamic:Wy,vModelRadio:kf,vModelSelect:wc,vModelText:Dt,vShow:_o,version:Dy,warn:PI,watch:Wt,watchEffect:Ku,watchPostEffect:$_,watchSyncEffect:j_,withAsyncContext:Jb,withCtx:ct,withDefaults:Wb,withDirectives:vt,withKeys:zy,withMemo:CI,withModifiers:vA,withScopeId:mb},Symbol.toStringTag,{value:"Module"}));var AA=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let tv;const ul=t=>tv=t,nv=Symbol();function lh(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Yi;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Yi||(Yi={}));function SA(){const t=cf(!0),e=t.run(()=>ve({}));let n=[],r=[];const s=Yc({install(i){ul(s),s._a=i,i.provide(nv,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!AA?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const rv=()=>{};function Jp(t,e,n,r=rv){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&lf()&&h_(s),s}function Is(t,...e){t.slice().forEach(n=>{n(...e)})}const RA=t=>t();function uh(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];lh(s)&&lh(r)&&t.hasOwnProperty(n)&&!qe(r)&&!$n(r)?t[n]=uh(s,r):t[n]=r}return t}const CA=Symbol();function PA(t){return!lh(t)||!t.hasOwnProperty(CA)}const{assign:ur}=Object;function OA(t){return!!(qe(t)&&t.effect)}function kA(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let c;function l(){a||(n.state.value[t]=s?s():{});const u=Xc(n.state.value[t]);return ur(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Yc(Xe(()=>{ul(n);const d=n._s.get(t);return o[f].call(d,d)})),h),{}))}return c=sv(t,l,e,n,r,!0),c}function sv(t,e,n={},r,s,i){let o;const a=ur({actions:{}},n),c={deep:!0};let l,u,h=[],f=[],d;const m=r.state.value[t];!i&&!m&&(r.state.value[t]={}),ve({});let y;function E(T){let S;l=u=!1,typeof T=="function"?(T(r.state.value[t]),S={type:Yi.patchFunction,storeId:t,events:d}):(uh(r.state.value[t],T),S={type:Yi.patchObject,payload:T,storeId:t,events:d});const I=y=Symbol();_s().then(()=>{y===I&&(l=!0)}),u=!0,Is(h,S,r.state.value[t])}const R=i?function(){const{state:S}=n,I=S?S():{};this.$patch(F=>{ur(F,I)})}:rv;function w(){o.stop(),h=[],f=[],r._s.delete(t)}function _(T,S){return function(){ul(r);const I=Array.from(arguments),F=[],N=[];function H(B){F.push(B)}function me(B){N.push(B)}Is(f,{args:I,name:T,store:b,after:H,onError:me});let ue;try{ue=S.apply(this&&this.$id===t?this:b,I)}catch(B){throw Is(N,B),B}return ue instanceof Promise?ue.then(B=>(Is(F,B),B)).catch(B=>(Is(N,B),Promise.reject(B))):(Is(F,ue),ue)}}const v={_p:r,$id:t,$onAction:Jp.bind(null,f),$patch:E,$reset:R,$subscribe(T,S={}){const I=Jp(h,T,S.detached,()=>F()),F=o.run(()=>Wt(()=>r.state.value[t],N=>{(S.flush==="sync"?u:l)&&T({storeId:t,type:Yi.direct,events:d},N)},ur({},c,S)));return I},$dispose:w},b=Zn(v);r._s.set(t,b);const P=(r._a&&r._a.runWithContext||RA)(()=>r._e.run(()=>(o=cf()).run(e)));for(const T in P){const S=P[T];if(qe(S)&&!OA(S)||$n(S))i||(m&&PA(S)&&(qe(S)?S.value=m[T]:uh(S,m[T])),r.state.value[t][T]=S);else if(typeof S=="function"){const I=_(T,S);P[T]=I,a.actions[T]=S}}return ur(b,P),ur(_e(b),P),Object.defineProperty(b,"$state",{get:()=>r.state.value[t],set:T=>{E(S=>{ur(S,T)})}}),r._p.forEach(T=>{ur(b,o.run(()=>T({store:b,app:r._a,pinia:r,options:a})))}),m&&i&&n.hydrate&&n.hydrate(b.$state,m),l=!0,u=!0,b}function DA(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,c){const l=oy();return a=a||(l?Jt(nv,null):null),a&&ul(a),a=tv,a._s.has(r)||(i?sv(r,e,s,a):kA(r,s,a)),a._s.get(r)}return o.$id=r,o}function _i(t){{t=_e(t);const e={};for(const n in t){const r=t[n];(qe(r)||$n(r))&&(e[n]=P_(t,n))}return e}}var Yp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|l>>6,d=l&63;c||(d=64,o||(f=64)),r.push(n[u],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new xA;const f=i<<2|a>>4;if(r.push(f),l!==64){const d=a<<4&240|l>>2;if(r.push(d),h!==64){const m=l<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VA=function(t){const e=iv(t);return ov.encodeByteArray(e,!0)},Tc=function(t){return VA(t).replace(/\./g,"")},av=function(t){try{return ov.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=()=>LA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof Yp>"u")return;const t=Yp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&av(t[1]);return e&&JSON.parse(e)},hl=()=>{try{return MA()||FA()||UA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cv=t=>{var e,n;return(n=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},BA=t=>{const e=cv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lv=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.config},uv=t=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Tc(JSON.stringify(n)),Tc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function qA(){var t;const e=(t=hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function GA(){return!qA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hv(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JA,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new nr(s,a,r)}}function YA(t,e){return t.replace(XA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XA=/\{\$([^}]+)}/g;function ZA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Xp(i)&&Xp(o)){if(!bc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ui(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Bi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eS(t,e){const n=new tS(t,e);return n.subscribe.bind(n)}class tS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=fu),s.error===void 0&&(s.error=fu),s.complete===void 0&&(s.complete=fu);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fu(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $A;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iS(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Hr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hr){return this.instances.has(e)}getOptions(e=Hr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hr){return this.component?this.component.multipleInstances?e:Hr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(t){return t===Hr?void 0:t}function iS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const aS={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},cS=Te.INFO,lS={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},uS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Df{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=uS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const hS=(t,e)=>e.some(n=>t instanceof n);let Zp,em;function fS(){return Zp||(Zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return em||(em=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fv=new WeakMap,hh=new WeakMap,dv=new WeakMap,du=new WeakMap,Nf=new WeakMap;function pS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Tr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fv.set(n,t)}).catch(()=>{}),Nf.set(e,t),e}function mS(t){if(hh.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hh.set(t,e)}let fh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gS(t){fh=t(fh)}function _S(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pu(this),e,...n);return dv.set(r,e.sort?e.sort():[e]),Tr(r)}:dS().includes(t)?function(...e){return t.apply(pu(this),e),Tr(fv.get(this))}:function(...e){return Tr(t.apply(pu(this),e))}}function yS(t){return typeof t=="function"?_S(t):(t instanceof IDBTransaction&&mS(t),hS(t,fS())?new Proxy(t,fh):t)}function Tr(t){if(t instanceof IDBRequest)return pS(t);if(du.has(t))return du.get(t);const e=yS(t);return e!==t&&(du.set(t,e),Nf.set(e,t)),e}const pu=t=>Nf.get(t);function vS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Tr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Tr(o.result),c.oldVersion,c.newVersion,Tr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const ES=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],mu=new Map;function tm(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mu.get(e))return mu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ES.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return mu.set(e,i),i}gS(t=>({...t,get:(e,n,r)=>tm(e,n)||t.get(e,n,r),has:(e,n)=>!!tm(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dh="@firebase/app",nm="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Df("@firebase/app"),IS="@firebase/app-compat",AS="@firebase/analytics-compat",SS="@firebase/analytics",RS="@firebase/app-check-compat",CS="@firebase/app-check",PS="@firebase/auth",OS="@firebase/auth-compat",kS="@firebase/database",DS="@firebase/database-compat",NS="@firebase/functions",xS="@firebase/functions-compat",VS="@firebase/installations",LS="@firebase/installations-compat",MS="@firebase/messaging",FS="@firebase/messaging-compat",US="@firebase/performance",BS="@firebase/performance-compat",$S="@firebase/remote-config",jS="@firebase/remote-config-compat",HS="@firebase/storage",qS="@firebase/storage-compat",WS="@firebase/firestore",KS="@firebase/firestore-compat",zS="firebase",GS="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",QS={[dh]:"fire-core",[IS]:"fire-core-compat",[SS]:"fire-analytics",[AS]:"fire-analytics-compat",[CS]:"fire-app-check",[RS]:"fire-app-check-compat",[PS]:"fire-auth",[OS]:"fire-auth-compat",[kS]:"fire-rtdb",[DS]:"fire-rtdb-compat",[NS]:"fire-fn",[xS]:"fire-fn-compat",[VS]:"fire-iid",[LS]:"fire-iid-compat",[MS]:"fire-fcm",[FS]:"fire-fcm-compat",[US]:"fire-perf",[BS]:"fire-perf-compat",[$S]:"fire-rc",[jS]:"fire-rc-compat",[HS]:"fire-gcs",[qS]:"fire-gcs-compat",[WS]:"fire-fst",[KS]:"fire-fst-compat","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,JS=new Map,mh=new Map;function rm(t,e){try{t.container.addComponent(e)}catch(n){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xs(t){const e=t.name;if(mh.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,t);for(const n of Ic.values())rm(n,t);for(const n of JS.values())rm(n,t);return!0}function xf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _n(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},br=new zo("app","Firebase",YS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=GS;function pv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ph,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw br.create("bad-app-name",{appName:String(s)});if(n||(n=lv()),!n)throw br.create("no-options");const i=Ic.get(s);if(i){if(bc(n,i.options)&&bc(r,i.config))return i;throw br.create("duplicate-app",{appName:s})}const o=new oS(s);for(const c of mh.values())o.addComponent(c);const a=new XS(n,r,o);return Ic.set(s,a),a}function mv(t=ph){const e=Ic.get(t);if(!e&&t===ph&&lv())return pv();if(!e)throw br.create("no-app",{appName:t});return e}function Ir(t,e,n){var r;let s=(r=QS[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(a.join(" "));return}Xs(new cs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZS="firebase-heartbeat-database",eR=1,yo="firebase-heartbeat-store";let gu=null;function gv(){return gu||(gu=vS(ZS,eR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yo)}catch(n){console.warn(n)}}}}).catch(t=>{throw br.create("idb-open",{originalErrorMessage:t.message})})),gu}async function tR(t){try{const n=(await gv()).transaction(yo),r=await n.objectStore(yo).get(_v(t));return await n.done,r}catch(e){if(e instanceof nr)ls.warn(e.message);else{const n=br.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(n.message)}}}async function sm(t,e){try{const r=(await gv()).transaction(yo,"readwrite");await r.objectStore(yo).put(e,_v(t)),await r.done}catch(n){if(n instanceof nr)ls.warn(n.message);else{const r=br.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ls.warn(r.message)}}}function _v(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1024,rR=30*24*60*60*1e3;class sR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=im();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=rR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=im(),{heartbeatsToSend:r,unsentEntries:s}=iR(this._heartbeatsCache.heartbeats),i=Tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function im(){return new Date().toISOString().substring(0,10)}function iR(t,e=nR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),om(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),om(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class oR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hv()?QA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return sm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function om(t){return Tc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t){Xs(new cs("platform-logger",e=>new TS(e),"PRIVATE")),Xs(new cs("heartbeat",e=>new sR(e),"PRIVATE")),Ir(dh,nm,t),Ir(dh,nm,"esm2017"),Ir("fire-js","")}aR("");var cR="firebase",lR="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(cR,lR,"app");const uR={apiKey:"AIzaSyCFMnrQ9wJoq1V1-V-Xht7reaU5cS_QndI",authDomain:"todoproject-64b38.firebaseapp.com",databaseURL:"https://todoproject-64b38-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"todoproject-64b38",storageBucket:"todoproject-64b38.appspot.com",messagingSenderId:"1031823051610",appId:"1:1031823051610:web:c5d9fb656c7d4620310163",measurementId:"G-6HLK2H14LD"},Gn=pv(uR);function Vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hR=yv,vv=new zo("auth","Firebase",yv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Df("@firebase/auth");function fR(t,...e){Ac.logLevel<=Te.WARN&&Ac.warn(`Auth (${yi}): ${t}`,...e)}function Ga(t,...e){Ac.logLevel<=Te.ERROR&&Ac.error(`Auth (${yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t,...e){throw Lf(t,...e)}function wn(t,...e){return Lf(t,...e)}function Ev(t,e,n){const r=Object.assign(Object.assign({},hR()),{[e]:n});return new zo("auth","Firebase",r).create(e,{appName:t.name})}function qn(t){return Ev(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vv.create(t,...e)}function ie(t,e,...n){if(!t)throw Lf(e,...n)}function Ln(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ga(e),new Error(e)}function Qn(t,e){t||Ln(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function dR(){return am()==="http:"||am()==="https:"}function am(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dR()||WA()||"connection"in navigator)?navigator.onLine:!0}function mR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Qn(n>e,"Short delay should be less than long delay!"),this.isMobile=HA()||KA()}get(){return pR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){Qn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ln("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ln("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ln("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Qo(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lr(t,e,n,r,s={}){return Tv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Go(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),wv.fetch()(bv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function Tv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},gR),e);try{const s=new vR(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Na(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Na(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Na(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Na(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Ev(t,u,l);on(t,u)}}catch(s){if(s instanceof nr)throw s;on(t,"network-request-failed",{message:String(s)})}}async function Jo(t,e,n,r,s={}){const i=await Lr(t,e,n,r,s);return"mfaPendingCredential"in i&&on(t,"multi-factor-auth-required",{_serverResponse:i}),i}function bv(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Mf(t.config,s):`${t.config.apiScheme}://${s}`}function yR(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wn(this.auth,"network-request-failed")),_R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Na(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=wn(t,e,r);return s.customData._tokenResponse=n,s}function cm(t){return t!==void 0&&t.enterprise!==void 0}class ER{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yR(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function wR(t,e){return Lr(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function Iv(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bR(t,e=!1){const n=lt(t),r=await n.getIdToken(e),s=Ff(r);ie(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Xi(_u(s.auth_time)),issuedAtTime:Xi(_u(s.iat)),expirationTime:Xi(_u(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function _u(t){return Number(t)*1e3}function Ff(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ga("JWT malformed, contained fewer than 3 sections"),null;try{const s=av(n);return s?JSON.parse(s):(Ga("Failed to decode base64 JWT payload"),null)}catch(s){return Ga("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lm(t){const e=Ff(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&IR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function IR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xi(this.lastLoginAt),this.creationTime=Xi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vo(t,Iv(n,{idToken:r}));ie(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Av(i.providerUserInfo):[],a=RR(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _h(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function SR(t){const e=lt(t);await Sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RR(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Av(t){return t.map(e=>{var{providerId:n}=e,r=Vf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e){const n=await Tv(t,{},async()=>{const r=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=bv(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function PR(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=lm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await CR(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new $s;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ie(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ie(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $s,this.toJSON())}_performRefresh(){return Ln("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Mn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _h(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vo(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bR(this,e)}reload(){return SR(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_n(this.auth.app))return Promise.reject(qn(this.auth));const e=await this.getIdToken();return await vo(this,TR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,R=(l=n.createdAt)!==null&&l!==void 0?l:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:v,isAnonymous:b,providerData:A,stsTokenManager:P}=n;ie(_&&P,e,"internal-error");const T=$s.fromJSON(this.name,P);ie(typeof _=="string",e,"internal-error"),or(h,e.name),or(f,e.name),ie(typeof v=="boolean",e,"internal-error"),ie(typeof b=="boolean",e,"internal-error"),or(d,e.name),or(m,e.name),or(y,e.name),or(E,e.name),or(R,e.name),or(w,e.name);const S=new Mn({uid:_,auth:e,email:f,emailVerified:v,displayName:h,isAnonymous:b,photoURL:m,phoneNumber:d,tenantId:y,stsTokenManager:T,createdAt:R,lastLoginAt:w});return A&&Array.isArray(A)&&(S.providerData=A.map(I=>Object.assign({},I))),E&&(S._redirectEventId=E),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new $s;s.updateFromServerResponse(n);const i=new Mn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Sc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ie(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Av(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new $s;a.updateFromIdToken(r);const c=new Mn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _h(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,l),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map;function Fn(t){Qn(t instanceof Function,"Expected a class definition");let e=um.get(t);return e?(Qn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,um.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sv.type="NONE";const hm=Sv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e,n){return`firebase:${t}:${e}:${n}`}class js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Qa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Qa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new js(Fn(hm),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||Fn(hm);const o=Qa(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=Mn._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new js(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new js(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kv(e))return"Blackberry";if(Dv(e))return"Webos";if(Uf(e))return"Safari";if((e.includes("chrome/")||Cv(e))&&!e.includes("edge/"))return"Chrome";if(Ov(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Rv(t=tt()){return/firefox\//i.test(t)}function Uf(t=tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cv(t=tt()){return/crios\//i.test(t)}function Pv(t=tt()){return/iemobile/i.test(t)}function Ov(t=tt()){return/android/i.test(t)}function kv(t=tt()){return/blackberry/i.test(t)}function Dv(t=tt()){return/webos/i.test(t)}function fl(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OR(t=tt()){var e;return fl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kR(){return zA()&&document.documentMode===10}function Nv(t=tt()){return fl(t)||Ov(t)||Dv(t)||kv(t)||/windows phone/i.test(t)||Pv(t)}function DR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e=[]){let n;switch(t){case"Browser":n=fm(tt());break;case"Worker":n=`${fm(tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=6;class LR{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VR,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dm(this),this.idTokenSubscription=new dm(this),this.beforeStateQueue=new NR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Iv(this,{idToken:e}),r=await Mn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_n(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_n(this.app))return Promise.reject(qn(this));const n=e?lt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _n(this.app)?Promise.reject(qn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _n(this.app)?Promise.reject(qn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xR(this),n=new LR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await PR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fn(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await js.create(this,[Fn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vs(t){return lt(t)}class dm{constructor(e){this.auth=e,this.observer=null,this.addObserver=eS(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(t){dl=t}function Vv(t){return dl.loadJS(t)}function UR(){return dl.recaptchaEnterpriseScript}function BR(){return dl.gapiScript}function $R(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jR="recaptcha-enterprise",HR="NO_RECAPTCHA";class qR{constructor(e){this.type=jR,this.auth=vs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{wR(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new ER(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;cm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(HR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&cm(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=UR();c.length!==0&&(c+=a),Vv(c).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function pm(t,e,n,r=!1){const s=new qR(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function yh(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await pm(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await pm(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t,e){const n=xf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bc(i,e??{}))return s;on(s,"already-initialized")}return n.initialize({options:e})}function KR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function zR(t,e,n){const r=vs(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Lv(e),{host:o,port:a}=GR(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||QR()}function Lv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GR(t){const e=Lv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:mm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:mm(o)}}}function mm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ln("not implemented")}_getIdTokenResponse(e){return Ln("not implemented")}_linkToIdToken(e,n){return Ln("not implemented")}_getReauthenticationResolver(e){return Ln("not implemented")}}async function JR(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e){return Jo(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e){return Jo(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function ZR(t,e){return Jo(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Bf{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Eo(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Eo(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,n,"signInWithPassword",YR);case"emailLink":return XR(e,{email:this._email,oobCode:this._password});default:on(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yh(e,r,"signUpPassword",JR);case"emailLink":return ZR(e,{idToken:n,email:this._email,oobCode:this._password});default:on(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hs(t,e){return Jo(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="http://localhost";class us extends Bf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):on("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vf(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new us(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Hs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hs(e,n)}buildRequest(){const e={requestUri:eC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nC(t){const e=Ui(Bi(t)).link,n=e?Ui(Bi(e)).deep_link_id:null,r=Ui(Bi(t)).deep_link_id;return(r?Ui(Bi(r)).link:null)||r||n||e||t}class $f{constructor(e){var n,r,s,i,o,a;const c=Ui(Bi(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=tC((s=c.mode)!==null&&s!==void 0?s:null);ie(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=nC(e);try{return new $f(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.providerId=vi.PROVIDER_ID}static credential(e,n){return Eo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$f.parseLink(n);return ie(r,"argument-error"),Eo._fromEmailAndCode(e,r.code,r.tenantId)}}vi.PROVIDER_ID="password";vi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr extends Yo{constructor(){super("facebook.com")}static credential(e){return us._fromParams({providerId:gr.PROVIDER_ID,signInMethod:gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gr.credentialFromTaggedObject(e)}static credentialFromError(e){return gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gr.credential(e.oauthAccessToken)}catch{return null}}}gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return us._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr extends Yo{constructor(){super("github.com")}static credential(e){return us._fromParams({providerId:yr.PROVIDER_ID,signInMethod:yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yr.credentialFromTaggedObject(e)}static credentialFromError(e){return yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yr.credential(e.oauthAccessToken)}catch{return null}}}yr.GITHUB_SIGN_IN_METHOD="github.com";yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Yo{constructor(){super("twitter.com")}static credential(e,n){return us._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vr.credentialFromTaggedObject(e)}static credentialFromError(e){return vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vr.credential(n,r)}catch{return null}}}vr.TWITTER_SIGN_IN_METHOD="twitter.com";vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e){return Jo(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Mn._fromIdTokenResponse(e,r,s),o=gm(r);return new hs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=gm(r);return new hs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function gm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rc(e,n,r,s)}}function Fv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(t,i,e,r):i})}async function sC(t,e,n=!1){const r=await vo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(t,e,n=!1){const{auth:r}=t;if(_n(r.app))return Promise.reject(qn(r));const s="reauthenticate";try{const i=await vo(t,Fv(r,s,e,t),n);ie(i.idToken,r,"internal-error");const o=Ff(i.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),hs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&on(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uv(t,e,n=!1){if(_n(t.app))return Promise.reject(qn(t));const r="signIn",s=await Fv(t,r,e),i=await hs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function oC(t,e){return Uv(vs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bv(t){const e=vs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function aC(t,e,n){if(_n(t.app))return Promise.reject(qn(t));const r=vs(t),o=await yh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rC).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Bv(t),c}),a=await hs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cC(t,e,n){return _n(t.app)?Promise.reject(qn(t)):oC(lt(t),vi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Bv(t),r})}function lC(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function uC(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function hC(t,e,n,r){return lt(t).onAuthStateChanged(e,n,r)}function fC(t){return lt(t).signOut()}const Cc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cc,"1"),this.storage.removeItem(Cc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){const t=tt();return Uf(t)||fl(t)}const pC=1e3,mC=10;class jv extends $v{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dC()&&DR(),this.fallbackToPolling=Nv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);kR()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,mC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jv.type="LOCAL";const gC=jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends $v{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Hv.type="SESSION";const qv=Hv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await _C(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=jf("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(){return window}function vC(t){Tn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){return typeof Tn().WorkerGlobalScope<"u"&&typeof Tn().importScripts=="function"}async function EC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function TC(){return Wv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="firebaseLocalStorageDb",bC=1,Pc="firebaseLocalStorage",zv="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ml(t,e){return t.transaction([Pc],e?"readwrite":"readonly").objectStore(Pc)}function IC(){const t=indexedDB.deleteDatabase(Kv);return new Xo(t).toPromise()}function vh(){const t=indexedDB.open(Kv,bC);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pc,{keyPath:zv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pc)?e(r):(r.close(),await IC(),e(await vh()))})})}async function _m(t,e,n){const r=ml(t,!0).put({[zv]:e,value:n});return new Xo(r).toPromise()}async function AC(t,e){const n=ml(t,!1).get(e),r=await new Xo(n).toPromise();return r===void 0?null:r.value}function ym(t,e){const n=ml(t,!0).delete(e);return new Xo(n).toPromise()}const SC=800,RC=3;class Gv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>RC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Wv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pl._getInstance(TC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await EC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vh();return await _m(e,Cc,"1"),await ym(e,Cc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_m(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ym(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ml(s,!1).getAll();return new Xo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gv.type="LOCAL";const CC=Gv;new Qo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t,e){return e?Fn(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf extends Bf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OC(t){return Uv(t.auth,new Hf(t),t.bypassAuthState)}function kC(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),iC(n,new Hf(t),t.bypassAuthState)}async function DC(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),sC(n,new Hf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return kC;default:on(this.auth,"internal-error")}}resolve(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new Qo(2e3,1e4);class ks extends Qv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){Qn(this.filter.length===1,"Popup operations only handle one event");const e=jf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NC.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="pendingRedirect",Ja=new Map;class VC extends Qv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ja.get(this.auth._key());if(!e){try{const r=await LC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ja.set(this.auth._key(),e)}return this.bypassAuthState||Ja.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LC(t,e){const n=UC(e),r=FC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function MC(t,e){Ja.set(t._key(),e)}function FC(t){return Fn(t._redirectPersistence)}function UC(t){return Qa(xC,t.config.apiKey,t.name)}async function BC(t,e,n=!1){if(_n(t.app))return Promise.reject(qn(t));const r=vs(t),s=PC(r,e),o=await new VC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=10*60*1e3;class jC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Jv(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$C&&this.cachedEventUids.clear(),this.cachedEventUids.has(vm(e))}saveEventToCache(e){this.cachedEventUids.add(vm(e)),this.lastProcessedEventTime=Date.now()}}function vm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Jv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KC=/^https?/;async function zC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qC(t);for(const n of e)try{if(GC(n))return}catch{}on(t,"unauthorized-domain")}function GC(t){const e=gh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!KC.test(n))return!1;if(WC.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Qo(3e4,6e4);function Em(){const t=Tn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function JC(t){return new Promise((e,n)=>{var r,s,i;function o(){Em(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Em(),n(wn(t,"network-request-failed"))},timeout:QC.get()})}if(!((s=(r=Tn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Tn().gapi)===null||i===void 0)&&i.load)o();else{const a=$R("iframefcb");return Tn()[a]=()=>{gapi.load?o():n(wn(t,"network-request-failed"))},Vv(`${BR()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw Ya=null,e})}let Ya=null;function YC(t){return Ya=Ya||JC(t),Ya}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=new Qo(5e3,15e3),ZC="__/auth/iframe",eP="emulator/auth/iframe",tP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rP(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mf(e,eP):`https://${t.config.authDomain}/${ZC}`,r={apiKey:e.apiKey,appName:t.name,v:yi},s=nP.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Go(r).slice(1)}`}async function sP(t){const e=await YC(t),n=Tn().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:rP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tP,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=wn(t,"network-request-failed"),a=Tn().setTimeout(()=>{i(o)},XC.get());function c(){Tn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oP=500,aP=600,cP="_blank",lP="http://localhost";class wm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uP(t,e,n,r=oP,s=aP){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},iP),{width:r.toString(),height:s.toString(),top:i,left:o}),l=tt().toLowerCase();n&&(a=Cv(l)?cP:n),Rv(l)&&(e=e||lP,c.scrollbars="yes");const u=Object.entries(c).reduce((f,[d,m])=>`${f}${d}=${m},`,"");if(OR(l)&&a!=="_self")return hP(e||"",a),new wm(null);const h=window.open(e||"",a,u);ie(h,t,"popup-blocked");try{h.focus()}catch{}return new wm(h)}function hP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="__/auth/handler",dP="emulator/auth/handler",pP=encodeURIComponent("fac");async function Tm(t,e,n,r,s,i){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yi,eventId:s};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",ZA(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Yo){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${pP}=${encodeURIComponent(c)}`:"";return`${mP(t)}?${Go(a).slice(1)}${l}`}function mP({config:t}){return t.emulator?Mf(t,dP):`https://${t.authDomain}/${fP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu="webStorageSupport";class gP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qv,this._completeRedirectFn=BC,this._overrideRedirectResult=MC}async _openPopup(e,n,r,s){var i;Qn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tm(e,n,r,gh(),s);return uP(e,o,jf())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Tm(e,n,r,gh(),s);return vC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Qn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sP(e),r=new jC(e);return n.register("authEvent",s=>(ie(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yu,{type:yu},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[yu];o!==void 0&&n(!!o),on(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nv()||Uf()||fl()}}const _P=gP;var bm="@firebase/auth",Im="1.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function EP(t){Xs(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xv(t)},l=new MR(r,s,i,c);return KR(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xs(new cs("auth-internal",e=>{const n=vs(e.getProvider("auth").getImmediate());return(r=>new yP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(bm,Im,vP(t)),Ir(bm,Im,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=5*60,TP=uv("authIdTokenMaxAge")||wP;let Am=null;const bP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>TP)return;const s=n==null?void 0:n.token;Am!==s&&(Am=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Zo(t=mv()){const e=xf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=WR(t,{popupRedirectResolver:_P,persistence:[CC,gC,qv]}),r=uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=bP(i.toString());uC(n,o,()=>o(n.currentUser)),lC(n,a=>o(a))}}const s=cv("auth");return s&&zR(n,`http://${s}`),n}function IP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}FR({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=wn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",IP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});EP("Browser");var AP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},J,qf=qf||{},le=AP||self;function gl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ea(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SP(t){return Object.prototype.hasOwnProperty.call(t,vu)&&t[vu]||(t[vu]=++RP)}var vu="closure_uid_"+(1e9*Math.random()>>>0),RP=0;function CP(t,e,n){return t.call.apply(t.bind,arguments)}function PP(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function It(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?It=CP:It=PP,It.apply(null,arguments)}function xa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ht(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Mr(){this.s=this.s,this.o=this.o}var OP=0;Mr.prototype.s=!1;Mr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),OP!=0)&&SP(this)};Mr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Wf(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sm(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gl(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function At(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}At.prototype.h=function(){this.defaultPrevented=!0};var kP=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};le.addEventListener("test",n,e),le.removeEventListener("test",n,e)}catch{}return t}();function wo(t){return/^[\s\xa0]*$/.test(t)}function _l(){var t=le.navigator;return t&&(t=t.userAgent)?t:""}function gn(t){return _l().indexOf(t)!=-1}function Kf(t){return Kf[" "](t),t}Kf[" "]=function(){};function DP(t,e){var n=I1;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var NP=gn("Opera"),Zs=gn("Trident")||gn("MSIE"),Xv=gn("Edge"),Eh=Xv||Zs,Zv=gn("Gecko")&&!(_l().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge"))&&!(gn("Trident")||gn("MSIE"))&&!gn("Edge"),xP=_l().toLowerCase().indexOf("webkit")!=-1&&!gn("Edge");function eE(){var t=le.document;return t?t.documentMode:void 0}var wh;e:{var Eu="",wu=function(){var t=_l();if(Zv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Xv)return/Edge\/([\d\.]+)/.exec(t);if(Zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xP)return/WebKit\/(\S+)/.exec(t);if(NP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wu&&(Eu=wu?wu[1]:""),Zs){var Tu=eE();if(Tu!=null&&Tu>parseFloat(Eu)){wh=String(Tu);break e}}wh=Eu}var Th;if(le.document&&Zs){var Rm=eE();Th=Rm||parseInt(wh,10)||void 0}else Th=void 0;var VP=Th;function To(t,e){if(At.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Zv){e:{try{Kf(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:LP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&To.$.h.call(this)}}ht(To,At);var LP={2:"touch",3:"pen",4:"mouse"};To.prototype.h=function(){To.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ta="closure_listenable_"+(1e6*Math.random()|0),MP=0;function FP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++MP,this.fa=this.ia=!1}function yl(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function zf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function tE(t){const e={};for(const n in t)e[n]=t[n];return e}const Cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nE(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Cm.length;i++)n=Cm[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vl(t){this.src=t,this.g={},this.h=0}vl.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Ih(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FP(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function bh(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Yv(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(yl(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ih(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Gf="closure_lm_"+(1e6*Math.random()|0),bu={};function rE(t,e,n,r,s){if(r&&r.once)return iE(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)rE(t,e[i],n,r,s);return null}return n=Yf(n),t&&t[ta]?t.O(e,n,ea(r)?!!r.capture:!!r,s):sE(t,e,n,!1,r,s)}function sE(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ea(s)?!!s.capture:!!s,a=Jf(t);if(a||(t[Gf]=a=new vl(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=BP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kP||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(aE(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BP(){function t(n){return e.call(t.src,t.listener,n)}const e=$P;return t}function iE(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)iE(t,e[i],n,r,s);return null}return n=Yf(n),t&&t[ta]?t.P(e,n,ea(r)?!!r.capture:!!r,s):sE(t,e,n,!0,r,s)}function oE(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)oE(t,e[i],n,r,s);else r=ea(r)?!!r.capture:!!r,n=Yf(n),t&&t[ta]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Ih(i,n,r,s),-1<n&&(yl(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Jf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ih(e,n,r,s)),(n=-1<t?e[t]:null)&&Qf(n))}function Qf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ta])bh(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(aE(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Jf(e))?(bh(n,t),n.h==0&&(n.src=null,e[Gf]=null)):yl(t)}}}function aE(t){return t in bu?bu[t]:bu[t]="on"+t}function $P(t,e){if(t.fa)t=!0;else{e=new To(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Qf(t),t=n.call(r,e)}return t}function Jf(t){return t=t[Gf],t instanceof vl?t:null}var Iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(t){return typeof t=="function"?t:(t[Iu]||(t[Iu]=function(e){return t.handleEvent(e)}),t[Iu])}function ut(){Mr.call(this),this.i=new vl(this),this.S=this,this.J=null}ht(ut,Mr);ut.prototype[ta]=!0;ut.prototype.removeEventListener=function(t,e,n,r){oE(this,t,e,n,r)};function gt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new At(e,t);else if(e instanceof At)e.target=e.target||t;else{var s=e;e=new At(r,t),nE(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Va(o,r,!0,e)&&s}if(o=e.g=t,s=Va(o,r,!0,e)&&s,s=Va(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Va(o,r,!1,e)&&s}ut.prototype.N=function(){if(ut.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)yl(n[r]);delete t.g[e],t.h--}}this.J=null};ut.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};ut.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Va(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&bh(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var Xf=le.JSON.stringify;class jP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function HP(){var t=Zf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class qP{constructor(){this.h=this.g=null}add(e,n){const r=cE.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var cE=new jP(()=>new WP,t=>t.reset());class WP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function zP(t){le.setTimeout(()=>{throw t},0)}let bo,Io=!1,Zf=new qP,lE=()=>{const t=le.Promise.resolve(void 0);bo=()=>{t.then(GP)}};var GP=()=>{for(var t;t=HP();){try{t.h.call(t.g)}catch(n){zP(n)}var e=cE;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Io=!1};function El(t,e){ut.call(this),this.h=t||1,this.g=e||le,this.j=It(this.qb,this),this.l=Date.now()}ht(El,ut);J=El.prototype;J.ga=!1;J.T=null;J.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),gt(this,"tick"),this.ga&&(ed(this),this.start()))}};J.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ed(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}J.N=function(){El.$.N.call(this),ed(this),delete this.g};function td(t,e,n){if(typeof t=="function")n&&(t=It(t,n));else if(t&&typeof t.handleEvent=="function")t=It(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:le.setTimeout(t,e||0)}function uE(t){t.g=td(()=>{t.g=null,t.i&&(t.i=!1,uE(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class QP extends Mr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uE(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ao(t){Mr.call(this),this.h=t,this.g={}}ht(Ao,Mr);var Pm=[];function hE(t,e,n,r){Array.isArray(n)||(n&&(Pm[0]=n.toString()),n=Pm);for(var s=0;s<n.length;s++){var i=rE(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function fE(t){zf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qf(e)},t),t.g={}}Ao.prototype.N=function(){Ao.$.N.call(this),fE(this)};Ao.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function wl(){this.g=!0}wl.prototype.Ea=function(){this.g=!1};function JP(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function YP(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ds(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ZP(t,n)+(r?" "+r:"")})}function XP(t,e){t.info(function(){return"TIMEOUT: "+e})}wl.prototype.info=function(){};function ZP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Xf(n)}catch{return e}}var Es={},Om=null;function Tl(){return Om=Om||new ut}Es.Ta="serverreachability";function dE(t){At.call(this,Es.Ta,t)}ht(dE,At);function So(t){const e=Tl();gt(e,new dE(e))}Es.STAT_EVENT="statevent";function pE(t,e){At.call(this,Es.STAT_EVENT,t),this.stat=e}ht(pE,At);function Pt(t){const e=Tl();gt(e,new pE(e,t))}Es.Ua="timingevent";function mE(t,e){At.call(this,Es.Ua,t),this.size=e}ht(mE,At);function na(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return le.setTimeout(function(){t()},e)}var bl={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gE={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function nd(){}nd.prototype.h=null;function km(t){return t.h||(t.h=t.i())}function _E(){}var ra={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rd(){At.call(this,"d")}ht(rd,At);function sd(){At.call(this,"c")}ht(sd,At);var Ah;function Il(){}ht(Il,nd);Il.prototype.g=function(){return new XMLHttpRequest};Il.prototype.i=function(){return{}};Ah=new Il;function sa(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ao(this),this.P=e1,t=Eh?125:void 0,this.V=new El(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new yE}function yE(){this.i=null,this.g="",this.h=!1}var e1=45e3,vE={},Sh={};J=sa.prototype;J.setTimeout=function(t){this.P=t};function Rh(t,e,n){t.L=1,t.A=Sl(Jn(e)),t.u=n,t.S=!0,EE(t,null)}function EE(t,e){t.G=Date.now(),ia(t),t.B=Jn(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),CE(n.i,"t",r),t.o=0,n=t.l.J,t.h=new yE,t.g=QE(t.l,n?e:null,!t.u),0<t.O&&(t.M=new QP(It(t.Pa,t,t.g),t.O)),hE(t.U,t.g,"readystatechange",t.nb),e=t.I?tE(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),So(),JP(t.j,t.v,t.B,t.m,t.W,t.u)}J.nb=function(t){t=t.target;const e=this.M;e&&yn(t)==3?e.l():this.Pa(t)};J.Pa=function(t){try{if(t==this.g)e:{const u=yn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Eh||this.g&&(this.h.h||this.g.ja()||Vm(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?So(3):So(2)),Al(this);var n=this.g.da();this.ca=n;t:if(wE(this)){var r=Vm(this.g);t="";var s=r.length,i=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gr(this),Zi(this);var o="";break t}this.h.i=new le.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,YP(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wo(a)){var l=a;break t}}l=null}if(n=l)Ds(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ch(this,n);else{this.i=!1,this.s=3,Pt(12),Gr(this),Zi(this);break e}}this.S?(TE(this,u,o),Eh&&this.i&&u==3&&(hE(this.U,this.V,"tick",this.mb),this.V.start())):(Ds(this.j,this.m,o,null),Ch(this,o)),u==4&&Gr(this),this.i&&!this.J&&(u==4?WE(this.l,this):(this.i=!1,ia(this)))}else w1(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Gr(this),Zi(this)}}}catch{}finally{}};function wE(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function TE(t,e,n){let r=!0,s;for(;!t.J&&t.o<n.length;)if(s=t1(t,n),s==Sh){e==4&&(t.s=4,Pt(14),r=!1),Ds(t.j,t.m,null,"[Incomplete Response]");break}else if(s==vE){t.s=4,Pt(15),Ds(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ds(t.j,t.m,s,null),Ch(t,s);wE(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Pt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ud(e),e.M=!0,Pt(11))):(Ds(t.j,t.m,n,"[Invalid Chunked Response]"),Gr(t),Zi(t))}J.mb=function(){if(this.g){var t=yn(this.g),e=this.g.ja();this.o<e.length&&(Al(this),TE(this,t,e),this.i&&t!=4&&ia(this))}};function t1(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Sh:(n=Number(e.substring(n,r)),isNaN(n)?vE:(r+=1,r+n>e.length?Sh:(e=e.slice(r,r+n),t.o=r+n,e)))}J.cancel=function(){this.J=!0,Gr(this)};function ia(t){t.Y=Date.now()+t.P,bE(t,t.P)}function bE(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=na(It(t.lb,t),e)}function Al(t){t.C&&(le.clearTimeout(t.C),t.C=null)}J.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(XP(this.j,this.B),this.L!=2&&(So(),Pt(17)),Gr(this),this.s=2,Zi(this)):bE(this,this.Y-t)};function Zi(t){t.l.H==0||t.J||WE(t.l,t)}function Gr(t){Al(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ed(t.V),fE(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ch(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ph(n.i,t))){if(!t.K&&Ph(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Dc(n),Ol(n);else break e;ld(n),Pt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=na(It(n.ib,n),6e3));if(1>=kE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Qr(n,11)}else if((t.K||n.g==t)&&Dc(n),!wo(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=l[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(id(i,i.h),i.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,Le(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=GE(r,r.J?r.pa:null,r.Y),o.K){DE(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Al(a),ia(a)),r.g=o}else HE(r);0<n.j.length&&kl(n)}else l[0]!="stop"&&l[0]!="close"||Qr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?Qr(n,7):cd(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}So(4)}catch{}}function n1(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function r1(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function IE(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=r1(t),r=n1(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var AE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function s1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ns(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ns){this.h=t.h,Oc(this,t.j),this.s=t.s,this.g=t.g,kc(this,t.m),this.l=t.l;var e=t.i,n=new Ro;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dm(this,n),this.o=t.o}else t&&(e=String(t).match(AE))?(this.h=!1,Oc(this,e[1]||"",!0),this.s=$i(e[2]||""),this.g=$i(e[3]||"",!0),kc(this,e[4]),this.l=$i(e[5]||"",!0),Dm(this,e[6]||"",!0),this.o=$i(e[7]||"")):(this.h=!1,this.i=new Ro(null,this.h))}ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ji(e,Nm,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ji(e,Nm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ji(n,n.charAt(0)=="/"?a1:o1,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ji(n,l1)),t.join("")};function Jn(t){return new ns(t)}function Oc(t,e,n){t.j=n?$i(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dm(t,e,n){e instanceof Ro?(t.i=e,u1(t.i,t.h)):(n||(e=ji(e,c1)),t.i=new Ro(e,t.h))}function Le(t,e,n){t.i.set(e,n)}function Sl(t){return Le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function $i(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ji(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,i1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function i1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Nm=/[#\/\?@]/g,o1=/[#\?:]/g,a1=/[#\?]/g,c1=/[#\?@]/g,l1=/#/g;function Ro(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Fr(t){t.g||(t.g=new Map,t.h=0,t.i&&s1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}J=Ro.prototype;J.add=function(t,e){Fr(this),this.i=null,t=Ei(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function SE(t,e){Fr(t),e=Ei(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function RE(t,e){return Fr(t),e=Ei(t,e),t.g.has(e)}J.forEach=function(t,e){Fr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};J.ta=function(){Fr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};J.Z=function(t){Fr(this);let e=[];if(typeof t=="string")RE(this,t)&&(e=e.concat(this.g.get(Ei(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};J.set=function(t,e){return Fr(this),this.i=null,t=Ei(this,t),RE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};J.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function CE(t,e,n){SE(t,e),0<n.length&&(t.i=null,t.g.set(Ei(t,e),Wf(n)),t.h+=n.length)}J.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ei(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function u1(t,e){e&&!t.j&&(Fr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(SE(this,r),CE(this,s,n))},t)),t.j=e}var h1=class{constructor(t,e){this.g=t,this.map=e}};function PE(t){this.l=t||f1,le.PerformanceNavigationTiming?(t=le.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var f1=10;function OE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function kE(t){return t.h?1:t.g?t.g.size:0}function Ph(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function id(t,e){t.g?t.g.add(e):t.h=e}function DE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}PE.prototype.cancel=function(){if(this.i=NE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function NE(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Wf(t.i)}var d1=class{stringify(t){return le.JSON.stringify(t,void 0)}parse(t){return le.JSON.parse(t,void 0)}};function p1(){this.g=new d1}function m1(t,e,n){const r=n||"";try{IE(t,function(s,i){let o=s;ea(s)&&(o=Xf(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function g1(t,e){const n=new wl;if(le.Image){const r=new Image;r.onload=xa(La,n,r,"TestLoadImage: loaded",!0,e),r.onerror=xa(La,n,r,"TestLoadImage: error",!1,e),r.onabort=xa(La,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=xa(La,n,r,"TestLoadImage: timeout",!1,e),le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function La(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Rl(t){this.l=t.ec||null,this.j=t.ob||!1}ht(Rl,nd);Rl.prototype.g=function(){return new Cl(this.l,this.j)};Rl.prototype.i=function(t){return function(){return t}}({});function Cl(t,e){ut.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=od,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ht(Cl,ut);var od=0;J=Cl.prototype;J.open=function(t,e){if(this.readyState!=od)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Co(this)};J.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||le).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=od};J.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xE(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function xE(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}J.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?oa(this):Co(this),this.readyState==3&&xE(this)}};J.Za=function(t){this.g&&(this.response=this.responseText=t,oa(this))};J.Ya=function(t){this.g&&(this.response=t,oa(this))};J.ka=function(){this.g&&oa(this)};function oa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Co(t)}J.setRequestHeader=function(t,e){this.v.append(t,e)};J.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};J.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Co(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var _1=le.JSON.parse;function ze(t){ut.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=VE,this.L=this.M=!1}ht(ze,ut);var VE="",y1=/^https?$/i,v1=["POST","PUT"];J=ze.prototype;J.Oa=function(t){this.M=t};J.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ah.g(),this.C=this.u?km(this.u):km(Ah),this.g.onreadystatechange=It(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){xm(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=le.FormData&&t instanceof le.FormData,!(0<=Yv(v1,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{FE(this),0<this.B&&((this.L=E1(this.g))?(this.g.timeout=this.B,this.g.ontimeout=It(this.ua,this)):this.A=td(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){xm(this,i)}};function E1(t){return Zs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}J.ua=function(){typeof qf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,gt(this,"timeout"),this.abort(8))};function xm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,LE(t),Pl(t)}function LE(t){t.F||(t.F=!0,gt(t,"complete"),gt(t,"error"))}J.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,gt(this,"complete"),gt(this,"abort"),Pl(this))};J.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pl(this,!0)),ze.$.N.call(this)};J.La=function(){this.s||(this.G||this.v||this.l?ME(this):this.kb())};J.kb=function(){ME(this)};function ME(t){if(t.h&&typeof qf<"u"&&(!t.C[1]||yn(t)!=4||t.da()!=2)){if(t.v&&yn(t)==4)td(t.La,0,t);else if(gt(t,"readystatechange"),yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(AE)[1]||null;!s&&le.self&&le.self.location&&(s=le.self.location.protocol.slice(0,-1)),r=!y1.test(s?s.toLowerCase():"")}n=r}if(n)gt(t,"complete"),gt(t,"success");else{t.m=6;try{var i=2<yn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",LE(t)}}finally{Pl(t)}}}}function Pl(t,e){if(t.g){FE(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||gt(t,"ready");try{n.onreadystatechange=r}catch{}}}function FE(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(le.clearTimeout(t.A),t.A=null)}J.isActive=function(){return!!this.g};function yn(t){return t.g?t.g.readyState:0}J.da=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};J.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};J.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),_1(e)}};function Vm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case VE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function w1(t){const e={};t=(t.g&&2<=yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(wo(t[r]))continue;var n=KP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}UP(e,function(r){return r.join(", ")})}J.Ia=function(){return this.m};J.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function UE(t){let e="";return zf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ad(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=UE(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Le(t,e,n))}function ki(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function BE(t){this.Ga=0,this.j=[],this.l=new wl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ki("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ki("baseRetryDelayMs",5e3,t),this.hb=ki("retryDelaySeedMs",1e4,t),this.eb=ki("forwardChannelMaxRetries",2,t),this.xa=ki("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PE(t&&t.concurrentRequestLimit),this.Ja=new p1,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}J=BE.prototype;J.ra=8;J.H=1;function cd(t){if($E(t),t.H==3){var e=t.W++,n=Jn(t.I);if(Le(n,"SID",t.K),Le(n,"RID",e),Le(n,"TYPE","terminate"),aa(t,n),e=new sa(t,t.l,e),e.L=2,e.A=Sl(Jn(n)),n=!1,le.navigator&&le.navigator.sendBeacon)try{n=le.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&le.Image&&(new Image().src=e.A,n=!0),n||(e.g=QE(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ia(e)}zE(t)}function Ol(t){t.g&&(ud(t),t.g.cancel(),t.g=null)}function $E(t){Ol(t),t.u&&(le.clearTimeout(t.u),t.u=null),Dc(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&le.clearTimeout(t.m),t.m=null)}function kl(t){if(!OE(t.i)&&!t.m){t.m=!0;var e=t.Na;bo||lE(),Io||(bo(),Io=!0),Zf.add(e,t),t.C=0}}function T1(t,e){return kE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=na(It(t.Na,t,e),KE(t,t.C)),t.C++,!0)}J.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new sa(this,this.l,t);let i=this.s;if(this.U&&(i?(i=tE(i),nE(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=jE(this,s,e),n=Jn(this.I),Le(n,"RID",t),Le(n,"CVER",22),this.F&&Le(n,"X-HTTP-Session-Id",this.F),aa(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(UE(i)))+"&"+e:this.o&&ad(n,this.o,i)),id(this.i,s),this.bb&&Le(n,"TYPE","init"),this.P?(Le(n,"$req",e),Le(n,"SID","null"),s.aa=!0,Rh(s,n,null)):Rh(s,n,e),this.H=2}}else this.H==3&&(t?Lm(this,t):this.j.length==0||OE(this.i)||Lm(this))};function Lm(t,e){var n;e?n=e.m:n=t.W++;const r=Jn(t.I);Le(r,"SID",t.K),Le(r,"RID",n),Le(r,"AID",t.V),aa(t,r),t.o&&t.s&&ad(r,t.o,t.s),n=new sa(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=jE(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),id(t.i,n),Rh(n,r,e)}function aa(t,e){t.na&&zf(t.na,function(n,r){Le(e,r,n)}),t.h&&IE({},function(n,r){Le(e,r,n)})}function jE(t,e,n){n=Math.min(t.j.length,n);var r=t.h?It(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{m1(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function HE(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;bo||lE(),Io||(bo(),Io=!0),Zf.add(e,t),t.A=0}}function ld(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=na(It(t.Ma,t),KE(t,t.A)),t.A++,!0)}J.Ma=function(){if(this.u=null,qE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=na(It(this.jb,this),t)}};J.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Pt(10),Ol(this),qE(this))};function ud(t){t.B!=null&&(le.clearTimeout(t.B),t.B=null)}function qE(t){t.g=new sa(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Jn(t.wa);Le(e,"RID","rpc"),Le(e,"SID",t.K),Le(e,"AID",t.V),Le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Le(e,"TO",t.qa),Le(e,"TYPE","xmlhttp"),aa(t,e),t.o&&t.s&&ad(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Sl(Jn(e)),n.u=null,n.S=!0,EE(n,t)}J.ib=function(){this.v!=null&&(this.v=null,Ol(this),ld(this),Pt(19))};function Dc(t){t.v!=null&&(le.clearTimeout(t.v),t.v=null)}function WE(t,e){var n=null;if(t.g==e){Dc(t),ud(t),t.g=null;var r=2}else if(Ph(t.i,e))n=e.F,DE(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var s=t.C;r=Tl(),gt(r,new mE(r,n)),kl(t)}else HE(t);else if(s=e.s,s==3||s==0&&0<e.ca||!(r==1&&T1(t,e)||r==2&&ld(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Qr(t,5);break;case 4:Qr(t,10);break;case 3:Qr(t,6);break;default:Qr(t,2)}}}function KE(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Qr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=It(t.pb,t);n||(n=new ns("//www.google.com/images/cleardot.gif"),le.location&&le.location.protocol=="http"||Oc(n,"https"),Sl(n)),g1(n.toString(),r)}else Pt(2);t.H=0,t.h&&t.h.za(e),zE(t),$E(t)}J.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Pt(2)):(this.l.info("Failed to ping google.com"),Pt(1))};function zE(t){if(t.H=0,t.ma=[],t.h){const e=NE(t.i);(e.length!=0||t.j.length!=0)&&(Sm(t.ma,e),Sm(t.ma,t.j),t.i.i.length=0,Wf(t.j),t.j.length=0),t.h.ya()}}function GE(t,e,n){var r=n instanceof ns?Jn(n):new ns(n);if(r.g!="")e&&(r.g=e+"."+r.g),kc(r,r.m);else{var s=le.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ns(null);r&&Oc(i,r),e&&(i.g=e),s&&kc(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Le(r,n,e),Le(r,"VER",t.ra),aa(t,r),r}function QE(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ze(new Rl({ob:n})):new ze(t.va),e.Oa(t.J),e}J.isActive=function(){return!!this.h&&this.h.isActive(this)};function JE(){}J=JE.prototype;J.Ba=function(){};J.Aa=function(){};J.za=function(){};J.ya=function(){};J.isActive=function(){return!0};J.Va=function(){};function Nc(){if(Zs&&!(10<=Number(VP)))throw Error("Environmental error: no available transport.")}Nc.prototype.g=function(t,e){return new zt(t,e)};function zt(t,e){ut.call(this),this.g=new BE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!wo(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wo(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new wi(this)}ht(zt,ut);zt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=GE(t,null,t.Y),kl(t)};zt.prototype.close=function(){cd(this.g)};zt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Xf(t),t=n);e.j.push(new h1(e.fb++,t)),e.H==3&&kl(e)};zt.prototype.N=function(){this.g.h=null,delete this.j,cd(this.g),delete this.g,zt.$.N.call(this)};function YE(t){rd.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ht(YE,rd);function XE(){sd.call(this),this.status=1}ht(XE,sd);function wi(t){this.g=t}ht(wi,JE);wi.prototype.Ba=function(){gt(this.g,"a")};wi.prototype.Aa=function(t){gt(this.g,new YE(t))};wi.prototype.za=function(t){gt(this.g,new XE)};wi.prototype.ya=function(){gt(this.g,"b")};function b1(){this.blockSize=-1}function an(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ht(an,b1);an.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Au(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}an.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Au(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Au(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Au(this,r),s=0;break}}this.h=s,this.i+=e};an.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ke(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var I1={};function hd(t){return-128<=t&&128>t?DP(t,function(e){return new ke([e|0],0>e?-1:0)}):new ke([t|0],0>t?-1:0)}function vn(t){if(isNaN(t)||!isFinite(t))return qs;if(0>t)return pt(vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Oh;return new ke(e,0)}function ZE(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return pt(ZE(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vn(Math.pow(e,8)),r=qs,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=vn(Math.pow(e,i)),r=r.R(i).add(vn(o))):(r=r.R(n),r=r.add(vn(o)))}return r}var Oh=4294967296,qs=hd(0),kh=hd(1),Mm=hd(16777216);J=ke.prototype;J.ea=function(){if(Qt(this))return-pt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Oh+r)*e,e*=Oh}return t};J.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Un(this))return"0";if(Qt(this))return"-"+pt(this).toString(t);for(var e=vn(Math.pow(t,6)),n=this,r="";;){var s=Vc(n,e).g;n=xc(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Un(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};J.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Un(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Qt(t){return t.h==-1}J.X=function(t){return t=xc(this,t),Qt(t)?-1:Un(t)?0:1};function pt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ke(n,~t.h).add(kh)}J.abs=function(){return Qt(this)?pt(this):this};J.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ke(n,n[n.length-1]&-2147483648?-1:0)};function xc(t,e){return t.add(pt(e))}J.R=function(t){if(Un(this)||Un(t))return qs;if(Qt(this))return Qt(t)?pt(this).R(pt(t)):pt(pt(this).R(t));if(Qt(t))return pt(this.R(pt(t)));if(0>this.X(Mm)&&0>t.X(Mm))return vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,Ma(n,2*r+2*s),n[2*r+2*s+1]+=i*c,Ma(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ma(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ma(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ke(n,0)};function Ma(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Di(t,e){this.g=t,this.h=e}function Vc(t,e){if(Un(e))throw Error("division by zero");if(Un(t))return new Di(qs,qs);if(Qt(t))return e=Vc(pt(t),e),new Di(pt(e.g),pt(e.h));if(Qt(e))return e=Vc(t,pt(e)),new Di(pt(e.g),e.h);if(30<t.g.length){if(Qt(t)||Qt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=kh,r=e;0>=r.X(t);)n=Fm(n),r=Fm(r);var s=As(n,1),i=As(r,1);for(r=As(r,2),n=As(n,2);!Un(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=As(r,1),n=As(n,1)}return e=xc(t,s.R(e)),new Di(s,e)}for(s=qs;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=vn(n),o=i.R(e);Qt(o)||0<o.X(t);)n-=r,i=vn(n),o=i.R(e);Un(i)&&(i=kh),s=s.add(i),t=xc(t,o)}return new Di(s,t)}J.gb=function(t){return Vc(this,t).h};J.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ke(n,this.h&t.h)};J.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ke(n,this.h|t.h)};J.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ke(n,this.h^t.h)};function Fm(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ke(n,t.h)}function As(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ke(s,t.h)}Nc.prototype.createWebChannel=Nc.prototype.g;zt.prototype.send=zt.prototype.u;zt.prototype.open=zt.prototype.m;zt.prototype.close=zt.prototype.close;bl.NO_ERROR=0;bl.TIMEOUT=8;bl.HTTP_ERROR=6;gE.COMPLETE="complete";_E.EventType=ra;ra.OPEN="a";ra.CLOSE="b";ra.ERROR="c";ra.MESSAGE="d";ut.prototype.listen=ut.prototype.O;ze.prototype.listenOnce=ze.prototype.P;ze.prototype.getLastError=ze.prototype.Sa;ze.prototype.getLastErrorCode=ze.prototype.Ia;ze.prototype.getStatus=ze.prototype.da;ze.prototype.getResponseJson=ze.prototype.Wa;ze.prototype.getResponseText=ze.prototype.ja;ze.prototype.send=ze.prototype.ha;ze.prototype.setWithCredentials=ze.prototype.Oa;an.prototype.digest=an.prototype.l;an.prototype.reset=an.prototype.reset;an.prototype.update=an.prototype.j;ke.prototype.add=ke.prototype.add;ke.prototype.multiply=ke.prototype.R;ke.prototype.modulo=ke.prototype.gb;ke.prototype.compare=ke.prototype.X;ke.prototype.toNumber=ke.prototype.ea;ke.prototype.toString=ke.prototype.toString;ke.prototype.getBits=ke.prototype.D;ke.fromNumber=vn;ke.fromString=ZE;var A1=function(){return new Nc},S1=function(){return Tl()},Su=bl,R1=gE,C1=Es,Um={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Fa=_E,P1=ze,O1=an,Ws=ke;const Bm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ti="10.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Df("@firebase/firestore");function Ni(){return fs.logLevel}function Q(t,...e){if(fs.logLevel<=Te.DEBUG){const n=e.map(fd);fs.debug(`Firestore (${Ti}): ${t}`,...n)}}function Cn(t,...e){if(fs.logLevel<=Te.ERROR){const n=e.map(fd);fs.error(`Firestore (${Ti}): ${t}`,...n)}}function ei(t,...e){if(fs.logLevel<=Te.WARN){const n=e.map(fd);fs.warn(`Firestore (${Ti}): ${t}`,...n)}}function fd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Ti}) INTERNAL ASSERTION FAILED: `+t;throw Cn(e),new Error(e)}function Ve(t,e){t||ce()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class D1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class N1{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Wn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Wn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string"),new ew(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string"),new Et(e)}}class x1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new x1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string"),this.R=n.token,new L1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=F1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Se(t,e){return t<e?-1:t>e?1:0}function ti(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new it(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new fe(e)}static min(){return new fe(new it(0,0))}static max(){return new fe(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Po.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Po{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const U1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Po{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return U1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Me.fromString(e))}static fromName(e){return new re(Me.fromString(e).popFirst(5))}static empty(){return new re(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Me(e.slice()))}}function B1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Or(s,re.empty(),e)}function $1(t){return new Or(t.readTime,t.key,-1)}class Or{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Or(fe.min(),re.empty(),-1)}static max(){return new Or(fe.max(),re.empty(),-1)}}function j1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ca(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==H1)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Wn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new eo(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=pd(r.target.error);this.V.reject(new eo(e,s))}}static open(e,n,r,s){try{return new dd(n,e.transaction(s,r))}catch(i){throw new eo(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Q("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new K1(n)}}class Jr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Jr.S(tt())===12.2&&Cn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Q("SimpleDb","Removing database:",e),Wr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!hv())return!1;if(Jr.C())return!0;const e=tt(),n=Jr.S(e),r=0<n&&n<10,s=Jr.v(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(Q("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new eo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new eo(e,o))},s.onupgradeneeded=i=>{Q("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{Q("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=dd.open(this.db,e,i?"readonly":"readwrite",r),c=s(a).next(l=>(a.g(),l)).catch(l=>(a.abort(l),M.reject(l))).toPromise();return c.catch(()=>{}),await a.m,c}catch(a){const c=a,l=c.name!=="FirebaseError"&&o<3;if(Q("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),this.close(),!l)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}class W1{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Wr(this.k.delete())}}class eo extends X{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function la(t){return t.name==="IndexedDbTransactionError"}class K1{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wr(r)}add(e){return Q("SimpleDb","ADD",this.store.name,e,e),Wr(this.store.add(e))}get(e){return Wr(this.store.get(e)).next(n=>(n===void 0&&(n=null),Q("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Q("SimpleDb","DELETE",this.store.name,e),Wr(this.store.delete(e))}count(){return Q("SimpleDb","COUNT",this.store.name),Wr(this.store.count())}W(e,n){const r=this.options(e,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new M((o,a)=>{i.onerror=c=>{a(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new M((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(e,n){Q("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const s=this.cursor(r);return this.G(s,n)}Z(e){const n=this.cursor({});return new M((r,s)=>{n.onerror=i=>{const o=pd(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new M((s,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const c=new W1(a),l=n(a.primaryKey,a.value,c);if(l instanceof M){const u=l.catch(h=>(c.done(),M.reject(h)));r.push(u)}c.isDone?s():c.$===null?a.continue():a.continue(c.$)}}).next(()=>M.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Wr(t){return new M((e,n)=>{t.onsuccess=r=>{const s=r.target.result;e(s)},t.onerror=r=>{const s=pd(r.target.error);n(s)}})}let $m=!1;function pd(t){const e=Jr.S(tt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $m||($m=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}md._e=-1;function Dl(t){return t==null}function Lc(t){return t===0&&1/t==-1/0}function z1(t){return typeof t=="number"&&Number.isInteger(t)&&!Lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||dt.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ua(this.root,e,this.comparator,!0)}}class Ua{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??dt.RED,this.left=s??dt.EMPTY,this.right=i??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new dt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hm(this.data.getIterator())}getIteratorFrom(e){return new Hm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class Hm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new _t(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ti(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rw("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const G1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(t){if(Ve(!!t),typeof t=="string"){let e=0;const n=G1.exec(t);if(Ve(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function _d(t){const e=t.mapValue.fields.__previous_value__;return gd(e)?_d(e):e}function Oo(t){const e=kr(t.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ko{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ko&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ps(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gd(t)?4:J1(t)?9007199254740991:10:ce()}function Pn(t,e){if(t===e)return!0;const n=ps(t);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Oo(t).isEqual(Oo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=kr(s.timestampValue),a=kr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ds(s.bytesValue).isEqual(ds(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ye(s.geoPointValue.latitude)===Ye(i.geoPointValue.latitude)&&Ye(s.geoPointValue.longitude)===Ye(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ye(s.integerValue)===Ye(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ye(s.doubleValue),a=Ye(i.doubleValue);return o===a?Lc(o)===Lc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ti(t.arrayValue.values||[],e.arrayValue.values||[],Pn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(jm(o)!==jm(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Pn(o[c],a[c])))return!1;return!0}(t,e);default:return ce()}}function Do(t,e){return(t.values||[]).find(n=>Pn(n,e))!==void 0}function ni(t,e){if(t===e)return 0;const n=ps(t),r=ps(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ye(i.integerValue||i.doubleValue),c=Ye(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return qm(t.timestampValue,e.timestampValue);case 4:return qm(Oo(t),Oo(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ds(i),c=ds(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Se(a[l],c[l]);if(u!==0)return u}return Se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Se(Ye(i.latitude),Ye(o.latitude));return a!==0?a:Se(Ye(i.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=ni(a[l],c[l]);if(u)return u}return Se(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ba.mapValue&&o===Ba.mapValue)return 0;if(i===Ba.mapValue)return 1;if(o===Ba.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const f=Se(c[h],u[h]);if(f!==0)return f;const d=ni(a[c[h]],l[u[h]]);if(d!==0)return d}return Se(c.length,u.length)}(t.mapValue,e.mapValue);default:throw ce()}}function qm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);const n=kr(t),r=kr(e),s=Se(n.seconds,r.seconds);return s!==0?s:Se(n.nanos,r.nanos)}function ri(t){return Dh(t)}function Dh(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=kr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dh(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Dh(n.fields[o])}`;return s+"}"}(t.mapValue):ce()}function Wm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Nh(t){return!!t&&"integerValue"in t}function yd(t){return!!t&&"arrayValue"in t}function Km(t){return!!t&&"nullValue"in t}function zm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xa(t){return!!t&&"mapValue"in t}function to(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=to(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=to(t.arrayValue.values[n]);return e}return Object.assign({},t)}function J1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(n)}setAll(e){let n=mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=to(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Nt(to(this.value))}}function sw(t){const e=[];return ws(t.fields,(n,r)=>{const s=new mt([n]);if(Xa(r)){const i=sw(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,fe.min(),fe.min(),fe.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,s){return new wt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new wt(e,2,n,fe.min(),fe.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,fe.min(),fe.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.position=e,this.inclusive=n}}function Gm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=re.comparator(re.fromName(o.referenceValue),n.key):r=ni(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Pn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class Ze extends iw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Z1(e,n,r):n==="array-contains"?new nO(e,r):n==="in"?new rO(e,r):n==="not-in"?new sO(e,r):n==="array-contains-any"?new iO(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eO(e,r):new tO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ni(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(ni(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cn extends iw{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new cn(e,n)}matches(e){return ow(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ow(t){return t.op==="and"}function aw(t){return X1(t)&&ow(t)}function X1(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function xh(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+ri(t.value);if(aw(t))return t.filters.map(e=>xh(e)).join(",");{const e=t.filters.map(n=>xh(n)).join(",");return`${t.op}(${e})`}}function cw(t,e){return t instanceof Ze?function(r,s){return s instanceof Ze&&r.op===s.op&&r.field.isEqual(s.field)&&Pn(r.value,s.value)}(t,e):t instanceof cn?function(r,s){return s instanceof cn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&cw(o,s.filters[a]),!0):!1}(t,e):void ce()}function lw(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${ri(n.value)}`}(t):t instanceof cn?function(n){return n.op.toString()+" {"+n.getFilters().map(lw).join(" ,")+"}"}(t):"Filter"}class Z1 extends Ze{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class eO extends Ze{constructor(e,n){super(e,"in",n),this.keys=uw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tO extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=uw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class nO extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yd(n)&&Do(n.arrayValue,this.value)}}class rO extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Do(this.value.arrayValue,n)}}class sO extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Do(this.value.arrayValue,n)}}class iO extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Do(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Jm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new oO(t,e,n,r,s,i,o)}function vd(t){const e=pe(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ri(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ri(r)).join(",")),e.ce=n}return e.ce}function Ed(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qm(t.startAt,e.startAt)&&Qm(t.endAt,e.endAt)}function Vh(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function aO(t,e,n,r,s,i,o,a){return new ua(t,e,n,r,s,i,o,a)}function hw(t){return new ua(t)}function Ym(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fw(t){return t.collectionGroup!==null}function no(t){const e=pe(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new Fc(i,r))}),n.has(mt.keyField().canonicalString())||e.le.push(new Fc(mt.keyField(),r))}return e.le}function bn(t){const e=pe(t);return e.he||(e.he=cO(e,no(t))),e.he}function cO(t,e){if(t.limitType==="F")return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fc(s.field,i)});const n=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;return Jm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lh(t,e){const n=t.filters.concat([e]);return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mh(t,e,n){return new ua(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nl(t,e){return Ed(bn(t),bn(e))&&t.limitType===e.limitType}function dw(t){return`${vd(bn(t))}|lt:${t.limitType}`}function Rs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>lw(s)).join(", ")}]`),Dl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ri(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ri(s)).join(",")),`Target(${r})`}(bn(t))}; limitType=${t.limitType})`}function xl(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):re.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of no(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=Gm(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,no(r),s)||r.endAt&&!function(o,a,c){const l=Gm(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,no(r),s))}(t,e)}function lO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function pw(t){return(e,n)=>{let r=!1;for(const s of no(t)){const i=uO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function uO(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?ni(c,l):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=new We(re.comparator);function Yn(){return hO}const mw=new We(re.comparator);function Hi(...t){let e=mw;for(const n of t)e=e.insert(n.key,n);return e}function gw(t){let e=mw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return ro()}function _w(){return ro()}function ro(){return new bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const fO=new We(re.comparator),dO=new _t(re.comparator);function we(...t){let e=dO;for(const n of t)e=e.add(n);return e}const pO=new _t(Se);function mO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lc(e)?"-0":e}}function vw(t){return{integerValue:""+t}}function gO(t,e){return z1(e)?vw(e):yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this._=void 0}}function _O(t,e,n){return t instanceof Uc?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&gd(i)&&(i=_d(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof No?ww(t,e):t instanceof xo?Tw(t,e):function(s,i){const o=Ew(s,i),a=Xm(o)+Xm(s.Ie);return Nh(o)&&Nh(s.Ie)?vw(a):yw(s.serializer,a)}(t,e)}function yO(t,e,n){return t instanceof No?ww(t,e):t instanceof xo?Tw(t,e):n}function Ew(t,e){return t instanceof Bc?function(r){return Nh(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Uc extends Vl{}class No extends Vl{constructor(e){super(),this.elements=e}}function ww(t,e){const n=bw(e);for(const r of t.elements)n.some(s=>Pn(s,r))||n.push(r);return{arrayValue:{values:n}}}class xo extends Vl{constructor(e){super(),this.elements=e}}function Tw(t,e){let n=bw(e);for(const r of t.elements)n=n.filter(s=>!Pn(s,r));return{arrayValue:{values:n}}}class Bc extends Vl{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Xm(t){return Ye(t.integerValue||t.doubleValue)}function bw(t){return yd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof No&&s instanceof No||r instanceof xo&&s instanceof xo?ti(r.elements,s.elements,Pn):r instanceof Bc&&s instanceof Bc?Pn(r.Ie,s.Ie):r instanceof Uc&&s instanceof Uc}(t.transform,e.transform)}class EO{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Za(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ll{}function Iw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sw(t.key,In.none()):new ha(t.key,t.data,In.none());{const n=t.data,r=Nt.empty();let s=new _t(mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ur(t.key,r,new Ht(s.toArray()),In.none())}}function wO(t,e,n){t instanceof ha?function(s,i,o){const a=s.value.clone(),c=eg(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ur?function(s,i,o){if(!Za(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=eg(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Aw(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function so(t,e,n,r){return t instanceof ha?function(i,o,a,c){if(!Za(i.precondition,o))return a;const l=i.value.clone(),u=tg(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ur?function(i,o,a,c){if(!Za(i.precondition,o))return a;const l=tg(i.fieldTransforms,c,o),u=o.data;return u.setAll(Aw(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Za(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function TO(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ew(r.transform,s||null);i!=null&&(n===null&&(n=Nt.empty()),n.set(r.field,i))}return n||null}function Zm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ti(r,s,(i,o)=>vO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ha extends Ll{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ur extends Ll{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eg(t,e,n){const r=new Map;Ve(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,yO(o,a,n[s]))}return r}function tg(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_O(i,o,e))}return r}class Sw extends Ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bO extends Ll{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&wO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=so(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=so(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=_w();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=Iw(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&ti(this.mutations,e.mutations,(n,r)=>Zm(n,r))&&ti(this.baseMutations,e.baseMutations,(n,r)=>Zm(n,r))}}class wd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length);let s=function(){return fO}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,be;function RO(t){switch(t){default:return ce();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function Rw(t){if(t===void 0)return Cn("GRPC error has no .code"),L.UNKNOWN;switch(t){case Je.OK:return L.OK;case Je.CANCELLED:return L.CANCELLED;case Je.UNKNOWN:return L.UNKNOWN;case Je.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Je.INTERNAL:return L.INTERNAL;case Je.UNAVAILABLE:return L.UNAVAILABLE;case Je.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Je.NOT_FOUND:return L.NOT_FOUND;case Je.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Je.ABORTED:return L.ABORTED;case Je.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Je.DATA_LOSS:return L.DATA_LOSS;default:return ce()}}(be=Je||(Je={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=new Ws([4294967295,4294967295],0);function ng(t){const e=CO().encode(t),n=new O1;return n.update(e),new Uint8Array(n.digest())}function rg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,i],0)]}class Td{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qi(`Invalid padding: ${n}`);if(r<0)throw new qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ws.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(PO)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=ng(e),[r,s]=rg(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Td(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=ng(e),[r,s]=rg(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,fa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ml(fe.min(),s,new We(Se),Yn(),we())}}class fa{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fa(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,s){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=s}}class Cw{constructor(e,n){this.targetId=e,this.fe=n}}class Pw{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class sg{constructor(){this.ge=0,this.pe=og(),this.ye=St.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=we(),n=we(),r=we();return this.pe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce()}}),new fa(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=og()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Ve(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class OO{constructor(e){this.Be=e,this.ke=new Map,this.qe=Yn(),this.Qe=ig(),this.Ke=new We(Se)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Vh(i))if(r===0){const o=new re(i.path);this.We(n,o,wt.newNoDocument(o,fe.min()))}else Ve(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);const l=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,l)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ds(r).toUint8Array()}catch(c){if(c instanceof rw)return ei("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Td(o,s,i)}catch(c){return ei(c instanceof qi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Vh(a.target)){const c=new re(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,wt.newNoDocument(c,e))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=we();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Ye(c);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(e));const s=new Ml(e,n,this.Ke,this.qe,r);return this.qe=Yn(),this.Qe=ig(),this.Ke=new We(Se),s}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.st(e,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new sg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new _t(Se),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new sg),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function ig(){return new We(re.comparator)}function og(){return new We(re.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NO={and:"AND",or:"OR"};class xO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fh(t,e){return t.useProto3Json||Dl(e)?e:{value:e}}function $c(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ow(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VO(t,e){return $c(t,e.toTimestamp())}function An(t){return Ve(!!t),fe.fromTimestamp(function(n){const r=kr(n);return new it(r.seconds,r.nanos)}(t))}function bd(t,e){return Uh(t,e).canonicalString()}function Uh(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kw(t){const e=Me.fromString(t);return Ve(Lw(e)),e}function Bh(t,e){return bd(t.databaseId,e.path)}function Ru(t,e){const n=kw(e);if(n.get(1)!==t.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(Nw(n))}function Dw(t,e){return bd(t.databaseId,e)}function LO(t){const e=kw(t);return e.length===4?Me.emptyPath():Nw(e)}function $h(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Nw(t){return Ve(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ag(t,e,n){return{name:Bh(t,e),fields:n.value.mapValue.fields}}function MO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(l,u){return l.useProto3Json?(Ve(u===void 0||typeof u=="string"),St.fromBase64String(u||"")):(Ve(u===void 0||u instanceof Buffer||u instanceof Uint8Array),St.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?L.UNKNOWN:Rw(l.code);return new X(u,l.message||"")}(o);n=new Pw(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Ru(t,r.document.name),i=An(r.document.updateTime),o=r.document.createTime?An(r.document.createTime):fe.min(),a=new Nt({mapValue:{fields:r.document.fields}}),c=wt.newFoundDocument(s,i,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new ec(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Ru(t,r.document),i=r.readTime?An(r.readTime):fe.min(),o=wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ec([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Ru(t,r.document),i=r.removedTargetIds||[];n=new ec([],i,s,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new SO(s,i),a=r.targetId;n=new Cw(a,o)}}return n}function FO(t,e){let n;if(e instanceof ha)n={update:ag(t,e.key,e.value)};else if(e instanceof Sw)n={delete:Bh(t,e.key)};else if(e instanceof Ur)n={update:ag(t,e.key,e.data),updateMask:zO(e.fieldMask)};else{if(!(e instanceof bO))return ce();n={verify:Bh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Uc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof No)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bc)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:VO(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce()}(t,e.precondition)),n}function UO(t,e){return t&&t.length>0?(Ve(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?An(s.updateTime):An(i);return o.isEqual(fe.min())&&(o=An(i)),new EO(o,s.transformResults||[])}(n,e))):[]}function BO(t,e){return{documents:[Dw(t,e.path)]}}function $O(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Dw(t,s);const i=function(l){if(l.length!==0)return Vw(cn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(l){if(l.length!==0)return l.map(u=>function(f){return{field:Cs(f.field),direction:qO(f.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Fh(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ut:n,parent:s}}function jO(t){let e=LO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=xw(h);return f instanceof cn&&aw(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Fc(Ps(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Dl(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,d=h.values||[];return new Mc(d,f)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const f=!h.before,d=h.values||[];return new Mc(d,f)}(n.endAt)),aO(e,s,o,i,a,"F",c,l)}function HO(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function xw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ps(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ps(n.unaryFilter.field);return Ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ps(n.unaryFilter.field);return Ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ps(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(Ps(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cn.create(n.compositeFilter.filters.map(r=>xw(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function qO(t){return kO[t]}function WO(t){return DO[t]}function KO(t){return NO[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function Ps(t){return mt.fromServerFormat(t.fieldPath)}function Vw(t){return t instanceof Ze?function(n){if(n.op==="=="){if(zm(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(Km(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zm(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(Km(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:WO(n.op),value:n.value}}}(t):t instanceof cn?function(n){const r=n.getFilters().map(s=>Vw(s));return r.length===1?r[0]:{compositeFilter:{op:KO(n.op),filters:r}}}(t):ce()}function zO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Lw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.ct=e}}function QO(t){const e=jO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._n=new YO}addToCollectionParentIndex(e,n){return this._n.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Or.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Or.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class YO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new si(0)}static Ln(){return new si(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.changes=new bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&so(r.mutation,s,Ht.empty(),it.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Yr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Hi();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Yn();const o=ro(),a=function(){return ro()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Ur)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),so(u.mutation,l,u.mutation.getFieldMask(),it.now())):o.set(l.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new ZO(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ro();let s=new We((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Ht.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||we()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=_w();u.forEach(f=>{if(!i.has(f)){const d=Iw(n.get(f),r.get(f));d!==null&&h.set(f,d),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):fw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Yr());let a=-1,c=i;return o.next(l=>M.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{c=c.insert(u,f)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,we())).next(u=>({batchId:a,changes:gw(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let s=Hi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Hi();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,c=>{const l=function(h,f){return new ua(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,wt.newInvalidDocument(u)))});let a=Hi();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&so(u.mutation,l,Ht.empty(),it.now()),xl(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return M.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:An(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(s){return{name:s.name,query:QO(s.bundledQuery),readTime:An(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.overlays=new We(re.comparator),this.hr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Yr(),i=n.length+1,o=new re(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=Yr(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=Yr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return M.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AO(n,r));let i=this.hr.get(n);i===void 0&&(i=we(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.Pr=new _t(at.Ir),this.Tr=new _t(at.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new at(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new at(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new re(new Me([])),r=new at(n,e),s=new at(n,e+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new re(new Me([])),r=new at(n,e),s=new at(n,e+1);let i=we();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new at(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return re.comparator(e.key,n.key)||Se(e.pr,n.pr)}static Er(e,n){return Se(e.pr,n.pr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new _t(at.Ir)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IO(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new at(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.br(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new at(n,0),s=new at(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(Se);return n.forEach(s=>{const i=new at(s,0),o=new at(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),M.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;re.isDocumentKey(i)||(i=i.child(""));const o=new at(new re(i),0);let a=new _t(Se);return this.wr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.pr)),!0)},o),M.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return M.forEach(n.mutations,s=>{const i=new at(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new at(n,0),s=this.wr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.vr=e,this.docs=function(){return new We(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=Yn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():wt.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yn();const o=n.path,a=new re(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||j1($1(u),r)<=0||(s.has(u.key)||xl(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce()}Fr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ik(this)}getSize(e){return M.resolve(this.size)}}class ik extends XO{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(e,s)):this.ar.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.persistence=e,this.Mr=new bi(n=>vd(n),Ed),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Id,this.targetCount=0,this.Lr=si.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),M.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new si(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.qn(n),M.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.Br={},this.overlays={},this.kr=new md(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ok(this),this.indexManager=new JO,this.remoteDocumentCache=function(s){return new sk(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new GO(n),this.$r=new tk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new rk(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new ck(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ck extends q1{constructor(e){super(),this.currentSequenceNumber=e}}class Ad{constructor(e){this.persistence=e,this.zr=new Id,this.jr=null}static Hr(e){return new Ad(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),M.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Jr,r=>{const s=re.fromPath(r);return this.Yr(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return M.or([()=>M.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Sd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return GA()?8:Jr.v(tt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ji(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new lk;return this.Ji(e,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>i.result)}Yi(e,n,r,s){return r.documentReadCount<this.Wi?(Ni()<=Te.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Rs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),M.resolve()):(Ni()<=Te.DEBUG&&Q("QueryEngine","Query:",Rs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Ni()<=Te.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Rs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bn(n))):M.resolve())}ji(e,n){if(Ym(n))return M.resolve(null);let r=bn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Mh(n,null,"F"),r=bn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Zi(n,a);return this.Xi(n,l,o,c.readTime)?this.ji(e,Mh(n,null,"F")):this.es(e,l,n,c)}))})))}Hi(e,n,r,s){return Ym(n)||s.isEqual(fe.min())?M.resolve(null):this.zi.getDocuments(e,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?M.resolve(null):(Ni()<=Te.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Rs(n)),this.es(e,o,n,B1(s,-1)).next(a=>a))})}Zi(e,n){let r=new _t(pw(e));return n.forEach((s,i)=>{xl(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(e,n,r){return Ni()<=Te.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Rs(n)),this.zi.getDocumentsMatchingQuery(e,n,Or.min(),r)}es(e,n,r,s){return this.zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r,s){this.persistence=e,this.ts=n,this.serializer=s,this.ns=new We(Se),this.rs=new bi(i=>vd(i),Ed),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ek(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function fk(t,e,n,r){return new hk(t,e,n,r)}async function Mw(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=we();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})}function dk(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,f=h.keys();let d=M.resolve();return f.forEach(m=>{d=d.next(()=>u.getEntry(c,m)).next(y=>{const E=l.docVersions.get(m);Ve(E!==null),y.version.compareTo(E)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Fw(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function pk(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let d=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(St.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),s=s.insert(h,d),function(y,E,R){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(f,d,u)&&a.push(n.Qr.updateTargetData(i,d))});let c=Yn(),l=we();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(mk(i,o,e.documentUpdates).next(u=>{c=u.cs,l=u.ls})),!r.isEqual(fe.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.ns=s,i))}function mk(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Yn();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{cs:o,ls:s}})}function gk(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _k(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new Er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function jh(t,e,n){const r=pe(t),s=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!la(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(s.target)}function cg(t,e,n){const r=pe(t);let s=fe.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,l,u){const h=pe(c),f=h.rs.get(u);return f!==void 0?M.resolve(h.ns.get(f)):h.Qr.getTargetData(l,u)}(r,o,bn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:we())).next(a=>(yk(r,lO(e),a),{documents:a,hs:i})))}function yk(t,e,n){let r=t.ss.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class lg{constructor(){this.activeTargetIds=mO()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vk{constructor(){this.no=new lg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new lg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a=null;function Cu(){return $a===null?$a=function(){return 268435456+Math.round(2147483648*Math.random())}():$a++,"0x"+$a.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class bk extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=Cu(),c=this.bo(n,r.toUriEncodedString());Q("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(l,i,o),this.Co(n,c,l,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ei("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ti}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=wk[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,s){const i=Cu();return new Promise((o,a)=>{const c=new P1;c.setWithCredentials(!0),c.listenOnce(R1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Su.NO_ERROR:const u=c.getResponseJson();Q(yt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Su.TIMEOUT:Q(yt,`RPC '${e}' ${i} timed out`),a(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case Su.HTTP_ERROR:const h=c.getStatus();if(Q(yt,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let f=c.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(E){const R=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(R)>=0?R:L.UNKNOWN}(d.status);a(new X(m,d.message))}else a(new X(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new X(L.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Q(yt,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);Q(yt,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}Fo(e,n,r){const s=Cu(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=A1(),a=S1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");Q(yt,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let f=!1,d=!1;const m=new Tk({lo:E=>{d?Q(yt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(Q(yt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(yt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},ho:()=>h.close()}),y=(E,R,w)=>{E.listen(R,_=>{try{w(_)}catch(v){setTimeout(()=>{throw v},0)}})};return y(h,Fa.EventType.OPEN,()=>{d||Q(yt,`RPC '${e}' stream ${s} transport opened.`)}),y(h,Fa.EventType.CLOSE,()=>{d||(d=!0,Q(yt,`RPC '${e}' stream ${s} transport closed`),m.Vo())}),y(h,Fa.EventType.ERROR,E=>{d||(d=!0,ei(yt,`RPC '${e}' stream ${s} transport errored:`,E),m.Vo(new X(L.UNAVAILABLE,"The operation could not be completed")))}),y(h,Fa.EventType.MESSAGE,E=>{var R;if(!d){const w=E.data[0];Ve(!!w);const _=w,v=_.error||((R=_[0])===null||R===void 0?void 0:R.error);if(v){Q(yt,`RPC '${e}' stream ${s} received error:`,v);const b=v.status;let A=function(S){const I=Je[S];if(I!==void 0)return Rw(I)}(b),P=v.message;A===void 0&&(A=L.INTERNAL,P="Unknown error status: "+b+" with message "+v.message),d=!0,m.Vo(new X(A,P)),h.close()}else Q(yt,`RPC '${e}' stream ${s} received:`,w),m.mo(w)}}),y(a,C1.STAT_EVENT,E=>{E.stat===Um.PROXY?Q(yt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Um.NOPROXY&&Q(yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function Pu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(t){return new xO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,n,r,s,i,o,a,c){this.oi=e,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Uw(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Cn(n.toString()),Cn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{e(()=>{const s=new X(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return Q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ik extends Bw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=MO(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?An(o.readTime):fe.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=$h(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Vh(c)?{documents:BO(i,c)}:{query:$O(i,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ow(i,o.resumeToken);const l=Fh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=$c(i,o.snapshotVersion.toTimestamp());const l=Fh(i,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=HO(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=$h(this.serializer),n.removeTarget=e,this.t_(n)}}class Ak extends Bw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(Ve(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=UO(e.writeResults,e.commitTime),r=An(e.commitTime);return this.listener.T_(r,n)}return Ve(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=$h(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FO(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Uh(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(L.UNKNOWN,i.toString())})}vo(e,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Uh(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Rk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Cn(n),this.g_=!1):Q("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=pe(c);l.v_.add(4),await da(l),l.x_.set("Unknown"),l.v_.delete(4),await Ul(l)}(this))})}),this.x_=new Rk(r,s)}}async function Ul(t){if(Ts(t))for(const e of t.F_)await e(!0)}async function da(t){for(const e of t.F_)await e(!1)}function $w(t,e){const n=pe(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Od(n)?Pd(n):Ii(n).Jo()&&Cd(n,e))}function Rd(t,e){const n=pe(t),r=Ii(n);n.C_.delete(e),r.Jo()&&jw(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ts(n)&&n.x_.set("Unknown"))}function Cd(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ii(t).c_(e)}function jw(t,e){t.O_.Oe(e),Ii(t).l_(e)}function Pd(t){t.O_=new OO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Ii(t).start(),t.x_.p_()}function Od(t){return Ts(t)&&!Ii(t).Ho()&&t.C_.size>0}function Ts(t){return pe(t).v_.size===0}function Hw(t){t.O_=void 0}async function Pk(t){t.C_.forEach((e,n)=>{Cd(t,e)})}async function Ok(t,e){Hw(t),Od(t)?(t.x_.S_(e),Pd(t)):t.x_.set("Unknown")}async function kk(t,e,n){if(t.x_.set("Online"),e instanceof Pw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(t,e)}catch(r){Q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jc(t,r)}else if(e instanceof ec?t.O_.$e(e):e instanceof Cw?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(fe.min()))try{const r=await Fw(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((c,l)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.C_.get(l);u&&i.C_.set(l,u.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,l)=>{const u=i.C_.get(c);if(!u)return;i.C_.set(c,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),jw(i,c);const h=new Er(u.target,c,l,u.sequenceNumber);Cd(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q("RemoteStore","Failed to raise snapshot:",r),await jc(t,r)}}async function jc(t,e,n){if(!la(e))throw e;t.v_.add(1),await da(t),t.x_.set("Offline"),n||(n=()=>Fw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ul(t)})}function qw(t,e){return e().catch(n=>jc(t,n,e))}async function Bl(t){const e=pe(t),n=Dr(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;Dk(e);)try{const s=await gk(e.localStore,r);if(s===null){e.D_.length===0&&n.Xo();break}r=s.batchId,Nk(e,s)}catch(s){await jc(e,s)}Ww(e)&&Kw(e)}function Dk(t){return Ts(t)&&t.D_.length<10}function Nk(t,e){t.D_.push(e);const n=Dr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Ww(t){return Ts(t)&&!Dr(t).Ho()&&t.D_.length>0}function Kw(t){Dr(t).start()}async function xk(t){Dr(t).d_()}async function Vk(t){const e=Dr(t);for(const n of t.D_)e.I_(n.mutations)}async function Lk(t,e,n){const r=t.D_.shift(),s=wd.from(r,e,n);await qw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bl(t)}async function Mk(t,e){e&&Dr(t).P_&&await async function(r,s){if(function(o){return RO(o)&&o!==L.ABORTED}(s.code)){const i=r.D_.shift();Dr(r).Zo(),await qw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Bl(r)}}(t,e),Ww(t)&&Kw(t)}async function hg(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.v_.add(3),await da(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ul(n)}async function Fk(t,e){const n=pe(t);e?(n.v_.delete(2),await Ul(n)):e||(n.v_.add(2),await da(n),n.x_.set("Unknown"))}function Ii(t){return t.N_||(t.N_=function(n,r,s){const i=pe(n);return i.R_(),new Ik(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:Pk.bind(null,t),To:Ok.bind(null,t),u_:kk.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Od(t)?Pd(t):t.x_.set("Unknown")):(await t.N_.stop(),Hw(t))})),t.N_}function Dr(t){return t.L_||(t.L_=function(n,r,s){const i=pe(n);return i.R_(),new Ak(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Po:xk.bind(null,t),To:Mk.bind(null,t),E_:Vk.bind(null,t),T_:Lk.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Bl(t)):(await t.L_.stop(),t.D_.length>0&&(Q("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new kd(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dd(t,e){if(Cn("AsyncQueue",`${e}: ${t}`),la(t))return new X(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=Hi(),this.sortedSet=new We(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.B_=new We(re.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):ce():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ii{constructor(e,n,r,s,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ii(e,n,Ks.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Bk{constructor(){this.queries=new bi(e=>dw(e),Nl),this.onlineState="Unknown",this.W_=new Set}}async function $k(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.K_()&&e.U_()&&(r=2):(i=new Uk,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Dd(o,`Initialization of query '${Rs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&Nd(n)}async function jk(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(e);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=e.U_()?0:1:!i.K_()&&e.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Hk(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&Nd(n)}function qk(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(e)}function Nd(t){t.W_.forEach(e=>{e.next()})}var Hh,dg;(dg=Hh||(Hh={})).j_="default",dg.Cache="cache";class Wk{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ii(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=ii.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==Hh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.key=e}}class Gw{constructor(e){this.key=e}}class Kk{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=we(),this.mutatedKeys=we(),this.ha=pw(e),this.Pa=new Ks(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new fg,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,l=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),d=xl(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let E=!1;f&&d?f.data.isEqual(d.data)?m!==y&&(r.track({type:3,doc:d}),E=!0):this.da(f,d)||(r.track({type:2,doc:d}),E=!0,(c&&this.ha(d,c)>0||l&&this.ha(d,l)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),E=!0):f&&!d&&(r.track({type:1,doc:f}),E=!0,(c||l)&&(a=!0)),E&&(d?(o=o.add(d),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const o=e.Ea.k_();o.sort((u,h)=>function(d,m){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(d)-y(m)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],c=this.la.size===0&&this.current&&!s?1:0,l=c!==this.ca;return this.ca=c,o.length!==0||l?{snapshot:new ii(this.query,e.Pa,i,o,e.mutatedKeys,c===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new fg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=we(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new Gw(r))}),this.la.forEach(r=>{e.has(r)||n.push(new zw(r))}),n}fa(e){this.ua=e.hs,this.la=we();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return ii.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class zk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Gk{constructor(e){this.key=e,this.pa=!1}}class Qk{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new bi(a=>dw(a),Nl),this.Sa=new Map,this.ba=new Set,this.Da=new We(re.comparator),this.Ca=new Map,this.va=new Id,this.Fa={},this.Ma=new Map,this.xa=si.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Jk(t,e,n=!0){const r=eT(t);let s;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await Qw(r,e,n,!0),s}async function Yk(t,e){const n=eT(t);await Qw(n,e,!0,!1)}async function Qw(t,e,n,r){const s=await _k(t.localStore,bn(e)),i=s.targetId,o=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Xk(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&$w(t.remoteStore,s),a}async function Xk(t,e,n,r,s){t.Na=(h,f,d)=>async function(y,E,R,w){let _=E.view.Ta(R);_.Xi&&(_=await cg(y.localStore,E.query,!1).then(({documents:P})=>E.view.Ta(P,_)));const v=w&&w.targetChanges.get(E.targetId),b=w&&w.targetMismatches.get(E.targetId)!=null,A=E.view.applyChanges(_,y.isPrimaryClient,v,b);return mg(y,E.targetId,A.Va),A.snapshot}(t,h,f,d);const i=await cg(t.localStore,e,!0),o=new Kk(e,i.hs),a=o.Ta(i.documents),c=fa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),l=o.applyChanges(a,t.isPrimaryClient,c);mg(t,n,l.Va);const u=new zk(e,n,o);return t.wa.set(e,u),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),l.snapshot}async function Zk(t,e,n){const r=pe(t),s=r.wa.get(e),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Nl(o,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jh(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Rd(r.remoteStore,s.targetId),qh(r,s.targetId)}).catch(ca)):(qh(r,s.targetId),await jh(r.localStore,s.targetId,!0))}async function eD(t,e){const n=pe(t),r=n.wa.get(e),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Rd(n.remoteStore,r.targetId))}async function tD(t,e,n){const r=cD(t);try{const s=await function(o,a){const c=pe(o),l=it.now(),u=a.reduce((d,m)=>d.add(m.key),we());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Yn(),y=we();return c.os.getEntries(d,u).next(E=>{m=E,m.forEach((R,w)=>{w.isValidDocument()||(y=y.add(R))})}).next(()=>c.localDocuments.getOverlayedDocuments(d,m)).next(E=>{h=E;const R=[];for(const w of a){const _=TO(w,h.get(w.key).overlayedDocument);_!=null&&R.push(new Ur(w.key,_,sw(_.value.mapValue),In.exists(!0)))}return c.mutationQueue.addMutationBatch(d,l,R,a)}).next(E=>{f=E;const R=E.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(d,E.batchId,R)})}).then(()=>({batchId:f.batchId,changes:gw(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Fa[o.currentUser.toKey()];l||(l=new We(Se)),l=l.insert(a,c),o.Fa[o.currentUser.toKey()]=l}(r,s.batchId,n),await pa(r,s.changes),await Bl(r.remoteStore)}catch(s){const i=Dd(s,"Failed to persist write");n.reject(i)}}async function Jw(t,e){const n=pe(t);try{const r=await pk(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?Ve(o.pa):s.removedDocuments.size>0&&(Ve(o.pa),o.pa=!1))}),await pa(n,r,e)}catch(r){await ca(r)}}function pg(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=pe(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(l=!0)}),l&&Nd(c)}(r.eventManager,e),s.length&&r.ya.u_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function nD(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ca.get(e),i=s&&s.key;if(i){let o=new We(re.comparator);o=o.insert(i,wt.newNoDocument(i,fe.min()));const a=we().add(i),c=new Ml(fe.min(),new Map,new We(Se),o,a);await Jw(r,c),r.Da=r.Da.remove(i),r.Ca.delete(e),xd(r)}else await jh(r.localStore,e,!1).then(()=>qh(r,e,n)).catch(ca)}async function rD(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await dk(n.localStore,e);Xw(n,r,null),Yw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await pa(n,s)}catch(s){await ca(s)}}async function sD(t,e,n){const r=pe(t);try{const s=await function(o,a){const c=pe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(Ve(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);Xw(r,e,n),Yw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await pa(r,s)}catch(s){await ca(s)}}function Yw(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Xw(t,e,n){const r=pe(t);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Fa[r.currentUser.toKey()]=s}}function qh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Zw(t,r)})}function Zw(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(Rd(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),xd(t))}function mg(t,e,n){for(const r of n)r instanceof zw?(t.va.addReference(r.key,e),iD(t,r)):r instanceof Gw?(Q("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Zw(t,r.key)):ce()}function iD(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(Q("SyncEngine","New document in limbo: "+n),t.ba.add(r),xd(t))}function xd(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new re(Me.fromString(e)),r=t.xa.next();t.Ca.set(r,new Gk(n)),t.Da=t.Da.insert(n,r),$w(t.remoteStore,new Er(bn(hw(n.path)),r,"TargetPurposeLimboResolution",md._e))}}async function pa(t,e,n){const r=pe(t),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,c)=>{o.push(r.Na(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=Sd.Ki(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(c,l){const u=pe(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(l,f=>M.forEach(f.qi,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>M.forEach(f.Qi,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!la(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const d=u.ns.get(f),m=d.snapshotVersion,y=d.withLastLimboFreeSnapshotVersion(m);u.ns=u.ns.insert(f,y)}}}(r.localStore,i))}async function oD(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){Q("SyncEngine","User change. New user:",e.toKey());const r=await Mw(n.localStore,e);n.currentUser=e,function(i,o){i.Ma.forEach(a=>{a.forEach(c=>{c.reject(new X(L.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await pa(n,r.us)}}function aD(t,e){const n=pe(t),r=n.Ca.get(e);if(r&&r.pa)return we().add(r.key);{let s=we();const i=n.Sa.get(e);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function eT(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nD.bind(null,e),e.ya.u_=Hk.bind(null,e.eventManager),e.ya.La=qk.bind(null,e.eventManager),e}function cD(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sD.bind(null,e),e}class gg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Fl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return fk(this.persistence,new uk,e.initialUser,this.serializer)}createPersistence(e){return new ak(Ad.Hr,this.serializer)}createSharedClientState(e){return new vk}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lD{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=oD.bind(null,this.syncEngine),await Fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bk}()}createDatastore(e){const n=Fl(e.databaseInfo.databaseId),r=function(i){return new bk(i)}(e.databaseInfo);return function(i,o,a,c){return new Sk(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Ck(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>pg(this.syncEngine,n,0),function(){return ug.D()?new ug:new Ek}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new Qk(s,i,o,a,c,l);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const s=pe(r);Q("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await da(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):Cn("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{Q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(Q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dd(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ou(t,e){t.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Mw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function _g(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dD(t);Q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>hg(e.remoteStore,s)),t._onlineComponents=e}function fD(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function dD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ou(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!fD(n))throw n;ei("Error using user provided cache. Falling back to memory cache: "+n),await Ou(t,new gg)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Ou(t,new gg);return t._offlineComponents}async function tT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await _g(t,t._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await _g(t,new lD))),t._onlineComponents}function pD(t){return tT(t).then(e=>e.syncEngine)}async function mD(t){const e=await tT(t),n=e.eventManager;return n.onListen=Jk.bind(null,e.syncEngine),n.onUnlisten=Zk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=eD.bind(null,e.syncEngine),n}function gD(t,e,n={}){const r=new Wn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,l){const u=new uD({next:f=>{o.enqueueAndForget(()=>jk(i,h)),f.fromCache&&c.source==="server"?l.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(f)},error:f=>l.reject(f)}),h=new Wk(a,u,{includeMetadataChanges:!0,ta:!0});return $k(i,h)}(await mD(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e,n){if(!n)throw new X(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _D(t,e,n,r){if(e===!0&&r===!0)throw new X(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vg(t){if(!re.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Eg(t){if(re.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function $l(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$l(t);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_D("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jl{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new k1;switch(r.type){case"firstParty":return new V1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yg.get(n);r&&(Q("ComponentProvider","Removing Datastore"),yg.delete(n),r.terminate())}(this),Promise.resolve()}}function yD(t,e,n,r={}){var s;const i=(t=oi(t,jl))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ei("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Et.MOCK_USER;else{a=jA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Et(l)}t._authCredentials=new D1(new ew(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ai(this.firestore,e,this._query)}}class Kt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}}class Ar extends Ai{constructor(e,n,r){super(e,n,hw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new re(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function sT(t,e,...n){if(t=lt(t),rT("collection","path",e),t instanceof jl){const r=Me.fromString(e,...n);return Eg(r),new Ar(t,null,r)}{if(!(t instanceof Kt||t instanceof Ar))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Eg(r),new Ar(t.firestore,null,r)}}function tc(t,e,...n){if(t=lt(t),arguments.length===1&&(e=tw.newId()),rT("doc","path",e),t instanceof jl){const r=Me.fromString(e,...n);return vg(r),new Kt(t,null,new re(r))}{if(!(t instanceof Kt||t instanceof Ar))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return vg(r),new Kt(t.firestore,t instanceof Ar?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Uw(this,"async_queue_retry"),this.cu=()=>{const n=Pu();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=Pu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=Pu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new Wn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!la(e))throw e;Q("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Cn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const s=kd.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&ce()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class Hl extends jl{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new vD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oT(this),this._firestoreClient.terminate()}}function ql(t,e){const n=typeof t=="object"?t:mv(),r=typeof t=="string"?t:e||"(default)",s=xf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=BA("firestore");i&&yD(s,...i)}return s}function iT(t){return t._firestoreClient||oT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oT(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new Q1(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,nT(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new hD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(St.fromBase64String(e))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=/^__.*__$/;class wD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms):new ha(e,this.data,n,this.fieldTransforms)}}class aT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ur(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class Md{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.pu(e),s}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Hc(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(cT(this.Vu)&&ED.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class TD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fl(e)}Cu(e,n,r,s=!1){return new Md({Vu:e,methodName:n,Du:r,path:mt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fd(t){const e=t._freezeSettings(),n=Fl(t._databaseId);return new TD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bD(t,e,n,r,s,i={}){const o=t.Cu(i.merge||i.mergeFields?2:0,e,n,s);Ud("Data must be an object, but it was:",o,r);const a=lT(r,o);let c,l;if(i.merge)c=new Ht(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=Wh(e,h,n);if(!o.contains(f))throw new X(L.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);hT(u,f)||u.push(f)}c=new Ht(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new wD(new Nt(a),c,l)}class Kl extends Vd{_toFieldTransform(e){if(e.Vu!==2)throw e.Vu===1?e.Su(`${this._methodName}() can only appear at the top level of your update data`):e.Su(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kl}}function ID(t,e,n,r){const s=t.Cu(1,e,n);Ud("Data must be an object, but it was:",s,r);const i=[],o=Nt.empty();ws(r,(c,l)=>{const u=Bd(e,c,n);l=lt(l);const h=s.yu(u);if(l instanceof Kl)i.push(u);else{const f=ma(l,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new Ht(i);return new aT(o,a,s.fieldTransforms)}function AD(t,e,n,r,s,i){const o=t.Cu(1,e,n),a=[Wh(e,r,n)],c=[s];if(i.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Wh(e,i[f])),c.push(i[f+1]);const l=[],u=Nt.empty();for(let f=a.length-1;f>=0;--f)if(!hT(l,a[f])){const d=a[f];let m=c[f];m=lt(m);const y=o.yu(d);if(m instanceof Kl)l.push(d);else{const E=ma(m,y);E!=null&&(l.push(d),u.set(d,E))}}const h=new Ht(l);return new aT(u,h,o.fieldTransforms)}function SD(t,e,n,r=!1){return ma(n,t.Cu(r?4:3,e))}function ma(t,e){if(uT(t=lt(t)))return Ud("Unsupported field value:",e,t),lT(t,e);if(t instanceof Vd)return function(r,s){if(!cT(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=ma(a,s.wu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gO(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=it.fromDate(r);return{timestampValue:$c(s.serializer,i)}}if(r instanceof it){const i=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(s.serializer,i)}}if(r instanceof Ld)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:Ow(s.serializer,r._byteString)};if(r instanceof Kt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bd(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${$l(r)}`)}(t,e)}function lT(t,e){const n={};return nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,s)=>{const i=ma(s,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function uT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof Ld||t instanceof ai||t instanceof Kt||t instanceof Vd)}function Ud(t,e,n){if(!uT(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=$l(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Wh(t,e,n){if((e=lt(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return Bd(t,e);throw Hc("Field path arguments must be of type string or ",t,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function Bd(t,e,n){if(e.search(RD)>=0)throw Hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wl(...e.split("."))._internalPath}catch{throw Hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new X(L.INVALID_ARGUMENT,a+t+c)}function hT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CD extends fT{data(){return super.data()}}function $d(t,e){return typeof e=="string"?Bd(t,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jd{}class OD extends jd{}function kD(t,e,...n){let r=[];e instanceof jd&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof Hd).length,a=i.filter(c=>c instanceof zl).length;if(o>1||o>0&&a>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class zl extends OD{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zl(e,n,r)}_apply(e){const n=this._parse(e);return dT(e._query,n),new Ai(e.firestore,e.converter,Lh(e._query,n))}_parse(e){const n=Fd(e.firestore);return function(i,o,a,c,l,u,h){let f;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){bg(h,u);const d=[];for(const m of h)d.push(Tg(c,i,m));f={arrayValue:{values:d}}}else f=Tg(c,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||bg(h,u),f=SD(a,o,h,u==="in"||u==="not-in");return Ze.create(l,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function DD(t,e,n){const r=e,s=$d("where",t);return zl._create(s,r,n)}class Hd extends jd{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Hd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)dT(o,c),o=Lh(o,c)}(e._query,n),new Ai(e.firestore,e.converter,Lh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tg(t,e,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(e)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Me.fromString(n));if(!re.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wm(t,new re(r))}if(n instanceof Kt)return Wm(t,n._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$l(n)}.`)}function bg(t,e){if(!Array.isArray(t)||t.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dT(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class ND{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ws(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Ld(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Oo(e));default:return null}}convertTimestamp(e){const n=kr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ve(Lw(r));const s=new ko(r.get(1),r.get(3)),i=new re(r.popFirst(5));return s.isEqual(n)||Cn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VD extends fT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field($d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class nc extends VD{data(e={}){return super.data(e)}}class LD{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ja(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nc(this._firestore,this._userDataWriter,r.key,r,new ja(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new nc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new nc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let l=-1,u=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:MD(a.type),doc:c,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function MD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class FD extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function UD(t){t=oi(t,Ai);const e=oi(t.firestore,Hl),n=iT(e),r=new FD(e);return PD(t._query),gD(n,t._query).then(s=>new LD(e,r,t,s))}function ku(t,e,n,...r){t=oi(t,Kt);const s=oi(t.firestore,Hl),i=Fd(s);let o;return o=typeof(e=lt(e))=="string"||e instanceof Wl?AD(i,"updateDoc",t._key,e,n,r):ID(i,"updateDoc",t._key,e),pT(s,[o.toMutation(t._key,In.exists(!0))])}function BD(t,e){const n=oi(t.firestore,Hl),r=tc(t),s=xD(t.converter,e);return pT(n,[bD(Fd(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function pT(t,e){return function(r,s){const i=new Wn;return r.asyncQueue.enqueueAndForget(async()=>tD(await pD(r),s,i)),i.promise}(iT(t),e)}(function(e,n=!0){(function(s){Ti=s})(yi),Xs(new cs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Hl(new N1(r.getProvider("auth-internal")),new M1(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ir(Bm,"4.6.0",e),Ir(Bm,"4.6.0","esm2017")})();const Si=DA("memberStores",()=>{const t=ve(""),e=ve(""),n=ve(!1),r=ve({TWD:0,USD:0,CNY:0,HKD:0,JPY:0,KRW:0});async function s(i){try{const o=ql(Gn),a=await UD(kD(sT(o,"fireBaseData"),DD("email","==",i))),c=[];return a.forEach(l=>{c.push({id:l.id,...l.data()})}),c}catch(o){console.error("資料引用錯誤",o)}}return{memberId:t,memberEmail:e,isUserLoggedIn:n,fetchUserData:s,exchangeRates:r}}),$D={class:"bg-gray-200"},jD={class:"max-w-5xl mx-auto my-0 px-23 flex justify-end gap-2.5 p-3"},HD={__name:"member",setup(t){const e=Si(),{memberId:n,isUserLoggedIn:r}=_i(e),s=Zo(Gn),i=async()=>{try{await fC(s),localStorage.clear(),console.log("已登出")}catch(o){console.error("錯",o.message)}};return(o,a)=>{const c=po("router-link");return Ee(),Oe("div",$D,[Y("div",jD,[Be(r)?Hn("",!0):(Ee(),os(c,{key:0,to:"/signup",class:"tab p-2 text-white hover:bg-white hover:text-gray-400 rounded-md"},{default:ct(()=>[Qe("註冊")]),_:1})),Be(r)?Hn("",!0):(Ee(),os(c,{key:1,to:"/login",class:"tab p-2 text-white hover:bg-white hover:text-gray-400 rounded-md"},{default:ct(()=>[Qe("登入")]),_:1})),Be(r)?(Ee(),Oe("div",{key:2,onClick:i,class:"tab p-2 text-white hover:bg-white hover:text-gray-400 rounded-md"}," 登出 ")):Hn("",!0)])])}}},mT=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},qD={},WD=Y("h1",{class:"text-5xl text-white my-8 font-semibold"},"記帳應用",-1),KD=[WD];function zD(t,e){return Ee(),Oe("div",null,KD)}const GD=mT(qD,[["render",zD]]),QD={class:"flex flex-wrap justify-center"},JD={__name:"App",setup(t){const e=Si(),{memberId:n,memberEmail:r,isUserLoggedIn:s}=_i(e),i=Zo(Gn),o=a=>{if(a){s.value=!0;const c=a.email;c&&(r.value=c);const l=a.id;l&&(n.value=l)}else s.value=!1};return kn(()=>{hC(i,o);const a=localStorage.getItem("id"),c=localStorage.getItem("email");a&&(n.value=a),c&&(r.value=c)}),(a,c)=>{const l=po("router-link"),u=po("router-view");return Ee(),Oe(Ke,null,[ae(HD),ae(GD),Y("div",QD,[ae(l,{to:"/",class:"nav m-3 text-2xl text-white hover:bg-red cursor-pointer px-4 py-1 bg-gray-400"},{default:ct(()=>[Qe("即時匯率")]),_:1}),ae(l,{to:"/crud",class:"nav m-3 text-2xl text-white hover:bg-red cursor-pointer px-4 py-1 bg-gray-400"},{default:ct(()=>[Qe("記帳功能")]),_:1})]),ae(u)],64)}}};/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Os=typeof document<"u";function YD(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ce=Object.assign;function Du(t,e){const n={};for(const r in e){const s=e[r];n[r]=ln(s)?s.map(t):t(s)}return n}const io=()=>{},ln=Array.isArray,gT=/#/g,XD=/&/g,ZD=/\//g,eN=/=/g,tN=/\?/g,_T=/\+/g,nN=/%5B/g,rN=/%5D/g,yT=/%5E/g,sN=/%60/g,vT=/%7B/g,iN=/%7C/g,ET=/%7D/g,oN=/%20/g;function qd(t){return encodeURI(""+t).replace(iN,"|").replace(nN,"[").replace(rN,"]")}function aN(t){return qd(t).replace(vT,"{").replace(ET,"}").replace(yT,"^")}function Kh(t){return qd(t).replace(_T,"%2B").replace(oN,"+").replace(gT,"%23").replace(XD,"%26").replace(sN,"`").replace(vT,"{").replace(ET,"}").replace(yT,"^")}function cN(t){return Kh(t).replace(eN,"%3D")}function lN(t){return qd(t).replace(gT,"%23").replace(tN,"%3F")}function uN(t){return t==null?"":lN(t).replace(ZD,"%2F")}function Vo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const hN=/\/$/,fN=t=>t.replace(hN,"");function Nu(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=gN(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:Vo(o)}}function dN(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Ig(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pN(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ci(e.matched[r],n.matched[s])&&wT(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ci(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function wT(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mN(t[n],e[n]))return!1;return!0}function mN(t,e){return ln(t)?Ag(t,e):ln(e)?Ag(e,t):t===e}function Ag(t,e){return ln(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function gN(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}var Lo;(function(t){t.pop="pop",t.push="push"})(Lo||(Lo={}));var oo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(oo||(oo={}));function _N(t){if(!t)if(Os){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),fN(t)}const yN=/^[^#]+#/;function vN(t,e){return t.replace(yN,"#")+e}function EN(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Gl=()=>({left:window.scrollX,top:window.scrollY});function wN(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=EN(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Sg(t,e){return(history.state?history.state.position-e:-1)+t}const zh=new Map;function TN(t,e){zh.set(t,e)}function bN(t){const e=zh.get(t);return zh.delete(t),e}let IN=()=>location.protocol+"//"+location.host;function TT(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Ig(c,"")}return Ig(n,t)+r+s}function AN(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const d=TT(t,location),m=n.value,y=e.value;let E=0;if(f){if(n.value=d,e.value=f,o&&o===m){o=null;return}E=y?f.position-y.position:0}else r(d);s.forEach(R=>{R(n.value,m,{delta:E,type:Lo.pop,direction:E?E>0?oo.forward:oo.back:oo.unknown})})};function c(){o=n.value}function l(f){s.push(f);const d=()=>{const m=s.indexOf(f);m>-1&&s.splice(m,1)};return i.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Ce({},f.state,{scroll:Gl()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Rg(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Gl():null}}function SN(t){const{history:e,location:n}=window,r={value:TT(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:IN()+t+c;try{e[u?"replaceState":"pushState"](l,"",f),s.value=l}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(c,l){const u=Ce({},e.state,Rg(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Ce({},s.value,e.state,{forward:c,scroll:Gl()});i(u.current,u,!0);const h=Ce({},Rg(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function RN(t){t=_N(t);const e=SN(t),n=AN(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Ce({location:"",base:t,go:r,createHref:vN.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function CN(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),RN(t)}function PN(t){return typeof t=="string"||t&&typeof t=="object"}function bT(t){return typeof t=="string"||typeof t=="symbol"}const ar={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},IT=Symbol("");var Cg;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Cg||(Cg={}));function li(t,e){return Ce(new Error,{type:t,[IT]:!0},e)}function Nn(t,e){return t instanceof Error&&IT in t&&(e==null||!!(t.type&e))}const Pg="[^/]+?",ON={sensitive:!1,strict:!1,start:!0,end:!0},kN=/[.+*?^${}()[\]/\\]/g;function DN(t,e){const n=Ce({},ON,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const f=l[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(kN,"\\$&"),d+=40;else if(f.type===1){const{value:m,repeatable:y,optional:E,regexp:R}=f;i.push({name:m,repeatable:y,optional:E});const w=R||Pg;if(w!==Pg){d+=10;try{new RegExp(`(${w})`)}catch(v){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+v.message)}}let _=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(_=E&&l.length<2?`(?:/${_})`:"/"+_),E&&(_+="?"),s+=_,d+=20,E&&(d+=-8),y&&(d+=-20),w===".*"&&(d+=-50)}u.push(d)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",m=i[f-1];h[m.name]=d&&m.repeatable?d.split("/"):d}return h}function c(l){let u="",h=!1;for(const f of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:m,repeatable:y,optional:E}=d,R=m in l?l[m]:"";if(ln(R)&&!y)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=ln(R)?R.join("/"):R;if(!w)if(E)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=w}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function NN(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function xN(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=NN(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Og(r))return 1;if(Og(s))return-1}return s.length-r.length}function Og(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const VN={type:0,value:""},LN=/[a-zA-Z0-9_]/;function MN(t){if(!t)return[[]];if(t==="/")return[[VN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${l}": ${d}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:c==="("?n=2:LN.test(c)?f():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function FN(t,e,n){const r=DN(MN(t.path),n),s=Ce(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function UN(t,e){const n=[],r=new Map;e=Ng({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,f){const d=!f,m=BN(u);m.aliasOf=f&&f.record;const y=Ng(e,u),E=[m];if("alias"in u){const _=typeof u.alias=="string"?[u.alias]:u.alias;for(const v of _)E.push(Ce({},m,{components:f?f.record.components:m.components,path:v,aliasOf:f?f.record:m}))}let R,w;for(const _ of E){const{path:v}=_;if(h&&v[0]!=="/"){const b=h.record.path,A=b[b.length-1]==="/"?"":"/";_.path=h.record.path+(v&&A+v)}if(R=FN(_,h,y),f?f.alias.push(R):(w=w||R,w!==R&&w.alias.push(R),d&&u.name&&!Dg(R)&&o(u.name)),m.children){const b=m.children;for(let A=0;A<b.length;A++)i(b[A],R,f&&f.children[A])}f=f||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&c(R)}return w?()=>{o(w)}:io}function o(u){if(bT(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&xN(u,n[h])>=0&&(u.record.path!==n[h].record.path||!AT(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Dg(u)&&r.set(u.record.name,u)}function l(u,h){let f,d={},m,y;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw li(1,{location:u});y=f.record.name,d=Ce(kg(h.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),u.params&&kg(u.params,f.keys.map(w=>w.name))),m=f.stringify(d)}else if(u.path!=null)m=u.path,f=n.find(w=>w.re.test(m)),f&&(d=f.parse(m),y=f.record.name);else{if(f=h.name?r.get(h.name):n.find(w=>w.re.test(h.path)),!f)throw li(1,{location:u,currentLocation:h});y=f.record.name,d=Ce({},h.params,u.params),m=f.stringify(d)}const E=[];let R=f;for(;R;)E.unshift(R.record),R=R.parent;return{name:y,path:m,params:d,matched:E,meta:jN(E)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function kg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function BN(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$N(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $N(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Dg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jN(t){return t.reduce((e,n)=>Ce(e,n.meta),{})}function Ng(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function AT(t,e){return e.children.some(n=>n===t||AT(t,n))}function HN(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(_T," "),o=i.indexOf("="),a=Vo(o<0?i:i.slice(0,o)),c=o<0?null:Vo(i.slice(o+1));if(a in e){let l=e[a];ln(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function xg(t){let e="";for(let n in t){const r=t[n];if(n=cN(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(ln(r)?r.map(i=>i&&Kh(i)):[r&&Kh(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function qN(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=ln(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const WN=Symbol(""),Vg=Symbol(""),Ql=Symbol(""),ST=Symbol(""),Gh=Symbol("");function xi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function mr(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const l=f=>{f===!1?c(li(4,{from:n,to:e})):f instanceof Error?c(f):PN(f)?c(li(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(r&&r.instances[s],e,n,l));let h=Promise.resolve(u);t.length<3&&(h=h.then(l)),h.catch(f=>c(f))})}function xu(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(KN(c)){const u=(c.__vccOpts||c)[e];u&&i.push(mr(u,n,r,o,a,s))}else{let l=c();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const h=YD(u)?u.default:u;o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&mr(d,n,r,o,a,s)()}))}}return i}function KN(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Lg(t){const e=Jt(Ql),n=Jt(ST),r=Xe(()=>{const c=Be(t.to);return e.resolve(c)}),s=Xe(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(ci.bind(null,u));if(f>-1)return f;const d=Mg(c[l-2]);return l>1&&Mg(u)===d&&h[h.length-1].path!==d?h.findIndex(ci.bind(null,c[l-2])):f}),i=Xe(()=>s.value>-1&&JN(n.params,r.value.params)),o=Xe(()=>s.value>-1&&s.value===n.matched.length-1&&wT(n.params,r.value.params));function a(c={}){return QN(c)?e[Be(t.replace)?"replace":"push"](Be(t.to)).catch(io):Promise.resolve()}return{route:r,href:Xe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const zN=qo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Lg,setup(t,{slots:e}){const n=Zn(Lg(t)),{options:r}=Jt(Ql),s=Xe(()=>({[Fg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Fg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:al("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),GN=zN;function QN(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function JN(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ln(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Mg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Fg=(t,e,n)=>t??e??n,YN=qo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Jt(Gh),s=Xe(()=>t.route||r.value),i=Jt(Vg,0),o=Xe(()=>{let l=Be(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Xe(()=>s.value.matched[o.value]);zi(Vg,Xe(()=>o.value+1)),zi(WN,a),zi(Gh,s);const c=ve();return Wt(()=>[c.value,a.value,t.name],([l,u,h],[f,d,m])=>{u&&(u.instances[h]=l,d&&d!==u&&l&&l===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!ci(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,f=h&&h.components[u];if(!f)return Ug(n.default,{Component:f,route:l});const d=h.props[u],m=d?d===!0?l.params:typeof d=="function"?d(l):d:null,E=al(f,Ce({},m,e,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return Ug(n.default,{Component:E,route:l})||E}}});function Ug(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const XN=YN;function ZN(t){const e=UN(t.routes,t),n=t.parseQuery||HN,r=t.stringifyQuery||xg,s=t.history,i=xi(),o=xi(),a=xi(),c=S_(ar);let l=ar;Os&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Du.bind(null,D=>""+D),h=Du.bind(null,uN),f=Du.bind(null,Vo);function d(D,z){let O,q;return bT(D)?(O=e.getRecordMatcher(D),q=z):q=D,e.addRoute(q,O)}function m(D){const z=e.getRecordMatcher(D);z&&e.removeRoute(z)}function y(){return e.getRoutes().map(D=>D.record)}function E(D){return!!e.getRecordMatcher(D)}function R(D,z){if(z=Ce({},z||c.value),typeof D=="string"){const g=Nu(n,D,z.path),C=e.resolve({path:g.path},z),x=s.createHref(g.fullPath);return Ce(g,C,{params:f(C.params),hash:Vo(g.hash),redirectedFrom:void 0,href:x})}let O;if(D.path!=null)O=Ce({},D,{path:Nu(n,D.path,z.path).path});else{const g=Ce({},D.params);for(const C in g)g[C]==null&&delete g[C];O=Ce({},D,{params:h(g)}),z.params=h(z.params)}const q=e.resolve(O,z),de=D.hash||"";q.params=u(f(q.params));const ge=dN(r,Ce({},D,{hash:aN(de),path:q.path})),p=s.createHref(ge);return Ce({fullPath:ge,hash:de,query:r===xg?qN(D.query):D.query||{}},q,{redirectedFrom:void 0,href:p})}function w(D){return typeof D=="string"?Nu(n,D,c.value.path):Ce({},D)}function _(D,z){if(l!==D)return li(8,{from:z,to:D})}function v(D){return P(D)}function b(D){return v(Ce(w(D),{replace:!0}))}function A(D){const z=D.matched[D.matched.length-1];if(z&&z.redirect){const{redirect:O}=z;let q=typeof O=="function"?O(D):O;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=w(q):{path:q},q.params={}),Ce({query:D.query,hash:D.hash,params:q.path!=null?{}:D.params},q)}}function P(D,z){const O=l=R(D),q=c.value,de=D.state,ge=D.force,p=D.replace===!0,g=A(O);if(g)return P(Ce(w(g),{state:typeof g=="object"?Ce({},de,g.state):de,force:ge,replace:p}),z||O);const C=O;C.redirectedFrom=z;let x;return!ge&&pN(r,q,O)&&(x=li(16,{to:C,from:q}),Ge(q,q,!0,!1)),(x?Promise.resolve(x):I(C,q)).catch(k=>Nn(k)?Nn(k,2)?k:xe(k):K(k,C,q)).then(k=>{if(k){if(Nn(k,2))return P(Ce({replace:p},w(k.to),{state:typeof k.to=="object"?Ce({},de,k.to.state):de,force:ge}),z||C)}else k=N(C,q,!0,p,de);return F(C,q,k),k})}function T(D,z){const O=_(D,z);return O?Promise.reject(O):Promise.resolve()}function S(D){const z=Rt.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(D):D()}function I(D,z){let O;const[q,de,ge]=ex(D,z);O=xu(q.reverse(),"beforeRouteLeave",D,z);for(const g of q)g.leaveGuards.forEach(C=>{O.push(mr(C,D,z))});const p=T.bind(null,D,z);return O.push(p),Fe(O).then(()=>{O=[];for(const g of i.list())O.push(mr(g,D,z));return O.push(p),Fe(O)}).then(()=>{O=xu(de,"beforeRouteUpdate",D,z);for(const g of de)g.updateGuards.forEach(C=>{O.push(mr(C,D,z))});return O.push(p),Fe(O)}).then(()=>{O=[];for(const g of ge)if(g.beforeEnter)if(ln(g.beforeEnter))for(const C of g.beforeEnter)O.push(mr(C,D,z));else O.push(mr(g.beforeEnter,D,z));return O.push(p),Fe(O)}).then(()=>(D.matched.forEach(g=>g.enterCallbacks={}),O=xu(ge,"beforeRouteEnter",D,z,S),O.push(p),Fe(O))).then(()=>{O=[];for(const g of o.list())O.push(mr(g,D,z));return O.push(p),Fe(O)}).catch(g=>Nn(g,8)?g:Promise.reject(g))}function F(D,z,O){a.list().forEach(q=>S(()=>q(D,z,O)))}function N(D,z,O,q,de){const ge=_(D,z);if(ge)return ge;const p=z===ar,g=Os?history.state:{};O&&(q||p?s.replace(D.fullPath,Ce({scroll:p&&g&&g.scroll},de)):s.push(D.fullPath,de)),c.value=D,Ge(D,z,O,p),xe()}let H;function me(){H||(H=s.listen((D,z,O)=>{if(!rt.listening)return;const q=R(D),de=A(q);if(de){P(Ce(de,{replace:!0}),q).catch(io);return}l=q;const ge=c.value;Os&&TN(Sg(ge.fullPath,O.delta),Gl()),I(q,ge).catch(p=>Nn(p,12)?p:Nn(p,2)?(P(p.to,q).then(g=>{Nn(g,20)&&!O.delta&&O.type===Lo.pop&&s.go(-1,!1)}).catch(io),Promise.reject()):(O.delta&&s.go(-O.delta,!1),K(p,q,ge))).then(p=>{p=p||N(q,ge,!1),p&&(O.delta&&!Nn(p,8)?s.go(-O.delta,!1):O.type===Lo.pop&&Nn(p,20)&&s.go(-1,!1)),F(q,ge,p)}).catch(io)}))}let ue=xi(),B=xi(),te;function K(D,z,O){xe(D);const q=B.list();return q.length?q.forEach(de=>de(D,z,O)):console.error(D),Promise.reject(D)}function Re(){return te&&c.value!==ar?Promise.resolve():new Promise((D,z)=>{ue.add([D,z])})}function xe(D){return te||(te=!D,me(),ue.list().forEach(([z,O])=>D?O(D):z()),ue.reset()),D}function Ge(D,z,O,q){const{scrollBehavior:de}=t;if(!Os||!de)return Promise.resolve();const ge=!O&&bN(Sg(D.fullPath,0))||(q||!O)&&history.state&&history.state.scroll||null;return _s().then(()=>de(D,z,ge)).then(p=>p&&wN(p)).catch(p=>K(p,D,z))}const He=D=>s.go(D);let Mt;const Rt=new Set,rt={currentRoute:c,listening:!0,addRoute:d,removeRoute:m,hasRoute:E,getRoutes:y,resolve:R,options:t,push:v,replace:b,go:He,back:()=>He(-1),forward:()=>He(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:Re,install(D){const z=this;D.component("RouterLink",GN),D.component("RouterView",XN),D.config.globalProperties.$router=z,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(c)}),Os&&!Mt&&c.value===ar&&(Mt=!0,v(s.location).catch(de=>{}));const O={};for(const de in ar)Object.defineProperty(O,de,{get:()=>c.value[de],enumerable:!0});D.provide(Ql,z),D.provide(ST,df(O)),D.provide(Gh,c);const q=D.unmount;Rt.add(D),D.unmount=function(){Rt.delete(D),Rt.size<1&&(l=ar,H&&H(),H=null,c.value=ar,Mt=!1,te=!1),q()}}};function Fe(D){return D.reduce((z,O)=>z.then(()=>S(O)),Promise.resolve())}return rt}function ex(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>ci(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>ci(l,c))||s.push(c))}return[n,r,s]}function RT(){return Jt(Ql)}function CT(t,e){return function(){return t.apply(e,arguments)}}const{toString:tx}=Object.prototype,{getPrototypeOf:Wd}=Object,Jl=(t=>e=>{const n=tx.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Dn=t=>(t=t.toLowerCase(),e=>Jl(e)===t),Yl=t=>e=>typeof e===t,{isArray:Ri}=Array,Mo=Yl("undefined");function nx(t){return t!==null&&!Mo(t)&&t.constructor!==null&&!Mo(t.constructor)&&Xt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const PT=Dn("ArrayBuffer");function rx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&PT(t.buffer),e}const sx=Yl("string"),Xt=Yl("function"),OT=Yl("number"),Xl=t=>t!==null&&typeof t=="object",ix=t=>t===!0||t===!1,rc=t=>{if(Jl(t)!=="object")return!1;const e=Wd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ox=Dn("Date"),ax=Dn("File"),cx=Dn("Blob"),lx=Dn("FileList"),ux=t=>Xl(t)&&Xt(t.pipe),hx=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Xt(t.append)&&((e=Jl(t))==="formdata"||e==="object"&&Xt(t.toString)&&t.toString()==="[object FormData]"))},fx=Dn("URLSearchParams"),dx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ga(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ri(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function kT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const DT=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,NT=t=>!Mo(t)&&t!==DT;function Qh(){const{caseless:t}=NT(this)&&this||{},e={},n=(r,s)=>{const i=t&&kT(e,s)||s;rc(e[i])&&rc(r)?e[i]=Qh(e[i],r):rc(r)?e[i]=Qh({},r):Ri(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&ga(arguments[r],n);return e}const px=(t,e,n,{allOwnKeys:r}={})=>(ga(e,(s,i)=>{n&&Xt(s)?t[i]=CT(s,n):t[i]=s},{allOwnKeys:r}),t),mx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gx=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_x=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&Wd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},yx=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},vx=t=>{if(!t)return null;if(Ri(t))return t;let e=t.length;if(!OT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Ex=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Wd(Uint8Array)),wx=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Tx=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},bx=Dn("HTMLFormElement"),Ix=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Bg=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ax=Dn("RegExp"),xT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ga(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Sx=t=>{xT(t,(e,n)=>{if(Xt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Xt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Rx=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ri(t)?r(t):r(String(t).split(e)),n},Cx=()=>{},Px=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Vu="abcdefghijklmnopqrstuvwxyz",$g="0123456789",VT={DIGIT:$g,ALPHA:Vu,ALPHA_DIGIT:Vu+Vu.toUpperCase()+$g},Ox=(t=16,e=VT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function kx(t){return!!(t&&Xt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Dx=t=>{const e=new Array(10),n=(r,s)=>{if(Xl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ri(r)?[]:{};return ga(r,(o,a)=>{const c=n(o,s+1);!Mo(c)&&(i[a]=c)}),e[s]=void 0,i}}return r};return n(t,0)},Nx=Dn("AsyncFunction"),xx=t=>t&&(Xl(t)||Xt(t))&&Xt(t.then)&&Xt(t.catch),V={isArray:Ri,isArrayBuffer:PT,isBuffer:nx,isFormData:hx,isArrayBufferView:rx,isString:sx,isNumber:OT,isBoolean:ix,isObject:Xl,isPlainObject:rc,isUndefined:Mo,isDate:ox,isFile:ax,isBlob:cx,isRegExp:Ax,isFunction:Xt,isStream:ux,isURLSearchParams:fx,isTypedArray:Ex,isFileList:lx,forEach:ga,merge:Qh,extend:px,trim:dx,stripBOM:mx,inherits:gx,toFlatObject:_x,kindOf:Jl,kindOfTest:Dn,endsWith:yx,toArray:vx,forEachEntry:wx,matchAll:Tx,isHTMLForm:bx,hasOwnProperty:Bg,hasOwnProp:Bg,reduceDescriptors:xT,freezeMethods:Sx,toObjectSet:Rx,toCamelCase:Ix,noop:Cx,toFiniteNumber:Px,findKey:kT,global:DT,isContextDefined:NT,ALPHABET:VT,generateString:Ox,isSpecCompliantForm:kx,toJSONObject:Dx,isAsyncFn:Nx,isThenable:xx};function Ie(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}V.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const LT=Ie.prototype,MT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{MT[t]={value:t}});Object.defineProperties(Ie,MT);Object.defineProperty(LT,"isAxiosError",{value:!0});Ie.from=(t,e,n,r,s,i)=>{const o=Object.create(LT);return V.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Ie.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Vx=null;function Jh(t){return V.isPlainObject(t)||V.isArray(t)}function FT(t){return V.endsWith(t,"[]")?t.slice(0,-2):t}function jg(t,e,n){return t?t.concat(e).map(function(s,i){return s=FT(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Lx(t){return V.isArray(t)&&!t.some(Jh)}const Mx=V.toFlatObject(V,{},null,function(e){return/^is[A-Z]/.test(e)});function Zl(t,e,n){if(!V.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,E){return!V.isUndefined(E[y])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&V.isSpecCompliantForm(e);if(!V.isFunction(s))throw new TypeError("visitor must be a function");function l(m){if(m===null)return"";if(V.isDate(m))return m.toISOString();if(!c&&V.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(m)||V.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,y,E){let R=m;if(m&&!E&&typeof m=="object"){if(V.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(V.isArray(m)&&Lx(m)||(V.isFileList(m)||V.endsWith(y,"[]"))&&(R=V.toArray(m)))return y=FT(y),R.forEach(function(_,v){!(V.isUndefined(_)||_===null)&&e.append(o===!0?jg([y],v,i):o===null?y:y+"[]",l(_))}),!1}return Jh(m)?!0:(e.append(jg(E,y,i),l(m)),!1)}const h=[],f=Object.assign(Mx,{defaultVisitor:u,convertValue:l,isVisitable:Jh});function d(m,y){if(!V.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),V.forEach(m,function(R,w){(!(V.isUndefined(R)||R===null)&&s.call(e,R,V.isString(w)?w.trim():w,y,f))===!0&&d(R,y?y.concat(w):[w])}),h.pop()}}if(!V.isObject(t))throw new TypeError("data must be an object");return d(t),e}function Hg(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Kd(t,e){this._pairs=[],t&&Zl(t,this,e)}const UT=Kd.prototype;UT.append=function(e,n){this._pairs.push([e,n])};UT.toString=function(e){const n=e?function(r){return e.call(this,r,Hg)}:Hg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Fx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BT(t,e,n){if(!e)return t;const r=n&&n.encode||Fx,s=n&&n.serialize;let i;if(s?i=s(e,n):i=V.isURLSearchParams(e)?e.toString():new Kd(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class qg{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,function(r){r!==null&&e(r)})}}const $T={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ux=typeof URLSearchParams<"u"?URLSearchParams:Kd,Bx=typeof FormData<"u"?FormData:null,$x=typeof Blob<"u"?Blob:null,jx={isBrowser:!0,classes:{URLSearchParams:Ux,FormData:Bx,Blob:$x},protocols:["http","https","file","blob","url","data"]},jT=typeof window<"u"&&typeof document<"u",Hx=(t=>jT&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),qx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Wx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:jT,hasStandardBrowserEnv:Hx,hasStandardBrowserWebWorkerEnv:qx},Symbol.toStringTag,{value:"Module"})),En={...Wx,...jx};function Kx(t,e){return Zl(t,new En.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return En.isNode&&V.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function zx(t){return V.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Gx(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function HT(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&V.isArray(s)?s.length:o,c?(V.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!V.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&V.isArray(s[o])&&(s[o]=Gx(s[o])),!a)}if(V.isFormData(t)&&V.isFunction(t.entries)){const n={};return V.forEachEntry(t,(r,s)=>{e(zx(r),s,n,0)}),n}return null}function Qx(t,e,n){if(V.isString(t))try{return(e||JSON.parse)(t),V.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const zd={transitional:$T,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=V.isObject(e);if(i&&V.isHTMLForm(e)&&(e=new FormData(e)),V.isFormData(e))return s?JSON.stringify(HT(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Kx(e,this.formSerializer).toString();if((a=V.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zl(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Qx(e)):e}],transformResponse:[function(e){const n=this.transitional||zd.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&V.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ie.from(a,Ie.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:En.classes.FormData,Blob:En.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],t=>{zd.headers[t]={}});const Gd=zd,Jx=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yx=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&Jx[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Wg=Symbol("internals");function Vi(t){return t&&String(t).trim().toLowerCase()}function sc(t){return t===!1||t==null?t:V.isArray(t)?t.map(sc):String(t)}function Xx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Zx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lu(t,e,n,r,s){if(V.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!V.isString(e)){if(V.isString(r))return e.indexOf(r)!==-1;if(V.isRegExp(r))return r.test(e)}}function eV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function tV(t,e){const n=V.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class eu{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,c,l){const u=Vi(c);if(!u)throw new Error("header name must be a non-empty string");const h=V.findKey(s,u);(!h||s[h]===void 0||l===!0||l===void 0&&s[h]!==!1)&&(s[h||c]=sc(a))}const o=(a,c)=>V.forEach(a,(l,u)=>i(l,u,c));return V.isPlainObject(e)||e instanceof this.constructor?o(e,n):V.isString(e)&&(e=e.trim())&&!Zx(e)?o(Yx(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Vi(e),e){const r=V.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Xx(s);if(V.isFunction(n))return n.call(this,s,r);if(V.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Vi(e),e){const r=V.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Lu(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Vi(o),o){const a=V.findKey(r,o);a&&(!n||Lu(r,r[a],a,n))&&(delete r[a],s=!0)}}return V.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Lu(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return V.forEach(this,(s,i)=>{const o=V.findKey(r,i);if(o){n[o]=sc(s),delete n[i];return}const a=e?eV(i):String(i).trim();a!==i&&delete n[i],n[a]=sc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return V.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&V.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Wg]=this[Wg]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Vi(o);r[a]||(tV(s,o),r[a]=!0)}return V.isArray(e)?e.forEach(i):i(e),this}}eu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);V.reduceDescriptors(eu.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});V.freezeMethods(eu);const Kn=eu;function Mu(t,e){const n=this||Gd,r=e||n,s=Kn.from(r.headers);let i=r.data;return V.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function qT(t){return!!(t&&t.__CANCEL__)}function _a(t,e,n){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,n),this.name="CanceledError"}V.inherits(_a,Ie,{__CANCEL__:!0});function nV(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Ie("Request failed with status code "+n.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const rV=En.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function iV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function WT(t,e){return t&&!sV(e)?iV(t,e):e}const oV=En.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=V.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function aV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[i];o||(o=l),n[s]=c,r[s]=l;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-o<e)return;const d=u&&l-u;return d?Math.round(f*1e3/d):void 0}}function Kg(t,e){let n=0;const r=cV(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,c=r(a),l=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-i)/c:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const lV=typeof XMLHttpRequest<"u",uV=lV&&function(t){return new Promise(function(n,r){let s=t.data;const i=Kn.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,c;function l(){t.cancelToken&&t.cancelToken.unsubscribe(c),t.signal&&t.signal.removeEventListener("abort",c)}let u;if(V.isFormData(s)){if(En.hasStandardBrowserEnv||En.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((u=i.getContentType())!==!1){const[y,...E]=u?u.split(";").map(R=>R.trim()).filter(Boolean):[];i.setContentType([y||"multipart/form-data",...E].join("; "))}}let h=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",E=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(y+":"+E))}const f=WT(t.baseURL,t.url);h.open(t.method.toUpperCase(),BT(f,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function d(){if(!h)return;const y=Kn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),R={data:!o||o==="text"||o==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:y,config:t,request:h};nV(function(_){n(_),l()},function(_){r(_),l()},R),h=null}if("onloadend"in h?h.onloadend=d:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(d)},h.onabort=function(){h&&(r(new Ie("Request aborted",Ie.ECONNABORTED,t,h)),h=null)},h.onerror=function(){r(new Ie("Network Error",Ie.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let E=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||$T;t.timeoutErrorMessage&&(E=t.timeoutErrorMessage),r(new Ie(E,R.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,h)),h=null},En.hasStandardBrowserEnv&&(a&&V.isFunction(a)&&(a=a(t)),a||a!==!1&&oV(f))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&rV.read(t.xsrfCookieName);y&&i.set(t.xsrfHeaderName,y)}s===void 0&&i.setContentType(null),"setRequestHeader"in h&&V.forEach(i.toJSON(),function(E,R){h.setRequestHeader(R,E)}),V.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),o&&o!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",Kg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",Kg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(c=y=>{h&&(r(!y||y.type?new _a(null,t,h):y),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(c),t.signal&&(t.signal.aborted?c():t.signal.addEventListener("abort",c)));const m=aV(f);if(m&&En.protocols.indexOf(m)===-1){r(new Ie("Unsupported protocol "+m+":",Ie.ERR_BAD_REQUEST,t));return}h.send(s||null)})},Yh={http:Vx,xhr:uV};V.forEach(Yh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zg=t=>`- ${t}`,hV=t=>V.isFunction(t)||t===null||t===!1,KT={getAdapter:t=>{t=V.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!hV(n)&&(r=Yh[(o=String(n)).toLowerCase()],r===void 0))throw new Ie(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(zg).join(`
`):" "+zg(i[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Yh};function Fu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _a(null,t)}function Gg(t){return Fu(t),t.headers=Kn.from(t.headers),t.data=Mu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),KT.getAdapter(t.adapter||Gd.adapter)(t).then(function(r){return Fu(t),r.data=Mu.call(t,t.transformResponse,r),r.headers=Kn.from(r.headers),r},function(r){return qT(r)||(Fu(t),r&&r.response&&(r.response.data=Mu.call(t,t.transformResponse,r.response),r.response.headers=Kn.from(r.response.headers))),Promise.reject(r)})}const Qg=t=>t instanceof Kn?{...t}:t;function ui(t,e){e=e||{};const n={};function r(l,u,h){return V.isPlainObject(l)&&V.isPlainObject(u)?V.merge.call({caseless:h},l,u):V.isPlainObject(u)?V.merge({},u):V.isArray(u)?u.slice():u}function s(l,u,h){if(V.isUndefined(u)){if(!V.isUndefined(l))return r(void 0,l,h)}else return r(l,u,h)}function i(l,u){if(!V.isUndefined(u))return r(void 0,u)}function o(l,u){if(V.isUndefined(u)){if(!V.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,h){if(h in e)return r(l,u);if(h in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(Qg(l),Qg(u),!0)};return V.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||s,f=h(t[u],e[u],u);V.isUndefined(f)&&h!==a||(n[u]=f)}),n}const zT="1.6.8",Qd={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qd[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Jg={};Qd.transitional=function(e,n,r){function s(i,o){return"[Axios v"+zT+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Ie(s(o," has been removed"+(n?" in "+n:"")),Ie.ERR_DEPRECATED);return n&&!Jg[o]&&(Jg[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function fV(t,e,n){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new Ie("option "+i+" must be "+c,Ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ie("Unknown option "+i,Ie.ERR_BAD_OPTION)}}const Xh={assertOptions:fV,validators:Qd},cr=Xh.validators;class qc{constructor(e){this.defaults=e,this.interceptors={request:new qg,response:new qg}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ui(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Xh.assertOptions(r,{silentJSONParsing:cr.transitional(cr.boolean),forcedJSONParsing:cr.transitional(cr.boolean),clarifyTimeoutError:cr.transitional(cr.boolean)},!1),s!=null&&(V.isFunction(s)?n.paramsSerializer={serialize:s}:Xh.assertOptions(s,{encode:cr.function,serialize:cr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&V.merge(i.common,i[n.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Kn.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!c){const m=[Gg.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,l),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let d=n;for(h=0;h<f;){const m=a[h++],y=a[h++];try{d=m(d)}catch(E){y.call(this,E);break}}try{u=Gg.call(this,d)}catch(m){return Promise.reject(m)}for(h=0,f=l.length;h<f;)u=u.then(l[h++],l[h++]);return u}getUri(e){e=ui(this.defaults,e);const n=WT(e.baseURL,e.url);return BT(n,e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],function(e){qc.prototype[e]=function(n,r){return this.request(ui(r||{},{method:e,url:n,data:(r||{}).data}))}});V.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ui(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}qc.prototype[e]=n(),qc.prototype[e+"Form"]=n(!0)});const ic=qc;class Jd{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new _a(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Jd(function(s){e=s}),cancel:e}}}const dV=Jd;function pV(t){return function(n){return t.apply(null,n)}}function mV(t){return V.isObject(t)&&t.isAxiosError===!0}const Zh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Zh).forEach(([t,e])=>{Zh[e]=t});const gV=Zh;function GT(t){const e=new ic(t),n=CT(ic.prototype.request,e);return V.extend(n,ic.prototype,e,{allOwnKeys:!0}),V.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return GT(ui(t,s))},n}const nt=GT(Gd);nt.Axios=ic;nt.CanceledError=_a;nt.CancelToken=dV;nt.isCancel=qT;nt.VERSION=zT;nt.toFormData=Zl;nt.AxiosError=Ie;nt.Cancel=nt.CanceledError;nt.all=function(e){return Promise.all(e)};nt.spread=pV;nt.isAxiosError=mV;nt.mergeConfig=ui;nt.AxiosHeaders=Kn;nt.formToJSON=t=>HT(V.isHTMLForm(t)?new FormData(t):t);nt.getAdapter=KT.getAdapter;nt.HttpStatusCode=gV;nt.default=nt;const _V={class:"mt-6 text-end"},yV={__name:"NowTime",setup(t){const e=new Date;let n=Zn({hours:e.getHours().toString().padStart(2,"0"),minutes:e.getMinutes().toString().padStart(2,"0"),seconds:e.getSeconds().toString().padStart(2,"0")});return n=`${n.hours}:${n.minutes}:${n.seconds}`,(r,s)=>(Ee(),Oe("div",null,[Y("p",_V,"更新時間："+Bt(Be(n)),1)]))}};var vV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wV(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var QT={exports:{}};const TV=wV(IA);(function(t,e){(function(r,s){t.exports=s(TV)})(vV,n=>(()=>{var r={878:(a,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.default=(l,u)=>{const h=l.__vccOpts||l;for(const[f,d]of u)h[f]=d;return h}},976:a=>{a.exports=n}},s={};function i(a){var c=s[a];if(c!==void 0)return c.exports;var l=s[a]={exports:{}};return r[a](l,l.exports,i),l.exports}i.d=(a,c)=>{for(var l in c)i.o(c,l)&&!i.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:c[l]})},i.o=(a,c)=>Object.prototype.hasOwnProperty.call(a,c),i.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{i.r(o),i.d(o,{Component:()=>rt,LoadingPlugin:()=>D,default:()=>z,useLoading:()=>Fe});var a=i(976);function c(O){var q;typeof O.remove<"u"?O.remove():(q=O.parentNode)==null||q.removeChild(O)}function l(O,q,de){let ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=(0,a.h)(O,q,ge),g=document.createElement("div");return g.classList.add("vld-container"),de.appendChild(g),(0,a.render)(p,g),p.component}function u(){return typeof window<"u"}const h=u()?window.HTMLElement:Object,f=["aria-busy"],d={class:"vl-icon"};function m(O,q,de,ge,p,g){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{name:O.transition},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{tabindex:"0",class:(0,a.normalizeClass)(["vl-overlay vl-active",{"vl-full-page":O.isFullPage}]),"aria-busy":O.isActive,"aria-label":"Loading",style:(0,a.normalizeStyle)({zIndex:O.zIndex})},[(0,a.createElementVNode)("div",{class:"vl-background",onClick:q[0]||(q[0]=(0,a.withModifiers)(function(){return O.cancel&&O.cancel(...arguments)},["prevent"])),style:(0,a.normalizeStyle)(O.bgStyle)},null,4),(0,a.createElementVNode)("div",d,[(0,a.renderSlot)(O.$slots,"before"),(0,a.renderSlot)(O.$slots,"default",{},()=>[((0,a.openBlock)(),(0,a.createBlock)((0,a.resolveDynamicComponent)(O.loader),{color:O.color,width:O.width,height:O.height},null,8,["color","width","height"]))]),(0,a.renderSlot)(O.$slots,"after")])],14,f),[[a.vShow,O.isActive]])]),_:3},8,["name"])}const y={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(O){if(!this.isActive||O.target===this.$el||this.$el.contains(O.target))return;let q=this.container?this.container:this.isFullPage?null:this.$el.parentElement;(this.isFullPage||q&&q.contains(O.target))&&(O.preventDefault(),this.$el.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},E=["width","height","stroke"],w=[(0,a.createStaticVNode)('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".25" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.8s" repeatCount="indefinite"></animateTransform></path></g></g>',1)];function _(O,q,de,ge,p,g){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:O.width,height:O.height,stroke:O.color},w,8,E)}const v=(0,a.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});var b=i(878);const P=(0,b.default)(v,[["render",_]]),T=["fill","width","height"],I=[(0,a.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3)];function F(O,q,de,ge,p,g){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:O.color,width:O.width,height:O.height},I,8,T)}const N=(0,a.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}}),me=(0,b.default)(N,[["render",F]]),ue=["height","width","fill"],te=[(0,a.createStaticVNode)('<rect x="0" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3)];function K(O,q,de,ge,p,g){return(0,a.openBlock)(),(0,a.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:O.height,width:O.width,fill:O.color},te,8,ue)}const Re=(0,a.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}}),He={Spinner:P,Dots:me,Bars:(0,b.default)(Re,[["render",K]])},Mt=(0,a.defineComponent)({name:"VueLoading",mixins:[y],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,h],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:Boolean,transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},components:He,emits:["hide","update:active"],data(){return{isActive:this.active}},mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){!this.canCancel||!this.isActive||(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const O=this.$el.parentElement;(0,a.render)(null,O),c(O)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vl-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vl-shown")},keyPress(O){O.keyCode===27&&this.cancel()}},watch:{active(O){this.isActive=O},isActive:{handler(O){O?this.disableScroll():this.enableScroll()},immediate:!0}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}}),rt=(0,b.default)(Mt,[["render",m]]);function Fe(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{show(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:q;const g={...O,...de,...{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0}};let C=g.container;g.container||(C=document.body,g.isFullPage=!0);const x={...q,...ge};return{hide:l(rt,g,C,x).ctx.hide}}}}const D=function(O){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ge=Fe(q,de);O.config.globalProperties.$loading=ge,O.provide("$loading",ge)},z=rt})(),o})())})(QT);var JT=QT.exports;const bV=EV(JT),IV={class:"vl-parent"},AV=Y("div",{class:"loadingio-spinner-ripple-nq4q5u6dq7r"},[Y("div",{class:"ldio-x2uulkbinbj"},[Y("div"),Y("div")])],-1),Yd={__name:"Loading",setup(t){const e=ve(!0),n=ve(!0);function r(){console.log("User cancelled the loader.")}return(s,i)=>(Ee(),Oe("div",IV,[ae(Be(bV),{active:e.value,"onUpdate:active":i[0]||(i[0]=o=>e.value=o),"can-cancel":!1,"on-cancel":r,"is-full-page":n.value},{default:ct(()=>[AV]),_:1},8,["active","is-full-page"])]))}},SV={class:"text-black mx-auto max-w-4xl"},RV={class:"noticeBlock m-8 mx-3"},CV={key:0},PV=Iy('<div class="grid grid-cols-2 list-none p-0 mb-3 items-center bg-red text-white"><p>幣別</p><div class="border-x"><p class="">現金匯率</p><div class="grid grid-cols-2 border-y"><p class="">即時匯率</p><p class="border-l">即時試算</p></div></div></div>',1),OV={class:"p-2.5"},kV={class:"grid grid-cols-2"},DV={class:"p-2.5 break-all text-start"},NV={class:"p-2.5 break-all text-start"},xV={class:"flex mt-4"},VV=Y("p",null,"台幣換算：",-1),LV=Y("p",{class:"ml-0.5"},"元",-1),MV={key:1},FV=Y("p",null,"Loading...",-1),YT={__name:"Exchange",setup(t){const e=Si(),{exchangeRates:n}=_i(e),r=ve(1),s=c=>`https://v6.exchangerate-api.com/v6/e7465e9010f3a9e28ad28dd6/latest/${c}`,i=[{baseCode:"TWD",conversion_rates:"TWD",name:"台幣"},{baseCode:"USD",conversion_rates:"TWD",name:"美金"},{baseCode:"GBP",conversion_rates:"TWD",name:"英鎊"},{baseCode:"EUR",conversion_rates:"TWD",name:"歐元"},{baseCode:"JPY",conversion_rates:"TWD",name:"日幣"},{baseCode:"KRW",conversion_rates:"TWD",name:"韓元"},{baseCode:"HKD",conversion_rates:"TWD",name:"港幣"},{baseCode:"CNY",conversion_rates:"TWD",name:"人民幣"},{baseCode:"SGD",conversion_rates:"TWD",name:"新加坡幣"}],o=ve(null);async function a(){try{for(const c of i){const l=s(c.baseCode),h=(await nt.get(l)).data;n.value[c.baseCode]=h.conversion_rates.TWD}o.value=!0}catch(c){console.error("請求失敗:",c)}}return a(),(c,l)=>(Ee(),Oe("div",SV,[Y("div",RV,[o.value?(Ee(),Oe("div",CV,[PV,(Ee(),Oe(Ke,null,dc(i,(u,h)=>Y("ul",{key:u.baseCode,class:"grid grid-cols-2 list-none p-0 mb-2 bg-stone-50 items-center"},[Y("li",OV,Bt(u.name)+"("+Bt(i[h].baseCode)+")",1),Y("div",kV,[Y("li",DV,Bt((1/Be(n)[u.baseCode]).toFixed(2)),1),Y("li",NV,Bt((r.value/Be(n)[u.baseCode]).toFixed(2)),1)])])),64)),Y("div",xV,[VV,vt(Y("input",{type:"number","onUpdate:modelValue":l[0]||(l[0]=u=>r.value=u),min:"1",class:"border max-w-20"},null,512),[[Dt,r.value]]),LV]),ae(yV)])):(Ee(),Oe("div",MV,[ae(Yd),FV]))])]))}},UV={__name:"Home",setup(t){return(e,n)=>(Ee(),os(YT))}},BV={},$V={class:"px-4 py-2 bg-red hover:bg-blue-200 text-white rounded-md",type:"button"};function jV(t,e){return Ee(),Oe("button",$V,[pc(t.$slots,"default")])}const Kr=mT(BV,[["render",jV]]),HV={class:"max-w-72 m-0 mx-auto"},qV={class:"flex justify-between"},WV={class:"flex justify-between"},XT={__name:"CustomForm",props:{isSubmit:!1},emits:["submitData"],setup(t,{emit:e}){const n=t,r=e,s=Zn({email:"",password:""});return Wt(()=>n.isSubmit,i=>{if(i)r("submitData",s);else return}),(i,o)=>(Ee(),Oe("form",HV,[Y("div",qV,[vt(Y("input",{type:"email",name:"email",class:"email border px-4 py-2 mb-3 w-full rounded-md",placeholder:"請輸入Email",autocomplete:"current-email","onUpdate:modelValue":o[0]||(o[0]=a=>s.email=a)},null,512),[[Dt,s.email]])]),Y("div",WV,[vt(Y("input",{type:"password",name:"password",class:"password border px-4 py-2 mb-5 w-full rounded-md",placeholder:"請輸入密碼",autocomplete:"current-password","onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a)},null,512),[[Dt,s.password]])])]))}},KV={class:"signInContent mx-auto m-8 max-w-4xl"},zV={key:0,class:"memberBlock"},GV={key:0,class:"text-rose-600 mb-2"},QV=Y("br",null,null,-1),JV={key:1,class:"noticeBlock"},YV=Y("p",null,"Loading...",-1),XV={__name:"SignUp",setup(t){const e=ql(Gn),n=Zo(Gn),r=RT(),s=ve(!1),i=ve(!1),o=ve(!1),a=()=>{s.value||(s.value=!0,o.value=!1)},c=ve({money:[],todoList:[],email:""}),l=Si(),{memberId:u}=_i(l),h=async()=>{try{console.log("Adding member data:",c.value);const d=await BD(sT(e,"fireBaseData"),c.value);u.value=d.id,r.push("/crud")}catch(d){console.error("新增進firebase錯誤",d)}},f=async d=>{i.value=!0;try{const m=await aC(n,d.email,d.password);c.value.email=m.user.email,await h(),localStorage.setItem("id",u.value),localStorage.setItem("email",m.user.email)}catch(m){i.value=!1,o.value=!0,console.log("失敗",m.message)}finally{s.value=!1}};return(d,m)=>(Ee(),Oe("div",KV,[i.value?(Ee(),Oe("div",JV,[YV,ae(Yd)])):(Ee(),Oe("div",zV,[ae(XT,{"is-submit":s.value,onSubmitData:f},null,8,["is-submit"]),o.value?(Ee(),Oe("p",GV,[Qe(" 帳號或密碼錯誤，請重新輸入"),QV])):Hn("",!0),ae(Kr,{onClick:a,class:"max-w-72 m-0 mx-auto w-full rounded-md"},{default:ct(()=>[Qe(" 註冊 ")]),_:1})]))]))}},ZV={class:"LogInContent mx-auto m-8 max-w-4xl"},eL={key:0,class:"memberBlock"},tL={key:0,class:"text-rose-600 mb-2"},nL=Y("br",null,null,-1),rL={key:1,class:"noticeBlock"},sL=Y("p",null,"Loading...",-1),iL={__name:"Login",setup(t){const e=Si(),{memberId:n}=_i(e);ql(Gn);const r=Zo(Gn),s=RT(),i=ve(!1),o=ve(!1),a=ve(!1),c=()=>{i.value||(i.value=!0,a.value=!1)},l=async u=>{o.value=!0;try{const h=await cC(r,u.email,u.password),f=await e.fetchUserData(h.user.email);n.value=f[0].id,localStorage.setItem("id",f[0].id),localStorage.setItem("email",f[0].email),s.push("/crud")}catch(h){o.value=!1,a.value=!0;const f=h.code;console.log(f);const d=h.message;console.log(d)}finally{i.value=!1}};return(u,h)=>(Ee(),Oe("div",ZV,[o.value?(Ee(),Oe("div",rL,[sL,ae(Yd)])):(Ee(),Oe("div",eL,[ae(XT,{"is-submit":i.value,onSubmitData:l},null,8,["is-submit"]),a.value?(Ee(),Oe("p",tL,[Qe(" 帳號或密碼錯誤，請重新輸入"),nL,Qe(" 若您要加入會員請按「註冊」 ")])):Hn("",!0),ae(Kr,{onClick:c,class:"max-w-72 m-0 mx-auto w-full rounded-md"},{default:ct(()=>[Qe(" 登入 ")]),_:1})]))]))}},oL={key:0,class:"mx-auto max-w-4xl m-8"},aL=Y("div",{class:"noticeBlock"},"請登入",-1),cL=[aL],lL={key:1,class:"mx-auto my-0 m-8 max-w-4xl"},uL={class:"item_nav flex justify-center gap-10 my-7 mx-auto flex-wrap cursor-pointer"},hL=["onClick"],fL={class:"inputBlock text_content"},dL=Y("p",{class:"text-start mb-1"},"日期：",-1),pL=Y("p",{class:"text-start mb-1"},"類別：",-1),mL=Y("option",{value:"pay"},"支出",-1),gL=Y("option",{value:"income"},"收入",-1),_L=[mL,gL],yL=Y("p",{class:"text-start mb-1"},"金額：",-1),vL=Y("p",{class:"text-start mb-1"},"記帳項目：",-1),EL={class:"inputBlock"},wL={class:"flex mb-5"},TL={class:""},bL={class:"text-start break-all"},IL=Y("br",null,null,-1),AL=Y("br",null,null,-1),SL={class:"flex gap-6 justify-center mt-2"},RL={class:"bg-gray-300 text-blue-400 p-3 border rounded-sm"},CL=Y("p",{class:"text-start mb-1"},"日期：",-1),PL=Y("p",{class:"text-start mb-1"},"類別：",-1),OL=Y("option",{value:"pay"},"支出",-1),kL=Y("option",{value:"income"},"收入",-1),DL=[OL,kL],NL=Y("p",{class:"text-start mb-1"},"金額：",-1),xL=Y("p",{class:"text-start mb-1"},"記帳項目：",-1),VL={class:"flex justify-between"},LL={style:{"margin-top":"40px"}},ML={class:"text-end"},FL={__name:"CRUD",setup(t){const e=ve(!1),n=ql(Gn);Zo(Gn);const r=Si(),{memberId:s,memberEmail:i,isUserLoggedIn:o}=_i(r),a=ve({}),c=ve(null),l=[{name:"記帳",enName:"accounts"},{name:"查帳",enName:"searchAccounts"}],u=ve("accounts"),h=async P=>{if(u.value=P,P=="searchAccounts"){const T=await r.fetchUserData(i.value);d.value=T[0].money}},f=ve({date:"",type:"pay",amount:"",items:"",id:""}),d=ve([]),m=async()=>{const P=f.value.date==="",T=f.value.amount==="",S=f.value.items==="";if(P||S||T){alert("請填入資料");return}else try{f.value.id=Date.now();const F=(await r.fetchUserData(i.value))[0].money;F.push(f.value),await ku(tc(n,"fireBaseData",s.value),{money:F}),f.value.date="",f.value.amount="",f.value.items="",f.value.id="",alert("已新增成功")}catch(I){console.error("新增進firebase錯誤",I)}},y=ve(""),E=ve("");function R(){const P=new Date;return`${P.getFullYear()}-${String(P.getMonth()+1).padStart(2,"0")}`}const w=Xe(()=>{const P=new Date(y.value),T=P.getFullYear(),S=P.getMonth()+1;return E.value=`${T}-${String(S).padStart(2,"0")}`,d.value.filter(I=>{const F=new Date(I.date),N=F.getFullYear(),H=F.getMonth()+1;return N===T&&H===S})}),_=Xe(()=>{const P=w.value.reduce((S,I)=>(I.type=="income"&&(S+=I.amount),S),0),T=w.value.reduce((S,I)=>(I.type=="pay"&&(S+=I.amount),S),0);return P-T});async function v(P,T){const I=(await r.fetchUserData(i.value))[0].money;if(I.length>0){const F=I.findIndex(N=>N.id==P.id);F!==-1&&(a.value={...I[F]},c.value=T,e.value=!0)}}async function b(P,T){try{if(a.value.date!==""&&a.value.type!==""&&a.value.amount!==""&&a.value.items!==""){console.log(a.value.date);const I=(await r.fetchUserData(i.value))[0].money,F=I.findIndex(N=>N.id==P.id);if(F!==-1){I[F]={...a.value},await ku(tc(n,"fireBaseData",s.value),{money:I}),alert("資料已成功更新"),T();const N=await r.fetchUserData(i.value);d.value=N[0].money}}else alert("請填寫所有欄位")}catch(S){console.error("更新資料時發生錯誤：",S)}}async function A(P){const S=(await r.fetchUserData(i.value))[0].money;if(S.length>0){const I=S.findIndex(F=>F.id==P.id);I!==-1?S.splice(I,1):console.log("錯")}try{await ku(tc(n,"fireBaseData",s.value),{money:S}),alert("已刪除資料");const I=await r.fetchUserData(i.value);d.value=I[0].money}catch(I){console.error("Error: ",I)}}return kn(async()=>{const P=R();y.value=P;const T=await r.fetchUserData(i.value);d.value=T[0].money}),(P,T)=>{const S=po("Popper");return Ee(),Oe(Ke,null,[Be(o)?Hn("",!0):(Ee(),Oe("div",oL,cL)),Be(o)?(Ee(),Oe("div",lL,[Y("div",uL,[(Ee(),Oe(Ke,null,dc(l,(I,F)=>Y("p",{key:F,onClick:N=>h(I.enName),class:gi({"active bg-gray-200 px-7 py-3 text-white rounded-md":u.value===I.enName,"bg-white px-7 py-3 text-black rounded-md hover:bg-gray-200 hover:text-white":u.value!==I.enName})},Bt(I.name),11,hL)),64))]),vt(Y("div",fL,[Y("div",null,[dL,vt(Y("input",{type:"date","onUpdate:modelValue":T[0]||(T[0]=I=>f.value.date=I),class:"border w-full mb-2"},null,512),[[Dt,f.value.date]]),pL,vt(Y("select",{"onUpdate:modelValue":T[1]||(T[1]=I=>f.value.type=I),class:"border w-full mb-2",name:"type"},_L,512),[[wc,f.value.type]]),yL,vt(Y("input",{type:"number","onUpdate:modelValue":T[2]||(T[2]=I=>f.value.amount=I),class:"border w-full mb-2"},null,512),[[Dt,f.value.amount]]),vL,vt(Y("textarea",{class:"border w-full mb-2","onUpdate:modelValue":T[3]||(T[3]=I=>f.value.items=I)},null,512),[[Dt,f.value.items]])]),ae(Kr,{onClick:m,class:"mt-3"},{default:ct(()=>[Qe("送出")]),_:1})],512),[[_o,u.value==="accounts"]]),vt(Y("div",EL,[Y("div",wL,[vt(Y("input",{type:"month","onUpdate:modelValue":T[4]||(T[4]=I=>y.value=I),class:"border w-full max-w-64"},null,512),[[Dt,y.value]])]),(Ee(!0),Oe(Ke,null,dc(w.value,(I,F)=>(Ee(),Oe("div",{class:"bg-stone-100 mb-4 p-3",key:F},[Y("div",TL,[Y("p",bL,[Qe(" 日期："+Bt(I.date)+" ",1),IL,Qe(" "+Bt(I.type==="pay"?"支出":"收入")+" ： "+Bt(I.amount)+" ",1),AL,Qe(" 記帳項目："+Bt(I.items),1)])]),Y("div",SL,[ae(S,{show:e.value&&c.value===F,"onClose:popper":T[9]||(T[9]=N=>e.value=!1)},{content:ct(({close:N})=>[Y("div",RL,[Y("div",null,[CL,vt(Y("input",{type:"date","onUpdate:modelValue":T[5]||(T[5]=H=>a.value.date=H),class:"border w-full mb-2"},null,512),[[Dt,a.value.date]]),PL,vt(Y("select",{name:"type","onUpdate:modelValue":T[6]||(T[6]=H=>a.value.type=H),id:"",class:"border w-full mb-2"},DL,512),[[wc,a.value.type]]),NL,vt(Y("input",{type:"number","onUpdate:modelValue":T[7]||(T[7]=H=>a.value.amount=H),class:"border w-full mb-2"},null,512),[[Dt,a.value.amount]]),xL,vt(Y("textarea",{class:"border w-full mb-2","onUpdate:modelValue":T[8]||(T[8]=H=>a.value.items=H)},null,512),[[Dt,a.value.items]]),Y("div",VL,[ae(Kr,{onClick:H=>b(I,N)},{default:ct(()=>[Qe("儲存")]),_:2},1032,["onClick"]),ae(Kr,{onClick:N},{default:ct(()=>[Qe("取消")]),_:2},1032,["onClick"])])])])]),default:ct(()=>[ae(Kr,{onClick:N=>v(I,F)},{default:ct(()=>[Qe(" 修改 ")]),_:2},1032,["onClick"])]),_:2},1032,["show"]),ae(Kr,{onClick:N=>A(I)},{default:ct(()=>[Qe("刪除")]),_:2},1032,["onClick"])])]))),128)),Y("div",LL,[Y("p",ML,"結餘："+Bt(_.value),1)])],512),[[_o,u.value==="searchAccounts"]])])):Hn("",!0)],64)}}},UL=[{path:"/",name:"Home",component:UV},{path:"/signup",name:"註冊",component:XV},{path:"/login",name:"登入",component:iL},{path:"/exchange",name:"即時匯率",component:YT},{path:"/crud",name:"即時匯率",component:FL}],BL=ZN({history:CN(),routes:UL});function ef(t,e,n){var r,s,i,o,a;e==null&&(e=100);function c(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(c,e-u):(r=null,n||(a=t.apply(i,s),i=s=null))}var l=function(){i=this,s=arguments,o=Date.now();var u=n&&!r;return r||(r=setTimeout(c,e)),u&&(a=t.apply(i,s),i=s=null),a};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(a=t.apply(i,s),i=s=null,clearTimeout(r),r=null)},l}ef.debounce=ef;var Uu=ef;function $L(t,e,n){qe(t)?Wt(t,(r,s)=>{s==null||s.removeEventListener(e,n),r==null||r.addEventListener(e,n)}):kn(()=>{t.addEventListener(e,n)}),ys(()=>{var r;(r=Be(t))===null||r===void 0||r.removeEventListener(e,n)})}function jL(t,e){const n="pointerdown";return typeof window>"u"||!window?void 0:$L(window,n,s=>{const i=Be(t);i&&(i===s.target||s.composedPath().includes(i)||e(s))})}function HL(t,e,n){let r=null;const s=ve(!1);kn(()=>{(t.content!==void 0||n.value)&&(s.value=!0),r=new MutationObserver(i),r.observe(e.value,{childList:!0,subtree:!0})}),ys(()=>r.disconnect()),Wt(n,o=>{o?s.value=!0:s.value=!1});const i=()=>{t.content?s.value=!0:s.value=!1};return{hasContent:s}}function hi(t,e){var n=t.getBoundingClientRect(),r=1,s=1;return{width:n.width/r,height:n.height/s,top:n.top/s,right:n.right/r,bottom:n.bottom/s,left:n.left/r,x:n.left/r,y:n.top/s}}function fn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Xd(t){var e=fn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Fo(t){var e=fn(t).Element;return t instanceof e||t instanceof Element}function Zt(t){var e=fn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ZT(t){if(typeof ShadowRoot>"u")return!1;var e=fn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qL(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function WL(t){return t===fn(t)||!Zt(t)?Xd(t):qL(t)}function On(t){return t?(t.nodeName||"").toLowerCase():null}function Br(t){return((Fo(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zd(t){return hi(Br(t)).left+Xd(t).scrollLeft}function Xn(t){return fn(t).getComputedStyle(t)}function ep(t){var e=Xn(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function KL(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return n!==1||r!==1}function zL(t,e,n){n===void 0&&(n=!1);var r=Zt(e);Zt(e)&&KL(e);var s=Br(e),i=hi(t),o={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(r||!r&&!n)&&((On(e)!=="body"||ep(s))&&(o=WL(e)),Zt(e)?(a=hi(e),a.x+=e.clientLeft,a.y+=e.clientTop):s&&(a.x=Zd(s))),{x:i.left+o.scrollLeft-a.x,y:i.top+o.scrollTop-a.y,width:i.width,height:i.height}}function tp(t){var e=hi(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function tu(t){return On(t)==="html"?t:t.assignedSlot||t.parentNode||(ZT(t)?t.host:null)||Br(t)}function e0(t){return["html","body","#document"].indexOf(On(t))>=0?t.ownerDocument.body:Zt(t)&&ep(t)?t:e0(tu(t))}function ao(t,e){var n;e===void 0&&(e=[]);var r=e0(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=fn(r),o=s?[i].concat(i.visualViewport||[],ep(r)?r:[]):r,a=e.concat(o);return s?a:a.concat(ao(tu(o)))}function GL(t){return["table","td","th"].indexOf(On(t))>=0}function Yg(t){return!Zt(t)||Xn(t).position==="fixed"?null:t.offsetParent}function QL(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&Zt(t)){var r=Xn(t);if(r.position==="fixed")return null}for(var s=tu(t);Zt(s)&&["html","body"].indexOf(On(s))<0;){var i=Xn(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function ya(t){for(var e=fn(t),n=Yg(t);n&&GL(n)&&Xn(n).position==="static";)n=Yg(n);return n&&(On(n)==="html"||On(n)==="body"&&Xn(n).position==="static")?e:n||QL(t)||e}var en="top",un="bottom",hn="right",tn="left",np="auto",va=[en,un,hn,tn],fi="start",Uo="end",JL="clippingParents",t0="viewport",Li="popper",YL="reference",Xg=va.reduce(function(t,e){return t.concat([e+"-"+fi,e+"-"+Uo])},[]),n0=[].concat(va,[np]).reduce(function(t,e){return t.concat([e,e+"-"+fi,e+"-"+Uo])},[]),XL="beforeRead",ZL="read",eM="afterRead",tM="beforeMain",nM="main",rM="afterMain",sM="beforeWrite",iM="write",oM="afterWrite",aM=[XL,ZL,eM,tM,nM,rM,sM,iM,oM];function cM(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var c=e.get(a);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function lM(t){var e=cM(t);return aM.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function uM(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Sn(t){return t.split("-")[0]}function hM(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}function fM(t){var e=fn(t),n=Br(t),r=e.visualViewport,s=n.clientWidth,i=n.clientHeight,o=0,a=0;return r&&(s=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,a=r.offsetTop)),{width:s,height:i,x:o+Zd(t),y:a}}var Sr=Math.max,Bo=Math.min,Ha=Math.round;function dM(t){var e,n=Br(t),r=Xd(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=Sr(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=Sr(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-r.scrollLeft+Zd(t),c=-r.scrollTop;return Xn(s||n).direction==="rtl"&&(a+=Sr(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:a,y:c}}function r0(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ZT(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function tf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function pM(t){var e=hi(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Zg(t,e){return e===t0?tf(fM(t)):Zt(e)?pM(e):tf(dM(Br(t)))}function mM(t){var e=ao(tu(t)),n=["absolute","fixed"].indexOf(Xn(t).position)>=0,r=n&&Zt(t)?ya(t):t;return Fo(r)?e.filter(function(s){return Fo(s)&&r0(s,r)&&On(s)!=="body"}):[]}function gM(t,e,n){var r=e==="clippingParents"?mM(t):[].concat(e),s=[].concat(r,[n]),i=s[0],o=s.reduce(function(a,c){var l=Zg(t,c);return a.top=Sr(l.top,a.top),a.right=Bo(l.right,a.right),a.bottom=Bo(l.bottom,a.bottom),a.left=Sr(l.left,a.left),a},Zg(t,i));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function di(t){return t.split("-")[1]}function rp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function s0(t){var e=t.reference,n=t.element,r=t.placement,s=r?Sn(r):null,i=r?di(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,c;switch(s){case en:c={x:o,y:e.y-n.height};break;case un:c={x:o,y:e.y+e.height};break;case hn:c={x:e.x+e.width,y:a};break;case tn:c={x:e.x-n.width,y:a};break;default:c={x:e.x,y:e.y}}var l=s?rp(s):null;if(l!=null){var u=l==="y"?"height":"width";switch(i){case fi:c[l]=c[l]-(e[u]/2-n[u]/2);break;case Uo:c[l]=c[l]+(e[u]/2-n[u]/2);break}}return c}function i0(){return{top:0,right:0,bottom:0,left:0}}function o0(t){return Object.assign({},i0(),t)}function a0(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}function sp(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.boundary,o=i===void 0?JL:i,a=n.rootBoundary,c=a===void 0?t0:a,l=n.elementContext,u=l===void 0?Li:l,h=n.altBoundary,f=h===void 0?!1:h,d=n.padding,m=d===void 0?0:d,y=o0(typeof m!="number"?m:a0(m,va)),E=u===Li?YL:Li,R=t.rects.popper,w=t.elements[f?E:u],_=gM(Fo(w)?w:w.contextElement||Br(t.elements.popper),o,c),v=hi(t.elements.reference),b=s0({reference:v,element:R,strategy:"absolute",placement:s}),A=tf(Object.assign({},R,b)),P=u===Li?A:v,T={top:_.top-P.top+y.top,bottom:P.bottom-_.bottom+y.bottom,left:_.left-P.left+y.left,right:P.right-_.right+y.right},S=t.modifiersData.offset;if(u===Li&&S){var I=S[s];Object.keys(T).forEach(function(F){var N=[hn,un].indexOf(F)>=0?1:-1,H=[en,un].indexOf(F)>=0?"y":"x";T[F]+=I[H]*N})}return T}var e_={placement:"bottom",modifiers:[],strategy:"absolute"};function t_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _M(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?e_:s;return function(a,c,l){l===void 0&&(l=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},e_,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},h=[],f=!1,d={state:u,setOptions:function(R){var w=typeof R=="function"?R(u.options):R;y(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:Fo(a)?ao(a):a.contextElement?ao(a.contextElement):[],popper:ao(c)};var _=lM(hM([].concat(r,u.options.modifiers)));return u.orderedModifiers=_.filter(function(v){return v.enabled}),m(),d.update()},forceUpdate:function(){if(!f){var R=u.elements,w=R.reference,_=R.popper;if(t_(w,_)){u.rects={reference:zL(w,ya(_),u.options.strategy==="fixed"),popper:tp(_)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(I){return u.modifiersData[I.name]=Object.assign({},I.data)});for(var v=0;v<u.orderedModifiers.length;v++){if(u.reset===!0){u.reset=!1,v=-1;continue}var b=u.orderedModifiers[v],A=b.fn,P=b.options,T=P===void 0?{}:P,S=b.name;typeof A=="function"&&(u=A({state:u,options:T,name:S,instance:d})||u)}}}},update:uM(function(){return new Promise(function(E){d.forceUpdate(),E(u)})}),destroy:function(){y(),f=!0}};if(!t_(a,c))return d;d.setOptions(l).then(function(E){!f&&l.onFirstUpdate&&l.onFirstUpdate(E)});function m(){u.orderedModifiers.forEach(function(E){var R=E.name,w=E.options,_=w===void 0?{}:w,v=E.effect;if(typeof v=="function"){var b=v({state:u,name:R,instance:d,options:_}),A=function(){};h.push(b||A)}})}function y(){h.forEach(function(E){return E()}),h=[]}return d}}var qa={passive:!0};function yM(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,a=o===void 0?!0:o,c=fn(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&l.forEach(function(u){u.addEventListener("scroll",n.update,qa)}),a&&c.addEventListener("resize",n.update,qa),function(){i&&l.forEach(function(u){u.removeEventListener("scroll",n.update,qa)}),a&&c.removeEventListener("resize",n.update,qa)}}var vM={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:yM,data:{}};function EM(t){var e=t.state,n=t.name;e.modifiersData[n]=s0({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var wM={name:"popperOffsets",enabled:!0,phase:"read",fn:EM,data:{}},TM={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bM(t){var e=t.x,n=t.y,r=window,s=r.devicePixelRatio||1;return{x:Ha(Ha(e*s)/s)||0,y:Ha(Ha(n*s)/s)||0}}function n_(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,h=u===!0?bM(o):typeof u=="function"?u(o):o,f=h.x,d=f===void 0?0:f,m=h.y,y=m===void 0?0:m,E=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),w=tn,_=en,v=window;if(l){var b=ya(n),A="clientHeight",P="clientWidth";b===fn(n)&&(b=Br(n),Xn(b).position!=="static"&&a==="absolute"&&(A="scrollHeight",P="scrollWidth")),b=b,(s===en||(s===tn||s===hn)&&i===Uo)&&(_=un,y-=b[A]-r.height,y*=c?1:-1),(s===tn||(s===en||s===un)&&i===Uo)&&(w=hn,d-=b[P]-r.width,d*=c?1:-1)}var T=Object.assign({position:a},l&&TM);if(c){var S;return Object.assign({},T,(S={},S[_]=R?"0":"",S[w]=E?"0":"",S.transform=(v.devicePixelRatio||1)<=1?"translate("+d+"px, "+y+"px)":"translate3d("+d+"px, "+y+"px, 0)",S))}return Object.assign({},T,(e={},e[_]=R?y+"px":"",e[w]=E?d+"px":"",e.transform="",e))}function IM(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,a=n.roundOffsets,c=a===void 0?!0:a,l={placement:Sn(e.placement),variation:di(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,n_(Object.assign({},l,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,n_(Object.assign({},l,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var AM={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:IM,data:{}};function SM(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!Zt(i)||!On(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var a=s[o];a===!1?i.removeAttribute(o):i.setAttribute(o,a===!0?"":a)}))})}function RM(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(c,l){return c[l]="",c},{});!Zt(s)||!On(s)||(Object.assign(s.style,a),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}var CM={name:"applyStyles",enabled:!0,phase:"write",fn:SM,effect:RM,requires:["computeStyles"]},PM=[vM,wM,AM,CM],OM=_M({defaultModifiers:PM});function kM(t){return t==="x"?"y":"x"}function oc(t,e,n){return Sr(t,Bo(e,n))}function DM(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!1:o,c=n.boundary,l=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=f===void 0?!0:f,m=n.tetherOffset,y=m===void 0?0:m,E=sp(e,{boundary:c,rootBoundary:l,padding:h,altBoundary:u}),R=Sn(e.placement),w=di(e.placement),_=!w,v=rp(R),b=kM(v),A=e.modifiersData.popperOffsets,P=e.rects.reference,T=e.rects.popper,S=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,I={x:0,y:0};if(A){if(i||a){var F=v==="y"?en:tn,N=v==="y"?un:hn,H=v==="y"?"height":"width",me=A[v],ue=A[v]+E[F],B=A[v]-E[N],te=d?-T[H]/2:0,K=w===fi?P[H]:T[H],Re=w===fi?-T[H]:-P[H],xe=e.elements.arrow,Ge=d&&xe?tp(xe):{width:0,height:0},He=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:i0(),Mt=He[F],Rt=He[N],rt=oc(0,P[H],Ge[H]),Fe=_?P[H]/2-te-rt-Mt-S:K-rt-Mt-S,D=_?-P[H]/2+te+rt+Rt+S:Re+rt+Rt+S,z=e.elements.arrow&&ya(e.elements.arrow),O=z?v==="y"?z.clientTop||0:z.clientLeft||0:0,q=e.modifiersData.offset?e.modifiersData.offset[e.placement][v]:0,de=A[v]+Fe-q-O,ge=A[v]+D-q;if(i){var p=oc(d?Bo(ue,de):ue,me,d?Sr(B,ge):B);A[v]=p,I[v]=p-me}if(a){var g=v==="x"?en:tn,C=v==="x"?un:hn,x=A[b],k=x+E[g],$=x-E[C],G=oc(d?Bo(k,de):k,x,d?Sr($,ge):$);A[b]=G,I[b]=G-x}}e.modifiersData[r]=I}}var NM={name:"preventOverflow",enabled:!0,phase:"main",fn:DM,requiresIfExists:["offset"]},xM={left:"right",right:"left",bottom:"top",top:"bottom"};function ac(t){return t.replace(/left|right|bottom|top/g,function(e){return xM[e]})}var VM={start:"end",end:"start"};function r_(t){return t.replace(/start|end/g,function(e){return VM[e]})}function LM(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,l=c===void 0?n0:c,u=di(r),h=u?a?Xg:Xg.filter(function(m){return di(m)===u}):va,f=h.filter(function(m){return l.indexOf(m)>=0});f.length===0&&(f=h);var d=f.reduce(function(m,y){return m[y]=sp(t,{placement:y,boundary:s,rootBoundary:i,padding:o})[Sn(y)],m},{});return Object.keys(d).sort(function(m,y){return d[m]-d[y]})}function MM(t){if(Sn(t)===np)return[];var e=ac(t);return[r_(t),e,r_(e)]}function FM(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,a=o===void 0?!0:o,c=n.fallbackPlacements,l=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,m=d===void 0?!0:d,y=n.allowedAutoPlacements,E=e.options.placement,R=Sn(E),w=R===E,_=c||(w||!m?[ac(E)]:MM(E)),v=[E].concat(_).reduce(function(Rt,rt){return Rt.concat(Sn(rt)===np?LM(e,{placement:rt,boundary:u,rootBoundary:h,padding:l,flipVariations:m,allowedAutoPlacements:y}):rt)},[]),b=e.rects.reference,A=e.rects.popper,P=new Map,T=!0,S=v[0],I=0;I<v.length;I++){var F=v[I],N=Sn(F),H=di(F)===fi,me=[en,un].indexOf(N)>=0,ue=me?"width":"height",B=sp(e,{placement:F,boundary:u,rootBoundary:h,altBoundary:f,padding:l}),te=me?H?hn:tn:H?un:en;b[ue]>A[ue]&&(te=ac(te));var K=ac(te),Re=[];if(i&&Re.push(B[N]<=0),a&&Re.push(B[te]<=0,B[K]<=0),Re.every(function(Rt){return Rt})){S=F,T=!1;break}P.set(F,Re)}if(T)for(var xe=m?3:1,Ge=function(rt){var Fe=v.find(function(D){var z=P.get(D);if(z)return z.slice(0,rt).every(function(O){return O})});if(Fe)return S=Fe,"break"},He=xe;He>0;He--){var Mt=Ge(He);if(Mt==="break")break}e.placement!==S&&(e.modifiersData[r]._skip=!0,e.placement=S,e.reset=!0)}}var UM={name:"flip",enabled:!0,phase:"main",fn:FM,requiresIfExists:["offset"],data:{_skip:!1}};function BM(t,e,n){var r=Sn(t),s=[tn,en].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],a=i[1];return o=o||0,a=(a||0)*s,[tn,hn].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function $M(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=n0.reduce(function(u,h){return u[h]=BM(h,e.rects,i),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[r]=o}var jM={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$M},HM=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,o0(typeof e!="number"?e:a0(e,va))};function qM(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Sn(n.placement),c=rp(a),l=[tn,hn].indexOf(a)>=0,u=l?"height":"width";if(!(!i||!o)){var h=HM(s.padding,n),f=tp(i),d=c==="y"?en:tn,m=c==="y"?un:hn,y=n.rects.reference[u]+n.rects.reference[c]-o[c]-n.rects.popper[u],E=o[c]-n.rects.reference[c],R=ya(i),w=R?c==="y"?R.clientHeight||0:R.clientWidth||0:0,_=y/2-E/2,v=h[d],b=w-f[u]-h[m],A=w/2-f[u]/2+_,P=oc(v,A,b),T=c;n.modifiersData[r]=(e={},e[T]=P,e.centerOffset=P-A,e)}}function WM(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||r0(e.elements.popper,s)&&(e.elements.arrow=s))}var KM={name:"arrow",enabled:!0,phase:"main",fn:qM,effect:WM,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const Bu=t=>parseInt(t,10);function zM({arrowPadding:t,emit:e,locked:n,offsetDistance:r,offsetSkid:s,placement:i,popperNode:o,triggerNode:a}){const c=Zn({isOpen:!1,popperInstance:null}),l=y=>{var E;(E=c.popperInstance)===null||E===void 0||E.setOptions(R=>({...R,modifiers:[...R.modifiers,{name:"eventListeners",enabled:y}]}))},u=()=>l(!0),h=()=>l(!1),f=()=>{c.isOpen&&(c.isOpen=!1,e("close:popper"))},d=()=>{c.isOpen||(c.isOpen=!0,e("open:popper"))};Wt([()=>c.isOpen,i],async([y])=>{y?(await m(),u()):h()});const m=async()=>{await _s(),c.popperInstance=OM(a.value,o.value,{placement:i.value,modifiers:[NM,UM,{name:"flip",enabled:!n.value},KM,{name:"arrow",options:{padding:Bu(t.value)}},jM,{name:"offset",options:{offset:[Bu(s.value),Bu(r.value)]}}]}),c.popperInstance.update()};return ys(()=>{var y;(y=c.popperInstance)===null||y===void 0||y.destroy()}),{...Xc(c),open:d,close:f}}const GM={id:"arrow","data-popper-arrow":""};function QM(t,e){return Ee(),Oe("div",GM)}function c0(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&r.firstChild?r.insertBefore(s,r.firstChild):r.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var JM=`
#arrow[data-v-20b7fd4a],
  #arrow[data-v-20b7fd4a]::before {
    transition: background 250ms ease-in-out;
    position: absolute;
    width: calc(10px - var(--popper-theme-border-width, 0px));
    height: calc(10px - var(--popper-theme-border-width, 0px));
    box-sizing: border-box;
    background: var(--popper-theme-background-color);
}
#arrow[data-v-20b7fd4a] {
    visibility: hidden;
}
#arrow[data-v-20b7fd4a]::before {
    visibility: visible;
    content: "";
    transform: rotate(45deg);
}

  /* Top arrow */
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a] {
    bottom: -5px;
}
.popper[data-popper-placement^="top"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-bottom: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Bottom arrow */
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a] {
    top: -5px;
}
.popper[data-popper-placement^="bottom"] > #arrow[data-v-20b7fd4a]::before {
    border-left: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Left arrow */
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a] {
    right: -5px;
}
.popper[data-popper-placement^="left"] > #arrow[data-v-20b7fd4a]::before {
    border-right: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
    border-top: var(--popper-theme-border-width)
      var(--popper-theme-border-style) var(--popper-theme-border-color);
}

  /* Right arrow */
.popper[data-popper-placement^="right"] > #arrow[data-v-20b7fd4a] {
    left: -5px;
}
`;c0(JM);const ip={};ip.render=QM;ip.__scopeId="data-v-20b7fd4a";var YM=ip;const XM=["onKeyup"];var l0={props:{placement:{type:String,default:"bottom",validator:function(t){return["auto","auto-start","auto-end","top","top-start","top-end","bottom","bottom-start","bottom-end","right","right-start","right-end","left","left-start","left-end"].includes(t)}},disableClickAway:{type:Boolean,default:!1},offsetSkid:{type:String,default:"0"},offsetDistance:{type:String,default:"12"},hover:{type:Boolean,default:!1},show:{type:Boolean,default:null},disabled:{type:Boolean,default:!1},openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0},zIndex:{type:[Number,String],default:9999},arrow:{type:Boolean,default:!1},arrowPadding:{type:String,default:"0"},interactive:{type:Boolean,default:!0},locked:{type:Boolean,default:!1},content:{type:String,default:null}},emits:["open:popper","close:popper"],setup(t,{emit:e}){const n=t;Uy(K=>({c81fc0a4:t.zIndex}));const r=ny(),s=ve(null),i=ve(null),o=ve(null),a=ve(!1);kn(()=>{const K=r.default();if(K&&K.length>1)return console.error(`[Popper]: The <Popper> component expects only one child element at its root. You passed ${K.length} child nodes.`)});const{arrowPadding:c,closeDelay:l,content:u,disableClickAway:h,disabled:f,interactive:d,locked:m,offsetDistance:y,offsetSkid:E,openDelay:R,placement:w,show:_}=Xc(n),{isOpen:v,open:b,close:A}=zM({arrowPadding:c,emit:e,locked:m,offsetDistance:y,offsetSkid:E,placement:w,popperNode:i,triggerNode:o}),{hasContent:P}=HL(r,i,u),T=Xe(()=>_.value!==null),S=Xe(()=>f.value||!P.value),I=Xe(()=>v.value&&!S.value),F=Xe(()=>!h.value&&!T.value),N=Xe(()=>d.value?`border: ${y.value}px solid transparent; margin: -${y.value}px;`:null),H=Uu.debounce(b,R.value),me=Uu.debounce(A,l.value),ue=async()=>{S.value||T.value||(me.clear(),H())},B=async()=>{T.value||(H.clear(),me())},te=()=>{v.value?B():ue()};return Wt([P,f],([K,Re])=>{v.value&&(!K||Re)&&A()}),Wt(v,K=>{K?a.value=!0:Uu.debounce(()=>{a.value=!1},200)}),Ku(()=>{T.value&&(_.value?H():me())}),Ku(()=>{F.value&&jL(s,B)}),(K,Re)=>(Ee(),Oe("div",{class:"inline-block",style:mi(Be(N)),onMouseleave:Re[2]||(Re[2]=xe=>t.hover&&B()),ref:(xe,Ge)=>{Ge.popperContainerNode=xe,s.value=xe}},[Y("div",{ref:(xe,Ge)=>{Ge.triggerNode=xe,o.value=xe},onMouseover:Re[0]||(Re[0]=xe=>t.hover&&ue()),onClick:te,onFocus:ue,onKeyup:zy(B,["esc"])},[pc(K.$slots,"default")],40,XM),ae(cl,{name:"fade"},{default:ct(()=>[vt(Y("div",{onClick:Re[1]||(Re[1]=xe=>!Be(d)&&B()),class:"popper",ref:(xe,Ge)=>{Ge.popperNode=xe,i.value=xe}},[pc(K.$slots,"content",{close:Be(A),isOpen:a.value},()=>[Qe(Bt(Be(u)),1)]),t.arrow?(Ee(),os(YM,{key:0})):Hn("",!0)],512),[[_o,Be(I)]])]),_:3})],36))}},ZM=`
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.popper[data-v-5784ed69] {
    transition: background 250ms ease-in-out;
    background: var(--popper-theme-background-color);
    padding: var(--popper-theme-padding);
    color: var(--popper-theme-text-color);
    border-radius: var(--popper-theme-border-radius);
    border-width: var(--popper-theme-border-width);
    border-style: var(--popper-theme-border-style);
    border-color: var(--popper-theme-border-color);
    box-shadow: var(--popper-theme-box-shadow);
    z-index: var(--c81fc0a4);
}
.popper[data-v-5784ed69]:hover,
  .popper:hover > #arrow[data-v-5784ed69]::before {
    background: var(--popper-theme-background-color-hover);
}
.inline-block[data-v-5784ed69] {
    display: inline-block;
}
.fade-enter-active[data-v-5784ed69],
  .fade-leave-active[data-v-5784ed69] {
    transition: opacity 0.2s ease;
}
.fade-enter-from[data-v-5784ed69],
  .fade-leave-to[data-v-5784ed69] {
    opacity: 0;
}
`;c0(ZM);l0.__scopeId="data-v-5784ed69";var eF=(()=>{const t=l0;return t.install=e=>{e.component("Popper",t)},t})();const tF=SA(),Ea=Xy(JD);Ea.use(BL);Ea.use(tF);Ea.component("Popper",eF);Ea.mount("#app");Ea.use(JT.LoadingPlugin);
